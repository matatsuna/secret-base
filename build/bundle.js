!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){var r,o;(function(){var n,i,a,u,s,l,c,f,p,h,d,_,v;t.exports=0;a="hasOwnProperty",u=/[\.\/]/,s=/\s*,\s*/,l=function(t,e){return t-e},c={n:{}},f=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},p=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},h=Object.prototype.toString,d=String,_=Array.isArray||function(t){return t instanceof Array||"[object Array]"==h.call(t)},eve=function(t,e){var r,o=i,a=Array.prototype.slice.call(arguments,2),u=eve.listeners(t),s=0,c=[],h={},d=[],_=n;d.firstDefined=f,d.lastDefined=p,n=t,i=0;for(var v=0,y=u.length;v<y;v++)"zIndex"in u[v]&&(c.push(u[v].zIndex),u[v].zIndex<0&&(h[u[v].zIndex]=u[v]));for(c.sort(l);c[s]<0;)if(r=h[c[s++]],d.push(r.apply(e,a)),i)return i=o,d;for(v=0;v<y;v++)if("zIndex"in(r=u[v]))if(r.zIndex==c[s]){if(d.push(r.apply(e,a)),i)break;do{if((r=h[c[++s]])&&d.push(r.apply(e,a)),i)break}while(r)}else h[r.zIndex]=r;else if(d.push(r.apply(e,a)),i)break;return i=o,n=_,d},eve._events=c,eve.listeners=function(t){var e,n,r,o,i,a,s,l,f=_(t)?t:t.split(u),p=c,h=[p],d=[];for(o=0,i=f.length;o<i;o++){for(l=[],a=0,s=h.length;a<s;a++)for(n=[(p=h[a].n)[f[o]],p["*"]],r=2;r--;)(e=n[r])&&(l.push(e),d=d.concat(e.f||[]));h=l}return d},eve.separator=function(t){t?(t="["+(t=d(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",u=new RegExp(t)):u=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=_(t)?_(t[0])?t:[t]:d(t).split(s),r=0,o=n.length;r<o;r++)!function(t){for(var n,r=_(t)?t:d(t).split(u),o=c,i=0,a=r.length;i<a;i++)o=(o=o.n).hasOwnProperty(r[i])&&o[r[i]]||(o[r[i]]={n:{}});for(o.f=o.f||[],i=0,a=o.f.length;i<a;i++)if(o.f[i]==e){n=!0;break}!n&&o.f.push(e)}(n[r]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){i=1},eve.nt=function(t){var e=_(n)?n.join("."):n;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return _(n)?n:n.split(u)},eve.off=eve.unbind=function(t,e){if(t){var n=_(t)?_(t[0])?t:[t]:d(t).split(s);if(n.length>1)for(var r=0,o=n.length;r<o;r++)eve.off(n[r],e);else{n=_(t)?t:d(t).split(u);var i,l,f,p,h,v=[c],y=[];for(r=0,o=n.length;r<o;r++)for(p=0;p<v.length;p+=f.length-2){if(f=[p,1],i=v[p].n,"*"!=n[r])i[n[r]]&&(f.push(i[n[r]]),y.unshift({n:i,name:n[r]}));else for(l in i)i[a](l)&&(f.push(i[l]),y.unshift({n:i,name:l}));v.splice.apply(v,f)}for(r=0,o=v.length;r<o;r++)for(i=v[r];i.n;){if(e){if(i.f){for(p=0,h=i.f.length;p<h;p++)if(i.f[p]==e){i.f.splice(p,1);break}!i.f.length&&delete i.f}for(l in i.n)if(i.n[a](l)&&i.n[l].f){var g=i.n[l].f;for(p=0,h=g.length;p<h;p++)if(g[p]==e){g.splice(p,1);break}!g.length&&delete i.n[l].f}}else for(l in delete i.f,i.n)i.n[a](l)&&i.n[l].f&&delete i.n[l].f;i=i.n}t:for(r=0,o=y.length;r<o;r++){for(l in(i=y[r]).n[i.name].f)continue t;for(l in i.n[i.name].n)continue t;delete i.n[i.name]}}}else eve._events=c={n:{}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},t.exports?t.exports=eve:r=function(){return eve}.apply(e,[]),v=window||this,void 0===(o=function(t){return function(t,e){var n=function(e){var n,r={},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,16,(new Date).getTime()),!0},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},a=0,u="M"+(+new Date).toString(36),s=Date.now||function(){return+new Date},l=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},c=function(t){if(null==t)return this.spd;this.spd=t},f=function(t){var e=this;if(null==t)return e.dur;e.s=e.s*t/e.dur,e.dur=t},p=function(){var t=this;delete r[t.id],t.update(),e("mina.stop."+t.id,t)},h=function(){var t=this;t.pdif||(delete r[t.id],t.update(),t.pdif=t.get()-t.b)},d=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,r[t.id]=t,v())},_=function(){var t,e=this;if(i(e.start)){t=[];for(var n=0,r=e.start.length;n<r;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},v=function(t){if(t){var i=0;for(var a in r)if(r.hasOwnProperty(a)){var u=r[a],s=u.get();i++,u.s=(s-u.b)/(u.dur/u.spd),u.s>=1&&(delete r[a],u.s=1,i--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(u)),u.update()}n=!!i&&o(v)}else n||(n=o(v))},y=function(t,e,n,o,i,s,g){var m={id:u+(a++).toString(36),start:t,end:e,b:n,s:0,dur:o-n,spd:1,get:i,set:s,easing:g||y.linear,status:l,speed:c,duration:f,stop:p,pause:h,resume:d,update:_};r[m.id]=m;var b,k=0;for(b in r)if(r.hasOwnProperty(b)&&2==++k)break;return 1==k&&v(),m};return y.time=s,y.getById=function(t){return r[t]||null},y.linear=function(t){return t},y.easeout=function(t){return Math.pow(t,1.7)},y.easein=function(t){return Math.pow(t,.48)},y.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),r=n-e,o=Math.pow(Math.abs(r),1/3)*(r<0?-1:1),i=-n-e,a=Math.pow(Math.abs(i),1/3)*(i<0?-1:1),u=o+a+.5;return 3*(1-u)*u*u+u*u*u},y.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},y.backout=function(t){if(0==t)return 0;var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},y.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},y.bounce=function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},t.mina=y,y}(void 0===e?function(){}:e),r=function(t){function n(t,e){if(t){if(t.nodeType)return Y(t);if(j(t,"array")&&n.set)return n.set.apply(n,t);if(t instanceof z)return t;if(null==e)return Y(t=r.doc.querySelector(String(t)))}return new q(t=null==t?"100%":t,e=null==e?"100%":e)}n.version="0.5.1",n.toString=function(){return"Snap v"+this.version},n._={};var r={win:t.window,doc:t.window.document};n._.glob=r;var o,i,a="hasOwnProperty",u=String,s=parseFloat,l=parseInt,c=Math,f=c.max,p=c.min,h=c.abs,d=(c.pow,c.PI),_=(c.round,""),v=Object.prototype.toString,y=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,m=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),b={hs:1,rg:1},k=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,w=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,S=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,x=0,P="S"+(+new Date).toString(36),T=function(t){return(t&&t.type?t.type:_)+P+(x++).toString(36)},E="http://www.w3.org/1999/xlink",O="http://www.w3.org/2000/svg",M={};function C(t,e){if(e){if("#text"==t&&(t=r.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=r.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=C(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(E,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(O,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var n in e)if(e[a](n)){var o=u(e[n]);o?"xlink:"==n.substring(0,6)?t.setAttributeNS(E,n.substring(6),o):"xml:"==n.substring(0,4)?t.setAttributeNS(O,n.substring(4),o):t.setAttribute(n,o):t.removeAttribute(n)}}else"text"in e&&(t.nodeValue=e.text)}else t=r.doc.createElementNS(O,t);return t}function j(t,e){return"finite"==(e=u.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||v.call(t).slice(8,-1).toLowerCase()==e}function F(t,e,n){return function r(){var o=Array.prototype.slice.call(arguments,0),i=o.join("␀"),u=r.cache=r.cache||{},s=r.count=r.count||[];return u[a](i)?(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(s,i),n?n(u[i]):u[i]):(s.length>=1e3&&delete u[s.shift()],s.push(i),u[i]=t.apply(e,o),n?n(u[i]):u[i])}}function I(t){return t%360*d/180}n.url=function(t){return"url('#"+t+"')"},n._.$=C,n._.id=T,n.format=(o=/\{([^\}]+)\}/g,i=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return u(t).replace(o,function(t,n){return function(t,e,n){var r=n;return e.replace(i,function(t,e,n,o,i){e=e||o,r&&(e in r&&(r=r[e]),"function"==typeof r&&i&&(r=r()))}),r=(null==r||r==n?t:r)+""}(t,n,e)})}),n._.clone=function t(e){if("function"==typeof e||Object(e)!==e)return e;var n=new e.constructor;for(var r in e)e[a](r)&&(n[r]=t(e[r]));return n},n._.cacher=F,n.rad=I,n.deg=function(t){return 180*t/d%360},n.sin=function(t){return c.sin(n.rad(t))},n.tan=function(t){return c.tan(n.rad(t))},n.cos=function(t){return c.cos(n.rad(t))},n.asin=function(t){return n.deg(c.asin(t))},n.acos=function(t){return n.deg(c.acos(t))},n.atan=function(t){return n.deg(c.atan(t))},n.atan2=function(t){return n.deg(c.atan2(t))},n.angle=function t(e,n,r,o,i,a){if(null==i){var u=e-r,s=n-o;return u||s?(180+180*c.atan2(-s,-u)/d+360)%360:0}return t(e,n,i,a)-t(r,o,i,a)},n.len=function(t,e,r,o){return Math.sqrt(n.len2(t,e,r,o))},n.len2=function(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)},n.closestPoint=function(t,e,n){function r(t){var r=t.x-e,o=t.y-n;return r*r+o*o}for(var o,i,a,u,s=t.node,l=s.getTotalLength(),c=l/s.pathSegList.numberOfItems*.125,f=1/0,p=0;p<=l;p+=c)(u=r(a=s.getPointAtLength(p)))<f&&(o=a,i=p,f=u);for(c*=.5;c>.5;){var h,d,_,v,y,g;(_=i-c)>=0&&(y=r(h=s.getPointAtLength(_)))<f?(o=h,i=_,f=y):(v=i+c)<=l&&(g=r(d=s.getPointAtLength(v)))<f?(o=d,i=v,f=g):c*=.5}return o={x:o.x,y:o.y,length:i,distance:Math.sqrt(f)}},n.is=j,n.snapTo=function(t,e,n){if(n=j(n,"finite")?n:10,j(t,"array")){for(var r=t.length;r--;)if(h(t[r]-e)<=n)return t[r]}else{var o=e%(t=+t);if(o<n)return e-o;if(o>t-n)return e-o+t}return e},n.getRGB=F(function(t){if(!t||(t=u(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:R};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:R};if(!b[a](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=A(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:R};var e,r,o,i,h,d,_=t.match(y);return _?(_[2]&&(o=l(_[2].substring(5),16),r=l(_[2].substring(3,5),16),e=l(_[2].substring(1,3),16)),_[3]&&(o=l((h=_[3].charAt(3))+h,16),r=l((h=_[3].charAt(2))+h,16),e=l((h=_[3].charAt(1))+h,16)),_[4]&&(d=_[4].split(m),e=s(d[0]),"%"==d[0].slice(-1)&&(e*=2.55),r=s(d[1]),"%"==d[1].slice(-1)&&(r*=2.55),o=s(d[2]),"%"==d[2].slice(-1)&&(o*=2.55),"rgba"==_[1].toLowerCase().slice(0,4)&&(i=s(d[3])),d[3]&&"%"==d[3].slice(-1)&&(i/=100)),_[5]?(d=_[5].split(m),e=s(d[0]),"%"==d[0].slice(-1)&&(e/=100),r=s(d[1]),"%"==d[1].slice(-1)&&(r/=100),o=s(d[2]),"%"==d[2].slice(-1)&&(o/=100),("deg"==d[0].slice(-3)||"°"==d[0].slice(-1))&&(e/=360),"hsba"==_[1].toLowerCase().slice(0,4)&&(i=s(d[3])),d[3]&&"%"==d[3].slice(-1)&&(i/=100),n.hsb2rgb(e,r,o,i)):_[6]?(d=_[6].split(m),e=s(d[0]),"%"==d[0].slice(-1)&&(e/=100),r=s(d[1]),"%"==d[1].slice(-1)&&(r/=100),o=s(d[2]),"%"==d[2].slice(-1)&&(o/=100),("deg"==d[0].slice(-3)||"°"==d[0].slice(-1))&&(e/=360),"hsla"==_[1].toLowerCase().slice(0,4)&&(i=s(d[3])),d[3]&&"%"==d[3].slice(-1)&&(i/=100),n.hsl2rgb(e,r,o,i)):(e=p(c.round(e),255),r=p(c.round(r),255),o=p(c.round(o),255),i=p(f(i,0),1),(_={r:e,g:r,b:o,toString:R}).hex="#"+(16777216|o|r<<8|e<<16).toString(16).slice(1),_.opacity=j(i,"finite")?i:1,_)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:R}},n),n.hsb=F(function(t,e,r){return n.hsb2rgb(t,e,r).hex}),n.hsl=F(function(t,e,r){return n.hsl2rgb(t,e,r).hex}),n.rgb=F(function(t,e,n,r){if(j(r,"finite")){var o=c.round;return"rgba("+[o(t),o(e),o(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var A=function(t){var e=r.doc.getElementsByTagName("head")[0]||r.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(A=F(function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var o=r.doc.defaultView.getComputedStyle(e,_).getPropertyValue("color");return o==n?null:o}))(t)},N=function(){return"hsb("+[this.h,this.s,this.b]+")"},L=function(){return"hsl("+[this.h,this.s,this.l]+")"},R=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},B=function(t,e,r){if(null==e&&j(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&j(t,string)){var o=n.getRGB(t);t=o.r,e=o.g,r=o.b}return(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255),[t,e,r]},D=function(t,e,r,o){t=c.round(255*t),e=c.round(255*e),r=c.round(255*r);var i={r:t,g:e,b:r,opacity:j(o,"finite")?o:1,hex:n.rgb(t,e,r),toString:R};return j(o,"finite")&&(i.opacity=o),i};n.color=function(t){var e;return j(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):j(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(j(t,"string")&&(t=n.getRGB(t)),j(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):((t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=R,t},n.hsb2rgb=function(t,e,n,r){var o,i,a,u,s;return j(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),u=(s=n*e)*(1-h((t=(t*=360)%360/60)%2-1)),o=i=a=n-s,D(o+=[s,u,0,0,u,s][t=~~t],i+=[u,s,s,u,0,0][t],a+=[0,0,u,s,s,u][t],r)},n.hsl2rgb=function(t,e,n,r){var o,i,a,u,s;return j(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),u=(s=2*e*(n<.5?n:1-n))*(1-h((t=(t*=360)%360/60)%2-1)),o=i=a=n-s/2,D(o+=[s,u,0,0,u,s][t=~~t],i+=[u,s,s,u,0,0][t],a+=[0,0,u,s,s,u][t],r)},n.rgb2hsb=function(t,e,n){var r,o;return n=B(t,e,n),t=n[0],e=n[1],n=n[2],r=f(t,e,n),{h:((0==(o=r-p(t,e,n))?null:r==t?(e-n)/o:r==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:o/r,b:r,toString:N}},n.rgb2hsl=function(t,e,n){var r,o,i,a;return n=B(t,e,n),t=n[0],e=n[1],n=n[2],o=f(t,e,n),i=p(t,e,n),r=(o+i)/2,{h:((0==(a=o-i)?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:r<.5?a/(2*r):a/(2-2*r),l:r,toString:L}},n.parsePathString=function(t){if(!t)return null;var e=n.path(t);if(e.arr)return n.path.clone(e.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return j(t,"array")&&j(t[0],"array")&&(o=n.path.clone(t)),o.length||u(t).replace(k,function(t,e,n){var i=[],a=e.toLowerCase();if(n.replace(S,function(t,e){e&&i.push(+e)}),"m"==a&&i.length>2&&(o.push([e].concat(i.splice(0,2))),a="l",e="m"==e?"l":"L"),"o"==a&&1==i.length&&o.push([e,i[0]]),"r"==a)o.push([e].concat(i));else for(;i.length>=r[a]&&(o.push([e].concat(i.splice(0,r[a]))),r[a]););}),o.toString=n.path.toString,e.arr=n.path.clone(o),o};var W=n.parseTransformString=function(t){if(!t)return null;var e=[];return j(t,"array")&&j(t[0],"array")&&(e=n.path.clone(t)),e.length||u(t).replace(w,function(t,n,r){var o=[];n.toLowerCase(),r.replace(S,function(t,e){e&&o.push(+e)}),e.push([n].concat(o))}),e.toString=n.path.toString,e};function H(t){return t.node.ownerSVGElement&&Y(t.node.ownerSVGElement)||n.select("svg")}function U(t){j(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){r.appendChild(t.node)}):r.appendChild(t[e].node);var o=r.childNodes;for(e=0;e<o.length;e++)this[n++]=Y(o[e]);return this}function z(t){if(t.snap in M)return M[t.snap];var e;try{e=t.ownerSVGElement}catch(t){}this.node=t,e&&(this.paper=new q(e)),this.type=t.tagName||t.nodeName;var n=this.id=T(this);if(this.anims={},this._={transform:[]},t.snap=n,M[n]=this,"g"==this.type&&(this.add=U),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in q.prototype)q.prototype[a](r)&&(this[r]=q.prototype[r])}function V(t){this.node=t}function G(t,e){var n=C(t);e.appendChild(n);var r=Y(n);return r}function q(t,e){var n,o,i,u=q.prototype;if(t&&t.tagName&&"svg"==t.tagName.toLowerCase()){if(t.snap in M)return M[t.snap];var s=t.ownerDocument;for(var l in n=new z(t),o=t.getElementsByTagName("desc")[0],i=t.getElementsByTagName("defs")[0],o||((o=C("desc")).appendChild(s.createTextNode("Created with Snap")),n.node.appendChild(o)),i||(i=C("defs"),n.node.appendChild(i)),n.defs=i,u)u[a](l)&&(n[l]=u[l]);n.paper=n.root=n}else C((n=G("svg",r.doc.body)).node,{height:e,version:1.1,width:t,xmlns:O});return n}function Y(t){return t?t instanceof z||t instanceof V?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new q(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new q(t.contentDocument.getElementsByTagName("svg")[0]):new z(t):t}n._.svgTransform2string=function(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==n?e.push(["m",1,0,c.tan(I(r[0])),1,0,0]):"skewY"==n?e.push(["m",1,c.tan(I(r[0])),0,1,0,0]):e.push([n.charAt(0)].concat(r)),t}),e},n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=function(t,e){var r=W(t),o=new n.Matrix;if(r)for(var i=0,a=r.length;i<a;i++){var s,l,c,f,p,h=r[i],d=h.length,_=u(h[0]).toLowerCase(),v=h[0]!=_,y=v?o.invert():0;"t"==_&&2==d?o.translate(h[1],0):"t"==_&&3==d?v?(s=y.x(0,0),l=y.y(0,0),c=y.x(h[1],h[2]),f=y.y(h[1],h[2]),o.translate(c-s,f-l)):o.translate(h[1],h[2]):"r"==_?2==d?(p=p||e,o.rotate(h[1],p.x+p.width/2,p.y+p.height/2)):4==d&&(v?(c=y.x(h[2],h[3]),f=y.y(h[2],h[3]),o.rotate(h[1],c,f)):o.rotate(h[1],h[2],h[3])):"s"==_?2==d||3==d?(p=p||e,o.scale(h[1],h[d-1],p.x+p.width/2,p.y+p.height/2)):4==d?v?(c=y.x(h[2],h[3]),f=y.y(h[2],h[3]),o.scale(h[1],h[1],c,f)):o.scale(h[1],h[1],h[2],h[3]):5==d&&(v?(c=y.x(h[3],h[4]),f=y.y(h[3],h[4]),o.scale(h[1],h[2],c,f)):o.scale(h[1],h[2],h[3],h[4])):"m"==_&&7==d&&o.add(h[1],h[2],h[3],h[4],h[5],h[6])}return o},n._unit2px=function(t,e,n){var r=H(t).node,o={},i=r.querySelector(".svg---mgr");function a(t){if(null==t)return _;if(t==+t)return t;C(i,{width:t});try{return i.getBBox().width}catch(t){return 0}}function u(t){if(null==t)return _;if(t==+t)return t;C(i,{height:t});try{return i.getBBox().height}catch(t){return 0}}function s(r,i){null==e?o[r]=i(t.attr(r)||0):r==e&&(o=i(null==n?t.attr(r)||0:n))}switch(i||(i=C("rect"),C(i,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),r.appendChild(i)),t.type){case"rect":s("rx",a),s("ry",u);case"image":s("width",a),s("height",u);case"text":s("x",a),s("y",u);break;case"circle":s("cx",a),s("cy",u),s("r",a);break;case"ellipse":s("cx",a),s("cy",u),s("rx",a),s("ry",u);break;case"line":s("x1",a),s("x2",a),s("y1",u),s("y2",u);break;case"marker":s("refX",a),s("markerWidth",a),s("refY",u),s("markerHeight",u);break;case"radialGradient":s("fx",a),s("fy",u);break;case"tspan":s("dx",a),s("dy",u);break;default:s(e,a)}return r.removeChild(i),o},r.doc.contains||r.doc.compareDocumentPosition,n._.getSomeDefs=function(t){var e=t.node.ownerSVGElement&&Y(t.node.ownerSVGElement)||t.node.parentNode&&Y(t.node.parentNode)||n.select("svg")||n(0,0),r=e.select("defs"),o=null!=r&&r.node;return o||(o=G("defs",e.node).node),o},n._.getSomeSVG=H,n.select=function(t){return t=u(t).replace(/([^\\]):/g,"$1\\:"),Y(r.doc.querySelector(t))},n.selectAll=function(t){for(var e=r.doc.querySelectorAll(t),o=(n.set||Array)(),i=0;i<e.length;i++)o.push(Y(e[i]));return o},setInterval(function(){for(var t in M)if(M[a](t)){var e=M[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete M[t]}},1e4),z.prototype.attr=function(t,n){var r=this,o=r.node;if(!t){if(1!=o.nodeType)return{text:o.nodeValue};for(var i=o.attributes,u={},s=0,l=i.length;s<l;s++)u[i[s].nodeName]=i[s].nodeValue;return u}if(j(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,r).firstDefined();var c={};c[t]=n,t=c}for(var f in t)t[a](f)&&e("snap.util.attr."+f,r,t[f]);return r},n.parse=function(t){var e=r.doc.createDocumentFragment(),n=!0,o=r.doc.createElement("div");if((t=u(t)).match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),o.innerHTML=t,t=o.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new V(e)},n.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=r.doc.createDocumentFragment(),o=0,i=t.length;o<i;o++){var a=t[o];a.node&&a.node.nodeType&&e.appendChild(a.node),a.nodeType&&e.appendChild(a),"string"==typeof a&&e.appendChild(n.parse(a).node)}return new V(e)},n._.make=G,n._.wrap=Y,q.prototype.el=function(t,e){var n=G(t,this.node);return e&&n.attr(e),n},z.prototype.children=function(){for(var t=[],e=this.node.childNodes,r=0,o=e.length;r<o;r++)t[r]=n(e[r]);return t},z.prototype.toJSON=function(){var t=[];return function t(e,n){for(var r=0,o=e.length;r<o;r++){var i={type:e[r].type,attr:e[r].attr()},a=e[r].children();n.push(i),a.length&&t(a,i.childNodes=[])}}([this],t),t[0]},e.on("snap.util.getattr",function(){var t=e.nt(),n=(t=t.substring(t.lastIndexOf(".")+1)).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return J[a](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):C(this.node,t)});var J={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};return e.on("snap.util.attr",function(t){var n=e.nt(),r={};n=n.substring(n.lastIndexOf(".")+1),r[n]=t;var o=n.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),i=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});J[a](i)?this.node.style[o]=null==t?_:t:C(this.node,r)}),q.prototype,n.ajax=function(t,n,r,o){var i=new XMLHttpRequest,a=T();if(i){if(j(n,"function"))o=r,r=n,n=null;else if(j(n,"object")){var u=[];for(var s in n)n.hasOwnProperty(s)&&u.push(encodeURIComponent(s)+"="+encodeURIComponent(n[s]));n=u.join("&")}return i.open(n?"POST":"GET",t,!0),n&&(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(e.once("snap.ajax."+a+".0",r),e.once("snap.ajax."+a+".200",r),e.once("snap.ajax."+a+".304",r)),i.onreadystatechange=function(){4==i.readyState&&e("snap.ajax."+a+"."+i.status,o,i)},4==i.readyState?i:(i.send(n),i)}},n.load=function(t,e,r){n.ajax(t,function(t){var o=n.parse(t.responseText);r?e.call(r,o):e(o)})},n.getElementByPoint=function(t,e){this.canvas;var n,o,i,a,u,s,l,c,f,p=r.doc.elementFromPoint(t,e);if(r.win.opera&&"svg"==p.tagName){var h=(o=(n=p).getBoundingClientRect(),i=n.ownerDocument,a=i.body,u=i.documentElement,s=u.clientTop||a.clientTop||0,l=u.clientLeft||a.clientLeft||0,c=o.top+(g.win.pageYOffset||u.scrollTop||a.scrollTop)-s,f=o.left+(g.win.pageXOffset||u.scrollLeft||a.scrollLeft)-l,{y:c,x:f}),d=p.createSVGRect();d.x=t-h.x,d.y=e-h.y,d.width=d.height=1;var _=p.getIntersectionList(d,null);_.length&&(p=_[_.length-1])}return p?Y(p):null},n.plugin=function(t){t(n,z,q,r,V)},r.win.Snap=n,n}(t||this);return r.plugin(function(n,r,o,i,a){var u=r.prototype,s=n.is,l=String,c=n._unit2px,f=n._.$,p=n._.make,h=n._.getSomeDefs,d="hasOwnProperty",_=n._.wrap;u.getBBox=function(t){if("tspan"==this.type)return n._.box(this.node.getClientRects().item(0));if(!n.Matrix||!n.path)return this.node.getBBox();var e=this,r=new n.Matrix;if(e.removed)return n._.box();for(;"use"==e.type;)if(t||(r=r.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var o=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(o.substring(o.indexOf("#")+1))}var i=e._,a=n.path.get[e.type]||n.path.get.deflt;try{return t?(i.bboxwt=a?n.path.getBBox(e.realPath=a(e)):n._.box(e.node.getBBox()),n._.box(i.bboxwt)):(e.realPath=a(e),e.matrix=e.transform().localMatrix,i.bbox=n.path.getBBox(n.path.map(e.realPath,r.add(e.matrix))),n._.box(i.bbox))}catch(t){return n._.box()}};var v=function(){return this.string};function y(t,e){if(null==e){var r=!0;if(!(e="linearGradient"==t.type||"radialGradient"==t.type?t.node.getAttribute("gradientTransform"):"pattern"==t.type?t.node.getAttribute("patternTransform"):t.node.getAttribute("transform")))return new n.Matrix;e=n._.svgTransform2string(e)}else e=n._.rgTransform.test(e)?l(e).replace(/\.{3}|\u2026/g,t._.transform||""):n._.svgTransform2string(e),s(e,"array")&&(e=n.path?n.path.toString.call(e):l(e)),t._.transform=e;var o=n._.transform2matrix(e,t.getBBox(1));if(r)return o;t.matrix=o}u.transform=function(t){var e=this._;if(null==t){for(var r,o=this,i=new n.Matrix(this.node.getCTM()),a=y(this),u=[a],s=new n.Matrix,c=a.toTransformString(),p=l(a)==l(this.matrix)?l(e.transform):c;"svg"!=o.type&&(o=o.parent());)u.push(y(o));for(r=u.length;r--;)s.add(u[r]);return{string:p,globalMatrix:i,totalMatrix:s,localMatrix:a,diffMatrix:i.clone().add(a.invert()),global:i.toTransformString(),total:s.toTransformString(),local:c,toString:v}}return t instanceof n.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):y(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?f(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?f(this.node,{patternTransform:this.matrix}):f(this.node,{transform:this.matrix})),this},u.parent=function(){return _(this.node.parentNode)},u.append=u.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=_(t),this.node.appendChild(t.node),t.paper=this.paper}return this},u.appendTo=function(t){return t&&(t=_(t)).append(this),this},u.prepend=function(t){if(t){if("set"==t.type){var e,n=this;return t.forEach(function(t){e?e.after(t):n.prepend(t),e=t}),this}var r=(t=_(t)).parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},u.prependTo=function(t){return(t=_(t)).prepend(this),this},u.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()}),this.parent().add(),this}var n=(t=_(t)).parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},u.after=function(t){var e=(t=_(t)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},u.insertBefore=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},u.insertAfter=function(t){t=_(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},u.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},u.select=function(t){return _(this.node.querySelector(t))},u.selectAll=function(t){for(var e=this.node.querySelectorAll(t),r=(n.set||Array)(),o=0;o<e.length;o++)r.push(_(e[o]));return r},u.asPX=function(t,e){return null==e&&(e=this.attr(t)),+c(this,t,e)},u.use=function(){var t,e=this.node.id;return e||(e=this.id,f(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?p(this.type,this.node.parentNode):p("use",this.node.parentNode),f(t.node,{"xlink:href":"#"+e}),t.original=this,t},u.clone=function(){var t=_(this.node.cloneNode(!0));return f(t.node,"id")&&f(t.node,{id:t.id}),function(t){var e,r=t.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,i=[],a={};function u(t,e){var r=f(t.node,e);(r=(r=r&&r.match(o))&&r[2])&&"#"==r.charAt()&&(r=r.substring(1))&&(a[r]=(a[r]||[]).concat(function(r){var o={};o[e]=n.url(r),f(t.node,o)}))}function s(t){var e=f(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1))&&(a[e]=(a[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)}))}for(var l=0,c=r.length;l<c;l++){u(e=r[l],"fill"),u(e,"stroke"),u(e,"filter"),u(e,"mask"),u(e,"clip-path"),s(e);var p=f(e.node,"id");p&&(f(e.node,{id:e.id}),i.push({old:p,id:e.id}))}for(l=0,c=i.length;l<c;l++){var h=a[i[l].old];if(h)for(var d=0,_=h.length;d<_;d++)h[d](i[l].id)}}(t),t.insertAfter(this),t},u.toDefs=function(){return h(this).appendChild(this.node),this},u.pattern=u.toPattern=function(t,e,n,r){var o=p("pattern",h(this));return null==t&&(t=this.getBBox()),s(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,t=t.x),f(o.node,{x:t,y:e,width:n,height:r,patternUnits:"userSpaceOnUse",id:o.id,viewBox:[t,e,n,r].join(" ")}),o.node.appendChild(this.node),o},u.marker=function(t,e,n,r,o,i){var a=p("marker",h(this));return null==t&&(t=this.getBBox()),s(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,o=t.refX||t.cx,i=t.refY||t.cy,t=t.x),f(a.node,{viewBox:[t,e,n,r].join(" "),markerWidth:n,markerHeight:r,orient:"auto",refX:o||0,refY:i||0,id:a.id}),a.node.appendChild(this.node),a};var g={};function m(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(t)for(var o=0,i=n.length;o<i;o++)e+=" "+n[o].name+'="'+n[o].value.replace(/"/g,'\\"')+'"';if(r.length){for(t&&(e+=">"),o=0,i=r.length;o<i;o++)3==r[o].nodeType?e+=r[o].nodeValue:1==r[o].nodeType&&(e+=_(r[o]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}u.data=function(t,r){var o=g[this.id]=g[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,o,null),o;if(1==arguments.length){if(n.is(t,"object")){for(var i in t)t[d](i)&&this.data(i,t[i]);return this}return e("snap.data.get."+this.id,this,o[t],t),o[t]}return o[t]=r,e("snap.data.set."+this.id,this,r,t),this},u.removeData=function(t){return null==t?g[this.id]={}:g[this.id]&&delete g[this.id][t],this},u.outerSVG=u.toString=m(1),u.innerSVG=m(),u.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),r=n.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r)))}},a.prototype.select=u.select,a.prototype.selectAll=u.selectAll}),r.plugin(function(t,r,o,i,a){var u=r.prototype,s=t.is,l=String,c="hasOwnProperty";function f(t,e,n){return function(r){var o=r.slice(t,e);return 1==o.length&&(o=o[0]),n?n(o):o}}var p=function(t,e,r,o){"function"!=typeof r||r.length||(o=r,r=n.linear),this.attr=t,this.dur=e,r&&(this.easing=r),o&&(this.callback=o)};t._.Animation=p,t.animation=function(t,e,n,r){return new p(t,e,n,r)},u.inAnim=function(){var t=[];for(var e in this.anims)this.anims[c](e)&&function(e){t.push({anim:new p(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(this.anims[e]);return t},t.animate=function(t,r,o,i,a,u){"function"!=typeof a||a.length||(u=a,a=n.linear);var s=n.time(),l=n(t,r,s,s+i,n.time,o,a);return u&&e.once("mina.finish."+l.id,u),l},u.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;e<n;e++)t[e].stop();return this},u.animate=function(t,r,o,i){"function"!=typeof o||o.length||(i=o,o=n.linear),t instanceof p&&(i=t.callback,o=t.easing,r=t.dur,t=t.attr);var a,u,h,d,_=[],v=[],y={},g=this;for(var m in t)if(t[c](m)){g.equal?(a=(d=g.equal(m,l(t[m]))).from,u=d.to,h=d.f):(a=+g.attr(m),u=+t[m]);var b=s(a,"array")?a.length:1;y[m]=f(_.length,_.length+b,h),_=_.concat(a),v=v.concat(u)}var k=n.time(),w=n(_,v,k,k+r,n.time,function(t){var e={};for(var n in y)y[c](n)&&(e[n]=y[n](t));g.attr(e)},o);return g.anims[w.id]=w,w._attrs=t,w._callback=i,e("snap.animcreated."+g.id,w),e.once("mina.finish."+w.id,function(){e.off("mina.*."+w.id),delete g.anims[w.id],i&&i.call(g)}),e.once("mina.stop."+w.id,function(){e.off("mina.*."+w.id),delete g.anims[w.id]}),g}}),r.plugin(function(t,e,n,r,o){var i=Object.prototype.toString,a=String,u=Math;function s(t,e,n,r,o,a){if(null==e&&"[object SVGMatrix]"==i.call(t))return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f);null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+o,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}!function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=u.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,r,o,i){if(t&&t instanceof s)return this.add(t.a,t.b,t.c,t.d,t.e,t.f);var a=t*this.a+e*this.c,u=t*this.b+e*this.d;return this.e+=o*this.a+i*this.c,this.f+=o*this.b+i*this.d,this.c=n*this.a+r*this.c,this.d=n*this.b+r*this.d,this.a=a,this.b=u,this},s.prototype.multLeft=function(t,e,n,r,o,i){if(t&&t instanceof s)return this.multLeft(t.a,t.b,t.c,t.d,t.e,t.f);var a=t*this.a+n*this.b,u=t*this.c+n*this.d,l=t*this.e+n*this.f+o;return this.b=e*this.a+r*this.b,this.d=e*this.c+r*this.d,this.f=e*this.e+r*this.f+i,this.a=a,this.c=u,this.e=l,this},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new s(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new s(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){return this.e+=t*this.a+e*this.c,this.f+=t*this.b+e*this.d,this},e.scale=function(t,e,n,r){return null==e&&(e=t),(n||r)&&this.translate(n,r),this.a*=t,this.b*=t,this.c*=e,this.d*=e,(n||r)&&this.translate(-n,-r),this},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var o=+u.cos(e).toFixed(9),i=+u.sin(e).toFixed(9);return this.add(o,i,-i,o,n,r),this.add(1,0,0,1,-n,-r)},e.skewX=function(t){return this.skew(t,0)},e.skewY=function(t){return this.skew(0,t)},e.skew=function(e,n){e=e||0,n=n||0,e=t.rad(e),n=t.rad(n);var r=u.tan(e).toFixed(9),o=u.tan(n).toFixed(9);return this.add(1,o,r,1,0,0)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[a.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.determinant=function(){return this.a*this.d-this.b*this.c},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var o=[[this.a,this.b],[this.c,this.d]];e.scalex=u.sqrt(n(o[0])),r(o[0]),e.shear=o[0][0]*o[1][0]+o[0][1]*o[1][1],o[1]=[o[1][0]-o[0][0]*e.shear,o[1][1]-o[0][1]*e.shear],e.scaley=u.sqrt(n(o[1])),r(o[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var i=o[0][1],a=o[1][1];return a<0?(e.rotate=t.deg(u.acos(a)),i<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(u.asin(i)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:"")+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:""))}}(s.prototype),t.Matrix=s,t.matrix=function(t,e,n,r,o,i){return new s(t,e,n,r,o,i)}}),r.plugin(function(t,n,r,o,i){var a,u=t._.make,s=t._.wrap,l=t.is,c=t._.getSomeDefs,f=/^url\((['"]?)([^)]+)\1\)$/,p=t._.$,h=t.url,d=String,_=t._.separator,v="";function y(r){return function(o){if(e.stop(),o instanceof i&&1==o.node.childNodes.length&&("radialGradient"==o.node.firstChild.tagName||"linearGradient"==o.node.firstChild.tagName||"pattern"==o.node.firstChild.tagName)&&(o=o.node.firstChild,c(this).appendChild(o),o=s(o)),o instanceof n)if("radialGradient"==o.type||"linearGradient"==o.type||"pattern"==o.type){o.node.id||p(o.node,{id:o.id});var a=h(o.node.id)}else a=o.attr(r);else if((a=t.color(o)).error){var u=t(c(this).ownerSVGElement).gradient(o);u?(u.node.id||p(u.node,{id:u.id}),a=h(u.node.id)):a=o}else a=d(a);var l={};l[r]=a,p(this.node,l),this.node.style[r]=v}}t.deurl=function(t){var e=String(t).match(f);return e?e[2]:t},e.on("snap.util.attr.mask",function(t){if(t instanceof n||t instanceof i){if(e.stop(),t instanceof i&&1==t.node.childNodes.length&&(t=t.node.firstChild,c(this).appendChild(t),t=s(t)),"mask"==t.type)var r=t;else(r=u("mask",c(this))).node.appendChild(t.node);!r.node.id&&p(r.node,{id:r.id}),p(this.node,{mask:h(r.id)})}}),a=function(t){if(t instanceof n||t instanceof i){e.stop();for(var r,o=t.node;o;){if("clipPath"===o.nodeName){r=new n(o);break}if("svg"===o.nodeName){r=void 0;break}o=o.parentNode}r||((r=u("clipPath",c(this))).node.appendChild(t.node),!r.node.id&&p(r.node,{id:r.id})),p(this.node,{"clip-path":h(r.node.id||r.id)})}},e.on("snap.util.attr.clip",a),e.on("snap.util.attr.clip-path",a),e.on("snap.util.attr.clipPath",a),e.on("snap.util.attr.fill",y("fill")),e.on("snap.util.attr.stroke",y("stroke"));var g=/^([lr])(?:\(([^)]*)\))?(.*)$/i;function m(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function b(){return e.stop(),this.node.style.fontSize}e.on("snap.util.grad.parse",function(t){var e=(t=d(t)).match(g);if(!e)return null;var n=e[1],r=e[2],o=e[3];1==(r=r.split(/\s*,\s*/).map(function(t){return+t==t?+t:t})).length&&0==r[0]&&(r=[]);var i=(o=(o=o.split("-")).map(function(t){var e={color:(t=t.split(":"))[0]};return t[1]&&(e.offset=parseFloat(t[1])),e})).length,a=0,u=0;function s(t,e){for(var n=(e-a)/(t-u),r=u;r<t;r++)o[r].offset=+(+a+n*(r-u)).toFixed(2);u=t,a=e}i--;for(var l=0;l<i;l++)"offset"in o[l]&&s(l,o[l].offset);return o[i].offset=o[i].offset||100,s(i,o[i].offset),{type:n,params:r,stops:o}}),e.on("snap.util.attr.d",function(n){e.stop(),l(n,"array")&&l(n[0],"array")&&(n=t.path.toString.call(n)),(n=d(n)).match(/[ruo]/i)&&(n=t.path.toAbsolute(n)),p(this.node,{d:n})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=d(t);for(var n=o.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var n;n=l(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):l(t,"array")?t.join(" "):t,p(this.node,{viewBox:n}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),p(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var r,o,i;if(!t&&this.textPath){for(o=this.textPath;o.node.firstChild;)this.node.appendChild(o.node.firstChild);return o.remove(),void delete this.textPath}if(l(t,"string")){var a=c(this),u=s(a.parentNode).path(t);a.appendChild(u.node),r=u.id,u.attr({id:r})}else(t=s(t))instanceof n&&((r=t.attr("id"))||(r=t.id,t.attr({id:r})));if(r)if(o=this.textPath,i=this.node,o)o.attr({"xlink:href":"#"+r});else{for(o=p("textPath",{"xlink:href":"#"+r});i.firstChild;)o.appendChild(i.firstChild);i.appendChild(o),this.textPath=s(o)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var n=this.node,r=function(t){var e=p("tspan");if(l(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(r(t[n]));else e.appendChild(o.doc.createTextNode(t));return e.normalize&&e.normalize(),e};n.firstChild;)n.removeChild(n.firstChild);for(var i=r(t);i.firstChild;)n.appendChild(i.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",m)(-1),e.on("snap.util.attr.font-size",m)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function n(n){return function(){e.stop();var r=o.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==r?r:t(o.doc.getElementById(r.match(f)[1]))}}function r(t){return function(n){e.stop();var r="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""!=n&&n){if("marker"==n.type){var o=n.node.id;return o||p(n.node,{id:n.id}),void(this.node.style[r]=h(o))}}else this.node.style[r]="none"}}e.on("snap.util.getattr.marker-end",n("end"))(-1),e.on("snap.util.getattr.markerEnd",n("end"))(-1),e.on("snap.util.getattr.marker-start",n("start"))(-1),e.on("snap.util.getattr.markerStart",n("start"))(-1),e.on("snap.util.getattr.marker-mid",n("mid"))(-1),e.on("snap.util.getattr.markerMid",n("mid"))(-1),e.on("snap.util.attr.marker-end",r("end"))(-1),e.on("snap.util.attr.markerEnd",r("end"))(-1),e.on("snap.util.attr.marker-start",r("start"))(-1),e.on("snap.util.attr.markerStart",r("start"))(-1),e.on("snap.util.attr.marker-mid",r("mid"))(-1),e.on("snap.util.attr.markerMid",r("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){if("rect"==this.type&&p(this.node,"rx")==p(this.node,"ry"))return e.stop(),p(this.node,"rx")})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=function t(e){for(var n=[],r=e.childNodes,o=0,i=r.length;o<i;o++){var a=r[o];3==a.nodeType&&n.push(a.nodeValue),"tspan"==a.tagName&&(1==a.childNodes.length&&3==a.firstChild.nodeType?n.push(a.firstChild.nodeValue):n.push(t(a)))}return n}(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.fill",function(n){if(!n){e.stop();var r=e("snap.util.getattr.fill",this,!0).firstDefined();return t(t.deurl(r))||r}})(-1),e.on("snap.util.getattr.stroke",function(n){if(!n){e.stop();var r=e("snap.util.getattr.stroke",this,!0).firstDefined();return t(t.deurl(r))||r}})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var n=p(this.node,"viewBox");return n?(n=n.split(_),t._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=p(this.node,"points");return e.stop(),t?t.split(_):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=p(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",b)(-1),e.on("snap.util.getattr.font-size",b)(-1)}),r.plugin(function(t,e,n,r,o){var i=/\S+/g,a=String,u=e.prototype;u.addClass=function(t){var e,n,r,o=a(t||"").match(i)||[],u=this.node,s=u.className.baseVal,l=s.match(i)||[];if(o.length){for(e=0;n=o[e++];)~l.indexOf(n)||l.push(n);s!=(r=l.join(" "))&&(u.className.baseVal=r)}return this},u.removeClass=function(t){var e,n,r,o,u=a(t||"").match(i)||[],s=this.node,l=s.className.baseVal,c=l.match(i)||[];if(c.length){for(e=0;r=u[e++];)~(n=c.indexOf(r))&&c.splice(n,1);l!=(o=c.join(" "))&&(s.className.baseVal=o)}return this},u.hasClass=function(t){return!!~(this.node.className.baseVal.match(i)||[]).indexOf(t)},u.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var n,r,o,a,u=(t||"").match(i)||[],s=this.node,l=s.className.baseVal,c=l.match(i)||[];for(n=0;o=u[n++];)~(r=c.indexOf(o))?c.splice(r,1):c.push(o);return l!=(a=c.join(" "))&&(s.className.baseVal=a),this}}),r.plugin(function(t,n,r,o,i){var a={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},u=String,s=/[a-z]+$/i,l=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function c(t){return t}function f(t){return function(e){return+e.toFixed(3)+t}}e.on("snap.util.attr",function(t){var n=u(t).match(l);if(n){var r=e.nt(),o=r.substring(r.lastIndexOf(".")+1),i=this.attr(o),c={};e.stop();var f=n[3]||"",p=i.match(s),h=a[n[1]];if(p&&p==f?t=h(parseFloat(i),+n[2]):(i=this.asPX(o),t=h(this.asPX(o),this.asPX(o,n[2]+f))),isNaN(i)||isNaN(t))return;c[o]=t,this.attr(c)}})(-10),e.on("snap.util.equal",function(t,n){var r=u(this.attr(t)||""),o=u(n).match(l);if(o){e.stop();var i=o[3]||"",p=r.match(s),h=a[o[1]];return p&&p==i?{from:parseFloat(r),to:h(parseFloat(r),+o[2]),f:f(p)}:{from:r=this.asPX(t),to:h(r,this.asPX(t,o[2]+i)),f:c}}})(-10)}),r.plugin(function(n,r,o,i,a){var u=o.prototype,s=n.is;u.rect=function(t,e,n,r,o,i){var a;return null==i&&(i=o),s(t,"object")&&"[object Object]"==t?a=t:null!=t&&(a={x:t,y:e,width:n,height:r},null!=o&&(a.rx=o,a.ry=i)),this.el("rect",a)},u.circle=function(t,e,n){var r;return s(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,r:n}),this.el("circle",r)};var l=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var r=i.doc.createElement("img"),o=i.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,o.removeChild(r)},r.onerror=t,o.appendChild(r),r.src=e}}();u.image=function(t,e,r,o,i){var a=this.el("image");if(s(t,"object")&&"src"in t)a.attr(t);else if(null!=t){var u={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=r&&(u.x=e,u.y=r),null!=o&&null!=i?(u.width=o,u.height=i):l(t,function(){n._.$(a.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(a.node,u)}return a},u.ellipse=function(t,e,n,r){var o;return s(t,"object")&&"[object Object]"==t?o=t:null!=t&&(o={cx:t,cy:e,rx:n,ry:r}),this.el("ellipse",o)},u.path=function(t){var e;return s(t,"object")&&!s(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},u.group=u.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},u.svg=function(t,e,n,r,o,i,a,u){var l={};return s(t,"object")&&null==e?l=t:(null!=t&&(l.x=t),null!=e&&(l.y=e),null!=n&&(l.width=n),null!=r&&(l.height=r),null!=o&&null!=i&&null!=a&&null!=u&&(l.viewBox=[o,i,a,u])),this.el("svg",l)},u.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},u.ptrn=function(t,e,n,r,o,i,a,u){if(s(t,"object"))var l=t;else l={patternUnits:"userSpaceOnUse"},t&&(l.x=t),e&&(l.y=e),null!=n&&(l.width=n),null!=r&&(l.height=r),l.viewBox=null!=o&&null!=i&&null!=a&&null!=u?[o,i,a,u]:[t||0,e||0,n||0,r||0];return this.el("pattern",l)},u.use=function(t){return null!=t?(t instanceof r&&(t.attr("id")||t.attr({id:n._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):r.prototype.use.call(this)},u.symbol=function(t,e,n,r){var o={};return null!=t&&null!=e&&null!=n&&null!=r&&(o.viewBox=[t,e,n,r]),this.el("symbol",o)},u.text=function(t,e,n){var r={};return s(t,"object")?r=t:null!=t&&(r={x:t,y:e,text:n||""}),this.el("text",r)},u.line=function(t,e,n,r){var o={};return s(t,"object")?o=t:null!=t&&(o={x1:t,x2:n,y1:e,y2:r}),this.el("line",o)},u.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return s(t,"object")&&!s(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},u.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return s(t,"object")&&!s(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){var r=n._.$;function o(){return this.selectAll("stop")}function i(t,e){var o=r("stop"),i={offset:+e+"%"};t=n.color(t),i["stop-color"]=t.hex,t.opacity<1&&(i["stop-opacity"]=t.opacity),r(o,i);for(var a,u=this.stops(),s=0;s<u.length;s++)if(parseFloat(u[s].attr("offset"))>e){this.node.insertBefore(o,u[s].node),a=!0;break}return a||this.node.appendChild(o),this}function a(){if("linearGradient"==this.type){var t=r(this.node,"x1")||0,e=r(this.node,"x2")||1,o=r(this.node,"y1")||0,i=r(this.node,"y2")||0;return n._.box(t,o,math.abs(e-t),math.abs(i-o))}var a=this.node.cx||.5,u=this.node.cy||.5,s=this.node.r||0;return n._.box(a-s,u-s,2*s,2*s)}function s(t){var r=t,o=this.stops();if("string"==typeof t&&(r=e("snap.util.grad.parse",null,"l(0,0,0,1)"+t).firstDefined().stops),n.is(r,"array")){for(var i=0;i<o.length;i++)if(r[i]){var a=n.color(r[i].color),u={offset:r[i].offset+"%"};u["stop-color"]=a.hex,a.opacity<1&&(u["stop-opacity"]=a.opacity),o[i].attr(u)}else o[i].remove();for(i=o.length;i<r.length;i++)this.addStop(r[i].color,r[i].offset);return this}}function l(t,e,u,l,c){var f=n._.make("linearGradient",t);return f.stops=o,f.addStop=i,f.getBBox=a,f.setStops=s,null!=e&&r(f.node,{x1:e,y1:u,x2:l,y2:c}),f}function c(t,e,u,s,l,c){var f=n._.make("radialGradient",t);return f.stops=o,f.addStop=i,f.getBBox=a,null!=e&&r(f.node,{cx:e,cy:u,r:s}),null!=l&&null!=c&&r(f.node,{fx:l,fy:c}),f}u.gradient=function(t){return function(t,n){var o,i=e("snap.util.grad.parse",null,n).firstDefined();if(!i)return null;i.params.unshift(t),o="l"==i.type.toLowerCase()?l.apply(0,i.params):c.apply(0,i.params),i.type!=i.type.toLowerCase()&&r(o.node,{gradientUnits:"userSpaceOnUse"});for(var a=i.stops,u=a.length,s=0;s<u;s++){var f=a[s];o.addStop(f.color,f.offset)}return o}(this.defs,t)},u.gradientLinear=function(t,e,n,r){return l(this.defs,t,e,n,r)},u.gradientRadial=function(t,e,n,r,o){return c(this.defs,t,e,n,r,o)},u.toString=function(){var t,e=this.node.ownerDocument,r=e.createDocumentFragment(),o=e.createElement("div"),i=this.node.cloneNode(!0);return r.appendChild(o),o.appendChild(i),n._.$(i,{xmlns:"http://www.w3.org/2000/svg"}),t=o.innerHTML,r.removeChild(r.firstChild),t},u.toDataURL=function(){if(t&&t.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},u.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):u.clear.call({node:e}),e=t}}()}),r.plugin(function(t,e,n,r){var o=e.prototype,i=t.is,a=t._.clone,u="hasOwnProperty",s=/,?([a-z]),?/gi,l=parseFloat,c=Math,f=c.PI,p=c.min,h=c.max,d=c.pow,_=c.abs;function v(t){var e=v.ps=v.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[u](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function y(t,e,n,r){return null==t&&(t=e=n=r=0),null==e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:c.min(n,r)/2,r2:c.max(n,r)/2,r0:c.sqrt(n*n+r*r)/2,path:N(t,e,n,r),vb:[t,e,n,r].join(" ")}}function g(){return this.join(",").replace(s,"$1")}function m(t){var e=a(t);return e.toString=g,e}function b(t,e,n,r,o,i,a,u,s){return null==s?C(t,e,n,r,o,i,a,u):P(t,e,n,r,o,i,a,u,function(t,e,n,r,o,i,a,u,s){if(!(s<0||C(t,e,n,r,o,i,a,u)<s)){var l,c=.5,f=1-c;for(l=C(t,e,n,r,o,i,a,u,f);_(l-s)>.01;)l=C(t,e,n,r,o,i,a,u,f+=(l<s?1:-1)*(c/=2));return f}}(t,e,n,r,o,i,a,u,s))}function k(n,r){function o(t){return+(+t).toFixed(3)}return t._.cacher(function(t,i,a){t instanceof e&&(t=t.attr("d"));for(var u,s,l,c,f,p="",h={},d=0,_=0,v=(t=z(t)).length;_<v;_++){if("M"==(l=t[_])[0])u=+l[1],s=+l[2];else{if(d+(c=b(u,s,l[1],l[2],l[3],l[4],l[5],l[6]))>i){if(r&&!h.start){if(p+=["C"+o((f=b(u,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d)).start.x),o(f.start.y),o(f.m.x),o(f.m.y),o(f.x),o(f.y)],a)return p;h.start=p,p=["M"+o(f.x),o(f.y)+"C"+o(f.n.x),o(f.n.y),o(f.end.x),o(f.end.y),o(l[5]),o(l[6])].join(),d+=c,u=+l[5],s=+l[6];continue}if(!n&&!r)return f=b(u,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d)}d+=c,u=+l[5],s=+l[6]}p+=l.shift()+l}return h.end=p,f=n?d:r?h:P(u,s,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,t._.clone)}var w=k(1),S=k(),x=k(0,1);function P(t,e,n,r,o,i,a,u,s){var l=1-s,p=d(l,3),h=d(l,2),_=s*s,v=_*s,y=t+2*s*(n-t)+_*(o-2*n+t),g=e+2*s*(r-e)+_*(i-2*r+e),m=n+2*s*(o-n)+_*(a-2*o+n),b=r+2*s*(i-r)+_*(u-2*i+r);return{x:p*t+3*h*s*n+3*l*s*s*o+v*a,y:p*e+3*h*s*r+3*l*s*s*i+v*u,m:{x:y,y:g},n:{x:m,y:b},start:{x:l*t+s*n,y:l*e+s*r},end:{x:l*o+s*a,y:l*i+s*u},alpha:90-180*c.atan2(y-m,g-b)/f}}function T(e,n,r,o,i,a,u,s){t.is(e,"array")||(e=[e,n,r,o,i,a,u,s]);var l=U.apply(null,e);return y(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function E(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function O(t,e){return t=y(t),E(e=y(e),t.x,t.y)||E(e,t.x2,t.y)||E(e,t.x,t.y2)||E(e,t.x2,t.y2)||E(t,e.x,e.y)||E(t,e.x2,e.y)||E(t,e.x,e.y2)||E(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function M(t,e,n,r,o){return t*(t*(-3*e+9*n-9*r+3*o)+6*e-12*n+6*r)-3*e+3*n}function C(t,e,n,r,o,i,a,u,s){null==s&&(s=1);for(var l=(s=s>1?1:s<0?0:s)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=0;d<12;d++){var _=l*f[d]+l,v=M(_,t,n,o,a),y=M(_,e,r,i,u),g=v*v+y*y;h+=p[d]*c.sqrt(g)}return l*h}function j(t,e,n,r,o,i,a,u){if(!(h(t,n)<p(o,a)||p(t,n)>h(o,a)||h(e,r)<p(i,u)||p(e,r)>h(i,u))){var s=(t-n)*(i-u)-(e-r)*(o-a);if(s){var l=((t*r-e*n)*(o-a)-(t-n)*(o*u-i*a))/s,c=((t*r-e*n)*(i-u)-(e-r)*(o*u-i*a))/s,f=+l.toFixed(2),d=+c.toFixed(2);if(!(f<+p(t,n).toFixed(2)||f>+h(t,n).toFixed(2)||f<+p(o,a).toFixed(2)||f>+h(o,a).toFixed(2)||d<+p(e,r).toFixed(2)||d>+h(e,r).toFixed(2)||d<+p(i,u).toFixed(2)||d>+h(i,u).toFixed(2)))return{x:l,y:c}}}}function F(t,e,n){if(!O(T(t),T(e)))return n?0:[];for(var r=~~(C.apply(0,t)/8),o=~~(C.apply(0,e)/8),i=[],a=[],u={},s=n?0:[],l=0;l<r+1;l++){var c=P.apply(0,t.concat(l/r));i.push({x:c.x,y:c.y,t:l/r})}for(l=0;l<o+1;l++)c=P.apply(0,e.concat(l/o)),a.push({x:c.x,y:c.y,t:l/o});for(l=0;l<r;l++)for(var f=0;f<o;f++){var p=i[l],h=i[l+1],d=a[f],v=a[f+1],y=_(h.x-p.x)<.001?"y":"x",g=_(v.x-d.x)<.001?"y":"x",m=j(p.x,p.y,h.x,h.y,d.x,d.y,v.x,v.y);if(m){if(u[m.x.toFixed(4)]==m.y.toFixed(4))continue;u[m.x.toFixed(4)]=m.y.toFixed(4);var b=p.t+_((m[y]-p[y])/(h[y]-p[y]))*(h.t-p.t),k=d.t+_((m[g]-d[g])/(v[g]-d[g]))*(v.t-d.t);b>=0&&b<=1&&k>=0&&k<=1&&(n?s++:s.push({x:m.x,y:m.y,t1:b,t2:k}))}}return s}function I(t,e,n){t=z(t),e=z(e);for(var r,o,i,a,u,s,l,c,f,p,h=n?0:[],d=0,_=t.length;d<_;d++){var v=t[d];if("M"==v[0])r=u=v[1],o=s=v[2];else{"C"==v[0]?(f=[r,o].concat(v.slice(1)),r=f[6],o=f[7]):(f=[r,o,r,o,u,s,u,s],r=u,o=s);for(var y=0,g=e.length;y<g;y++){var m=e[y];if("M"==m[0])i=l=m[1],a=c=m[2];else{"C"==m[0]?(p=[i,a].concat(m.slice(1)),i=p[6],a=p[7]):(p=[i,a,i,a,l,c,l,c],i=l,a=c);var b=F(f,p,n);if(n)h+=b;else{for(var k=0,w=b.length;k<w;k++)b[k].segment1=d,b[k].segment2=y,b[k].bez1=f,b[k].bez2=p;h=h.concat(b)}}}}}return h}function A(t){var e=v(t);if(e.bbox)return a(e.bbox);if(!t)return y();for(var n,r=0,o=0,i=[],u=[],s=0,l=(t=z(t)).length;s<l;s++)if("M"==(n=t[s])[0])r=n[1],o=n[2],i.push(r),u.push(o);else{var c=U(r,o,n[1],n[2],n[3],n[4],n[5],n[6]);i=i.concat(c.min.x,c.max.x),u=u.concat(c.min.y,c.max.y),r=n[5],o=n[6]}var f=p.apply(0,i),d=p.apply(0,u),_=y(f,d,h.apply(0,i)-f,h.apply(0,u)-d);return e.bbox=a(_),_}function N(t,e,n,r,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var i=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return i.toString=g,i}function L(t,e,n,r,o){if(null==o&&null==r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!=o)var i=Math.PI/180,a=t+n*Math.cos(-r*i),u=t+n*Math.cos(-o*i),s=[["M",a,e+n*Math.sin(-r*i)],["A",n,n,0,+(o-r>180),0,u,e+n*Math.sin(-o*i)]];else s=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return s.toString=g,s}var R=t._unit2px,B={path:function(t){return t.attr("path")},circle:function(t){var e=R(t);return L(e.cx,e.cy,e.r)},ellipse:function(t){var e=R(t);return L(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=R(t);return N(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=R(t);return N(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return N(e.x,e.y,e.width,e.height)}};function D(e){var n=v(e);if(n.abs)return m(n.abs);if(i(e,"array")&&i(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r,o=[],a=0,u=0,s=0,l=0,c=0;"M"==e[0][0]&&(s=a=+e[0][1],l=u=+e[0][2],c++,o[0]=["M",a,u]);for(var f,p,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),d=c,_=e.length;d<_;d++){if(o.push(f=[]),(r=(p=e[d])[0])!=r.toUpperCase())switch(f[0]=r.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+a,f[7]=+p[7]+u;break;case"V":f[1]=+p[1]+u;break;case"H":f[1]=+p[1]+a;break;case"R":for(var y=[a,u].concat(p.slice(1)),b=2,k=y.length;b<k;b++)y[b]=+y[b]+a,y[++b]=+y[b]+u;o.pop(),o=o.concat(V(y,h));break;case"O":o.pop(),(y=L(a,u,p[1],p[2])).push(y[0]),o=o.concat(y);break;case"U":o.pop(),o=o.concat(L(a,u,p[1],p[2],p[3])),f=["U"].concat(o[o.length-1].slice(-2));break;case"M":s=+p[1]+a,l=+p[2]+u;default:for(b=1,k=p.length;b<k;b++)f[b]=+p[b]+(b%2?a:u)}else if("R"==r)y=[a,u].concat(p.slice(1)),o.pop(),o=o.concat(V(y,h)),f=["R"].concat(p.slice(-2));else if("O"==r)o.pop(),(y=L(a,u,p[1],p[2])).push(y[0]),o=o.concat(y);else if("U"==r)o.pop(),o=o.concat(L(a,u,p[1],p[2],p[3])),f=["U"].concat(o[o.length-1].slice(-2));else for(var w=0,S=p.length;w<S;w++)f[w]=p[w];if("O"!=(r=r.toUpperCase()))switch(f[0]){case"Z":a=+s,u=+l;break;case"H":a=f[1];break;case"V":u=f[1];break;case"M":s=f[f.length-2],l=f[f.length-1];default:a=f[f.length-2],u=f[f.length-1]}}return o.toString=g,n.abs=m(o),o}function W(t,e,n,r){return[t,e,n,r,n,r]}function H(t,e,n,r,o,i){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*o+2/3*n,1/3*i+2/3*r,o,i]}function U(t,e,n,r,o,i,a,u){for(var s,l,f,d,v,y,g,m,b=[],k=[[],[]],w=0;w<2;++w)if(0==w?(l=6*t-12*n+6*o,s=-3*t+9*n-9*o+3*a,f=3*n-3*t):(l=6*e-12*r+6*i,s=-3*e+9*r-9*i+3*u,f=3*r-3*e),_(s)<1e-12){if(_(l)<1e-12)continue;0<(d=-f/l)&&d<1&&b.push(d)}else g=l*l-4*f*s,m=c.sqrt(g),g<0||(0<(v=(-l+m)/(2*s))&&v<1&&b.push(v),0<(y=(-l-m)/(2*s))&&y<1&&b.push(y));for(var S,x=b.length,P=x;x--;)S=1-(d=b[x]),k[0][x]=S*S*S*t+3*S*S*d*n+3*S*d*d*o+d*d*d*a,k[1][x]=S*S*S*e+3*S*S*d*r+3*S*d*d*i+d*d*d*u;return k[0][P]=t,k[1][P]=e,k[0][P+1]=a,k[1][P+1]=u,k[0].length=k[1].length=P+2,{min:{x:p.apply(0,k[0]),y:p.apply(0,k[1])},max:{x:h.apply(0,k[0]),y:h.apply(0,k[1])}}}function z(e,n){var r=!n&&v(e);if(!n&&r.curve)return m(r.curve);for(var o=D(e),i=n&&D(n),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(e,n,r){var o,i;if(!e)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(e[0]in{T:1,Q:1})&&(n.qx=n.qy=null),e[0]){case"M":n.X=e[1],n.Y=e[2];break;case"A":e=["C"].concat(function e(n,r,o,i,a,u,s,l,p,h){var d,v=120*f/180,y=f/180*(+a||0),g=[],m=t._.cacher(function(t,e,n){return{x:t*c.cos(n)-e*c.sin(n),y:t*c.sin(n)+e*c.cos(n)}});if(!o||!i)return[n,r,l,p,l,p];if(h)O=h[0],M=h[1],T=h[2],E=h[3];else{n=(d=m(n,r,-y)).x,r=d.y,l=(d=m(l,p,-y)).x,p=d.y,c.cos(f/180*a),c.sin(f/180*a);var b=(n-l)/2,k=(r-p)/2,w=b*b/(o*o)+k*k/(i*i);w>1&&(o*=w=c.sqrt(w),i*=w);var S=o*o,x=i*i,P=(u==s?-1:1)*c.sqrt(_((S*x-S*k*k-x*b*b)/(S*k*k+x*b*b))),T=P*o*k/i+(n+l)/2,E=P*-i*b/o+(r+p)/2,O=c.asin(((r-E)/i).toFixed(9)),M=c.asin(((p-E)/i).toFixed(9));(O=n<T?f-O:O)<0&&(O=2*f+O),(M=l<T?f-M:M)<0&&(M=2*f+M),s&&O>M&&(O-=2*f),!s&&M>O&&(M-=2*f)}var C=M-O;if(_(C)>v){var j=M,F=l,I=p;M=O+v*(s&&M>O?1:-1),g=e(l=T+o*c.cos(M),p=E+i*c.sin(M),o,i,a,0,s,F,I,[M,j,T,E])}C=M-O;var A=c.cos(O),N=c.sin(O),L=c.cos(M),R=c.sin(M),B=c.tan(C/4),D=4/3*o*B,W=4/3*i*B,H=[n,r],U=[n+D*N,r-W*A],z=[l+D*R,p-W*L],V=[l,p];if(U[0]=2*H[0]-U[0],U[1]=2*H[1]-U[1],h)return[U,z,V].concat(g);for(var G=[],q=0,Y=(g=[U,z,V].concat(g).join().split(",")).length;q<Y;q++)G[q]=q%2?m(g[q-1],g[q],y).y:m(g[q],g[q+1],y).x;return G}.apply(0,[n.x,n.y].concat(e.slice(1))));break;case"S":"C"==r||"S"==r?(o=2*n.x-n.bx,i=2*n.y-n.by):(o=n.x,i=n.y),e=["C",o,i].concat(e.slice(1));break;case"T":"Q"==r||"T"==r?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),e=["C"].concat(H(n.x,n.y,n.qx,n.qy,e[1],e[2]));break;case"Q":n.qx=e[1],n.qy=e[2],e=["C"].concat(H(n.x,n.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(W(n.x,n.y,e[1],e[2]));break;case"H":e=["C"].concat(W(n.x,n.y,e[1],n.y));break;case"V":e=["C"].concat(W(n.x,n.y,n.x,e[1]));break;case"Z":e=["C"].concat(W(n.x,n.y,n.X,n.Y))}return e},p=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)y[e]="A",i&&(g[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),S=h(o.length,i&&i.length||0)}},d=function(t,e,n,r,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],S=h(o.length,i&&i.length||0))},y=[],g=[],b="",k="",w=0,S=h(o.length,i&&i.length||0);w<S;w++){o[w]&&(b=o[w][0]),"C"!=b&&(y[w]=b,w&&(k=y[w-1])),o[w]=s(o[w],a,k),"A"!=y[w]&&"C"==b&&(y[w]="C"),p(o,w),i&&(i[w]&&(b=i[w][0]),"C"!=b&&(g[w]=b,w&&(k=g[w-1])),i[w]=s(i[w],u,k),"A"!=g[w]&&"C"==b&&(g[w]="C"),p(i,w)),d(o,i,a,u,w),d(i,o,u,a,w);var x=o[w],P=i&&i[w],T=x.length,E=i&&P.length;a.x=x[T-2],a.y=x[T-1],a.bx=l(x[T-4])||a.x,a.by=l(x[T-3])||a.y,u.bx=i&&(l(P[E-4])||u.x),u.by=i&&(l(P[E-3])||u.y),u.x=i&&P[E-2],u.y=i&&P[E-1]}return i||(r.curve=m(o)),i?[o,i]:o}function V(t,e){for(var n=[],r=0,o=t.length;o-2*!e>r;r+=2){var i=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?o-4==r?i[3]={x:+t[0],y:+t[1]}:o-2==r&&(i[2]={x:+t[0],y:+t[1]},i[3]={x:+t[2],y:+t[3]}):i[0]={x:+t[o-2],y:+t[o-1]}:o-4==r?i[3]=i[2]:r||(i[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}t.path=v,t.path.getTotalLength=w,t.path.getPointAtLength=S,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return x(t,e).end;var r=x(t,n,1);return e?x(r,e).end:r},o.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},o.getPointAtLength=function(t){return S(this.attr("d"),t)},o.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=y,t.path.findDotsAtSegment=P,t.path.bezierBBox=T,t.path.isPointInsideBBox=E,t.closest=function(e,n,r,o){for(var i=100,a=y(e-i/2,n-i/2,i,i),u=[],s=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:o[t]}},l=0;i<=1e6&&!l;){for(var c=0,f=r.length;c<f;c++){var p=s(c);if(E(a,p.x,p.y)){l++,u.push(p);break}}l||(a=y(e-(i*=2)/2,n-i/2,i,i))}if(1e6!=i){var h,d=1/0;for(c=0,f=u.length;c<f;c++){var _=t.len(e,n,u[c].x,u[c].y);d>_&&(d=_,u[c].len=_,h=u[c])}return h}},t.path.isBBoxIntersect=O,t.path.intersection=function(t,e){return I(t,e)},t.path.intersectionNumber=function(t,e){return I(t,e,1)},t.path.isPointInside=function(t,e,n){var r=A(t);return E(r,e,n)&&I(t,[["M",e,n],["H",r.x2+10]],1)%2==1},t.path.getBBox=A,t.path.get=B,t.path.toRelative=function(e){var n=v(e),r=String.prototype.toLowerCase;if(n.rel)return m(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var o=[],i=0,a=0,u=0,s=0,l=0;"M"==e[0][0]&&(u=i=e[0][1],s=a=e[0][2],l++,o.push(["M",i,a]));for(var c=l,f=e.length;c<f;c++){var p=o[c]=[],h=e[c];if(h[0]!=r.call(h[0]))switch(p[0]=r.call(h[0]),p[0]){case"a":p[1]=h[1],p[2]=h[2],p[3]=h[3],p[4]=h[4],p[5]=h[5],p[6]=+(h[6]-i).toFixed(3),p[7]=+(h[7]-a).toFixed(3);break;case"v":p[1]=+(h[1]-a).toFixed(3);break;case"m":u=h[1],s=h[2];default:for(var d=1,_=h.length;d<_;d++)p[d]=+(h[d]-(d%2?i:a)).toFixed(3)}else{p=o[c]=[],"m"==h[0]&&(u=h[1]+i,s=h[2]+a);for(var y=0,b=h.length;y<b;y++)o[c][y]=h[y]}var k=o[c].length;switch(o[c][0]){case"z":i=u,a=s;break;case"h":i+=+o[c][k-1];break;case"v":a+=+o[c][k-1];break;default:i+=+o[c][k-2],a+=+o[c][k-1]}}return o.toString=g,n.rel=m(o),o},t.path.toAbsolute=D,t.path.toCubic=z,t.path.map=function(t,e){if(!e)return t;var n,r,o,i,a,u,s;for(o=0,a=(t=z(t)).length;o<a;o++)for(i=1,u=(s=t[o]).length;i<u;i+=2)n=e.x(s[i],s[i+1]),r=e.y(s[i],s[i+1]),s[i]=n,s[i+1]=r;return t},t.path.toString=g,t.path.clone=m}),r.plugin(function(t,r,o,i){var a=Math.max,u=Math.min,s=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},l=s.prototype;l.push=function(){for(var t,e,n=0,r=arguments.length;n<r;n++)(t=arguments[n])&&(this[e=this.items.length]=this.items[e]=t,this.length++);return this},l.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},l.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(!1===t.call(e,this.items[n],n))return this;return this},l.animate=function(r,o,i,a){"function"!=typeof i||i.length||(a=i,i=n.linear),r instanceof t._.Animation&&(a=r.callback,i=r.easing,o=i.dur,r=r.attr);var u=arguments;if(t.is(r,"array")&&t.is(u[u.length-1],"array"))var s=!0;var l,c=function(){l?this.b=l:l=this.b},f=0,p=this,h=a&&function(){++f==p.length&&a.call(this)};return this.forEach(function(t,n){e.once("snap.animcreated."+t.id,c),s?u[n]&&t.animate.apply(t,u[n]):t.animate(r,o,i,h)})},l.remove=function(){for(;this.length;)this.pop().remove();return this},l.bind=function(t,e,n){var r={};if("function"==typeof e)this.bindings[t]=e;else{var o=n||t;this.bindings[t]=function(t){r[o]=t,e.attr(r)}}return this},l.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var r=0,o=this.items.length;r<o;r++)this.items[r].attr(e);return this},l.clear=function(){for(;this.length;)this.pop()},l.splice=function(t,e,n){t=t<0?a(this.length+t,0):t,e=a(0,u(this.length-t,e));var r,o=[],i=[],l=[];for(r=2;r<arguments.length;r++)l.push(arguments[r]);for(r=0;r<e;r++)i.push(this[t+r]);for(;r<this.length-t;r++)o.push(this[t+r]);var c=l.length;for(r=0;r<c+o.length;r++)this.items[t+r]=this[t+r]=r<c?l[r]:o[r-c];for(r=this.items.length=this.length-=e-c;this[r];)delete this[r++];return new s(i)},l.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},l.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},l.getBBox=function(){for(var t=[],e=[],n=[],r=[],o=this.items.length;o--;)if(!this.items[o].removed){var i=this.items[o].getBBox();t.push(i.x),e.push(i.y),n.push(i.x+i.width),r.push(i.y+i.height)}return{x:t=u.apply(0,t),y:e=u.apply(0,e),x2:n=a.apply(0,n),y2:r=a.apply(0,r),width:n-t,height:r-e,cx:t+(n-t)/2,cy:e+(r-e)/2}},l.clone=function(t){t=new s;for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},l.toString=function(){return"Snap‘s set"},l.type="set",t.Set=s,t.set=function(){var t=new s;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),r.plugin(function(t,n,r,o){var i={},a=/[%a-z]+$/i,u=String;function s(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function l(t){return t}function c(t){return t.join(" ")}function f(e){return t.rgb(e[0],e[1],e[2],e[3])}function p(t){var e,n,r,o,i,a,u=0,s=[];for(e=0,n=t.length;e<n;e++){for(i="[",a=['"'+t[e][0]+'"'],r=1,o=t[e].length;r<o;r++)a[r]="val["+u+++"]";i+=a+"]",s[e]=i}return Function("val","return Snap.path.toString.call(["+s+"])")}function h(t){for(var e=[],n=0,r=t.length;n<r;n++)for(var o=1,i=t[n].length;o<i;o++)e.push(t[n][o]);return e}function d(t){return isFinite(t)}i.stroke=i.fill="colour",n.prototype.equal=function(t,n){return e("snap.util.equal",this,t,n).firstDefined()},e.on("snap.util.equal",function(e,n){var r,o,_=u(this.attr(e)||""),v=this;if("colour"==i[e])return r=t.color(_),o=t.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[o.r,o.g,o.b,o.opacity],f:f};if("viewBox"==e)return{from:r=this.attr(e).vb.split(" ").map(Number),to:o=n.split(" ").map(Number),f:c};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return"string"==typeof n&&(n=u(n).replace(/\.{3}|\u2026/g,_)),function(e,n,r){e=e||new t.Matrix,n=n||new t.Matrix,e=t.parseTransformString(e.toTransformString())||[],n=t.parseTransformString(n.toTransformString())||[];for(var o,i,a,u,l=Math.max(e.length,n.length),c=[],f=[],d=0;d<l;d++){if(a=e[d]||s(n[d]),u=n[d]||s(a),a[0]!=u[0]||"r"==a[0].toLowerCase()&&(a[2]!=u[2]||a[3]!=u[3])||"s"==a[0].toLowerCase()&&(a[3]!=u[3]||a[4]!=u[4])){e=t._.transform2matrix(e,r()),n=t._.transform2matrix(n,r()),c=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],f=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(c[d]=[],f[d]=[],o=0,i=Math.max(a.length,u.length);o<i;o++)o in a&&(c[d][o]=a[o]),o in u&&(f[d][o]=u[o])}return{from:h(c),to:h(f),f:p(c)}}(_=this.matrix,n=t._.rgTransform.test(n)?t._.transform2matrix(n,this.getBBox()):t._.transform2matrix(t._.svgTransform2string(n),this.getBBox()),function(){return v.getBBox(1)});if("d"==e||"path"==e)return{from:h((r=t.path.toCubic(_,n))[0]),to:h(r[1]),f:p(r[0])};if("points"==e)return{from:r=u(_).split(t._.separator),to:o=u(n).split(t._.separator),f:function(t){return t}};if(d(_)&&d(n))return{from:parseFloat(_),to:parseFloat(n),f:l};var y,g,m,b=_.match(a),k=u(n).match(a);return b&&(g=b,m=k,t.is(g,"array")&&t.is(m,"array")&&g.toString()==m.toString())?{from:parseFloat(_),to:parseFloat(n),f:(y=b,function(t){return+t.toFixed(3)+y})}:{from:this.asPX(e),to:this.asPX(e,n),f:l}})}),r.plugin(function(t,n,r,o){for(var i=n.prototype,a=("createTouch"in o.doc),u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],s={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(t,e){var n="y"==t?"scrollTop":"scrollLeft",r=e&&e.node?e.node.ownerDocument:o.doc;return r[n in r.documentElement?"documentElement":"body"][n]},c=function(){return this.originalEvent.preventDefault()},f=function(){return this.originalEvent.stopPropagation()},p=function(t,e,n,r){var o=a&&s[e]?s[e]:e,i=function(o){var i=l("y",r),u=l("x",r);if(a&&s.hasOwnProperty(e))for(var p=0,h=o.targetTouches&&o.targetTouches.length;p<h;p++)if(o.targetTouches[p].target==t||t.contains(o.targetTouches[p].target)){var d=o;(o=o.targetTouches[p]).originalEvent=d,o.preventDefault=c,o.stopPropagation=f;break}var _=o.clientX+u,v=o.clientY+i;return n.call(r,o,_,v)};return e!==o&&t.addEventListener(e,i,!1),t.addEventListener(o,i,!1),function(){return e!==o&&t.removeEventListener(e,i,!1),t.removeEventListener(o,i,!1),!0}},h=[],d=function(t){for(var n,r=t.clientX,o=t.clientY,i=l("y"),u=l("x"),s=h.length;s--;){if(n=h[s],a){for(var c,f=t.touches&&t.touches.length;f--;)if((c=t.touches[f]).identifier==n.el._drag.id||n.el.node.contains(c.target)){r=c.clientX,o=c.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var p=n.el.node;p.nextSibling,p.parentNode,p.style.display,r+=u,o+=i,e("snap.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,o-n.el._drag.y,r,o,t)}},_=function(n){t.unmousemove(d).unmouseup(_);for(var r,o=h.length;o--;)(r=h[o]).el._drag={},e("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n),e.off("snap.drag.*."+r.el.id);h=[]},v=u.length;v--;)!function(e){t[e]=i[e]=function(n,r){if(t.is(n,"function"))this.events=this.events||[],this.events.push({name:e,f:n,unbind:p(this.node||document,e,n,r||this)});else for(var o=0,i=this.events.length;o<i;o++)if(this.events[o].name==e)try{this.events[o].f.call(this)}catch(t){}return this},t["un"+e]=i["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&(n[r].f==t||!t))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(u[v]);i.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},i.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var y=[];i.drag=function(n,r,o,i,a,u){var s,l=this;if(!arguments.length)return l.drag(function(t,e){this.attr({transform:s+(s?"T":"t")+[t,e]})},function(){s=this.transform().local});function c(s,c,f){(s.originalEvent||s).preventDefault(),l._drag.x=c,l._drag.y=f,l._drag.id=s.identifier,!h.length&&t.mousemove(d).mouseup(_),h.push({el:l,move_scope:i,start_scope:a,end_scope:u}),r&&e.on("snap.drag.start."+l.id,r),n&&e.on("snap.drag.move."+l.id,n),o&&e.on("snap.drag.end."+l.id,o),e("snap.drag.start."+l.id,a||i||l,c,f,s)}function f(t,n,r){e("snap.draginit."+l.id,l,t,n,r)}return e.on("snap.draginit."+l.id,c),l._drag={},y.push({el:l,start:c,init:f}),l.mousedown(f),l},i.undrag=function(){for(var n=y.length;n--;)y[n].el==this&&(this.unmousedown(y[n].init),y.splice(n,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!y.length&&t.unmousemove(d).unmouseup(_),this}}),r.plugin(function(t,n,r,o){n.prototype;var i=r.prototype,a=/^\s*url\((.+)\)/,u=String,s=t._.$;t.filter={},i.filter=function(e){var r=this;"svg"!=r.type&&(r=r.paper);var o=t.parse(u(e)),i=t._.id(),a=(r.node.offsetWidth,r.node.offsetHeight,s("filter"));return s(a,{id:i,filterUnits:"userSpaceOnUse"}),a.appendChild(o.node),r.defs.appendChild(a),new n(a)},e.on("snap.util.getattr.filter",function(){e.stop();var n=s(this.node,"filter");if(n){var r=u(n).match(a);return r&&t.select(r[1])}}),e.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){e.stop();var o=r.node.id;o||(s(r.node,{id:r.id}),o=r.id),s(this.node,{filter:t.url(o)})}r&&"none"!=r||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,n){null==e&&(e=2);var r=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,r,o,i){return null==i&&(null==o?(i=r,r=4,o="#000"):(i=o,o=r,r=4)),null==r&&(r=4),null==i&&(i=1),null==e&&(e=0,n=2),null==n&&(n=e),o=t.color(o),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:o,dx:e,dy:n,blur:r,opacity:i})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),r.plugin(function(t,e,n,r,o){var i=t._.box,a=t.is,u=/^[^a-z]*([tbmlrc])/i,s=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&a(t,"string")&&(e=t,t=null);var n=(t=t||this.paper).getBBox?t.getBBox():i(t),r=this.getBBox(),o={};switch(e=(e=e&&e.match(u))?e[1].toLowerCase():"c"){case"t":o.dx=0,o.dy=n.y-r.y;break;case"b":o.dx=0,o.dy=n.y2-r.y2;break;case"m":o.dx=0,o.dy=n.cy-r.cy;break;case"l":o.dx=n.x-r.x,o.dy=0;break;case"r":o.dx=n.x2-r.x2,o.dy=0;break;default:o.dx=n.cx-r.cx,o.dy=0}return o.toString=s,o},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),r.plugin(function(e,n,r,o){function i(t){t=t.split(/(?=#)/);var e=new String(t[5]);return e[50]=t[0],e[100]=t[1],e[200]=t[2],e[300]=t[3],e[400]=t[4],e[500]=t[5],e[600]=t[6],e[700]=t[7],e[800]=t[8],e[900]=t[9],t[10]&&(e.A100=t[10],e.A200=t[11],e.A400=t[12],e.A700=t[13]),e}e.mui={},e.flat={},e.mui.red=i("#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000"),e.mui.pink=i("#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162"),e.mui.purple=i("#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF"),e.mui.deeppurple=i("#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA"),e.mui.indigo=i("#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE"),e.mui.blue=i("#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF"),e.mui.lightblue=i("#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA"),e.mui.cyan=i("#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4"),e.mui.teal=i("#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5"),e.mui.green=i("#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853"),e.mui.lightgreen=i("#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17"),e.mui.lime=i("#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00"),e.mui.yellow=i("#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600"),e.mui.amber=i("#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00"),e.mui.orange=i("#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00"),e.mui.deeporange=i("#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00"),e.mui.brown=i("#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723"),e.mui.grey=i("#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121"),e.mui.bluegrey=i("#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238"),e.flat.turquoise="#1abc9c",e.flat.greensea="#16a085",e.flat.sunflower="#f1c40f",e.flat.orange="#f39c12",e.flat.emerland="#2ecc71",e.flat.nephritis="#27ae60",e.flat.carrot="#e67e22",e.flat.pumpkin="#d35400",e.flat.peterriver="#3498db",e.flat.belizehole="#2980b9",e.flat.alizarin="#e74c3c",e.flat.pomegranate="#c0392b",e.flat.amethyst="#9b59b6",e.flat.wisteria="#8e44ad",e.flat.clouds="#ecf0f1",e.flat.silver="#bdc3c7",e.flat.wetasphalt="#34495e",e.flat.midnightblue="#2c3e50",e.flat.concrete="#95a5a6",e.flat.asbestos="#7f8c8d",e.importMUIColors=function(){for(var n in e.mui)e.mui.hasOwnProperty(n)&&(t[n]=e.mui[n])}}),r}(v,t)}.apply(e,[r]))||(t.exports=o)}).call(window)},function(t,e,n){(function(e){
/**
 * @author Takahiro INOUE <takahiro.inoue@aist.go.jp>
 * @license Copyright (c) 2017-2019 AIST Songle Project
 */
!function(e){"use strict";var r=n(3).default;e.XMLHttpRequest||(e.XMLHttpRequest=n(4).XMLHttpRequest),"process"in e&&(t.exports=r),e.Songle=r}((this||0).self||e)}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/packs/",e(e.s=249)}([function(t,e,n){var r=n(2),o=n(124),i=n(11),a=n(22),u=n(14),s=function(t,e,n){var l,c,f,p,h=t&s.F,d=t&s.G,_=t&s.S,v=t&s.P,y=t&s.B,g=d?r:_?r[e]||(r[e]={}):(r[e]||{}).prototype,m=d?o:o[e]||(o[e]={}),b=m.prototype||(m.prototype={});for(l in d&&(n=e),n)c=!h&&g&&void 0!==g[l],f=(c?g:n)[l],p=y&&c?u(f,r):v&&"function"==typeof f?u(Function.call,f):f,g&&a(g,l,f,t&s.U),m[l]!=f&&i(m,l,p),v&&b[l]!=f&&(b[l]=f)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(163)("wks"),o=n(25),i=n(2).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(3),o=n(176),i=n(140),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(194),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i={};!function(t){Object.defineProperties(i,{currentTimeToMilliseconds:{configurable:!0,get:function(){return 1*Date.now()}},currentTimeToMicroseconds:{configurable:!0,get:function(){return 1e3*Date.now()}},defaultAppServerProtocol:{configurable:!0,get:function(){var e="";return t.location&&(e="file:"==t.location.protocol?"https:":""),i.__defaultAppServerProtocol__||e},set:function(t){i.__defaultAppServerProtocol__=t}},defaultAppServerHost:{configurable:!0,get:function(){return i.__defaultAppServerHost__||"api.songle.jp"},set:function(t){i.__defaultAppServerHost__=t}},defaultAppServerEndpoint:{configurable:!0,get:function(){return i.defaultAppServerProtocol+"//"+i.defaultAppServerHost}},defaultLogServerProtocol:{configurable:!0,get:function(){var e="";return t.location&&(e="file:"==t.location.protocol?"https:":""),i.__defaultLogServerProtocol__||e},set:function(t){i.__defaultLogServerProtocol__=t}},defaultLogServerHost:{configurable:!0,get:function(){return i.__defaultLogServerHost__||"log.songle.jp"},set:function(t){i.__defaultLogServerHost__=t}},defaultLogServerEndpoint:{configurable:!0,get:function(){return i.defaultLogServerProtocol+"//"+i.defaultLogServerHost}},defaultWebsocketServerProtocol:{configurable:!0,get:function(){var e="";return t.location&&(e="file:"==t.location.protocol?"wss:":""),i.__defaultWebsocketServerProtocol__||e},set:function(t){i.__defaultWebsocketServerProtocol__=t}},defaultWebsocketServerHost:{configurable:!0,get:function(){return i.__defaultWebsocketServerHost__||"api.songle.jp"},set:function(t){i.__defaultWebsocketServerHost__=t}},defaultWebsocketServerEndpoint:{configurable:!0,get:function(){return i.defaultWebsocketServerProtocol+"//"+i.defaultWebsocketServerHost}},global:{configurable:!0,get:function(){return t}},isStandalone:{configurable:!0,get:function(){return!t.document}},isWebBrowser:{configurable:!0,get:function(){return!!t.document}},language:{configurable:!0,get:function(){var t=window.navigator.languages&&window.navigator.languages[0]||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage;switch(!0){case/en/.test(t.toLowerCase()):return"en";case/ja/.test(t.toLowerCase()):return"ja";default:return"en"}}},referer:{configurable:!0,get:function(){return i.isStandalone?"-":t.document.referrer}},userAgent:{configurable:!0,get:function(){return i.isStandalone?"-":t.navigator.appCodeName+"/"+navigator.appVersion}},searchQueries:{configurable:!0,get:function(){var t={};return location.search.slice(location.search.indexOf("?")+1).split("&").forEach(function(e){var n=e.match(/(.+?)=(.+)/);if(n){var r=n[1],o=n[2];t[r]=o?decodeURIComponent(o):o}}),t}},showDebugLog:{configurable:!0,get:function(){return!!i.__showDebugLog__},set:function(t){i.__showDebugLog__=!!t}},showErrorLog:{configurable:!0,get:function(){return!!i.__showErrorLog__},set:function(t){i.__showErrorLog__=!!t}},showLicense:{configurable:!0,get:function(){return!!i.__showLicense__},set:function(t){i.__showLicense__=!!t,t?(o.default.removeLicense(),o.default.createLicense(t)):(o.default.removeLicense(),console.log("# ライセンス表記に関するガイドライン\n\n国立研究開発法人産業技術総合研究所\n情報技術研究部門\nメディアインタラクション研究グループ\n\nSongle APIは非商用利用に限り、どなたでも無料・無保証で利用することができます。\nただし、原則としてSongle APIを利用している旨を https://api.songle.jp/ にハイパーリンクした上で、利用しているシステムもしくは外部サイト等に表示する必要があります。\n\n# お問い合わせ\n\nsongle-api-ml@aist.go.jp"))}}}),i.stringIsBlank=function(t){return""==t||null==t},t.__sw__=i}((0).self||t),e.default=i}).call(e,n(170))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(131),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(6),o=n(21);t.exports=n(10)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(157),o=n(19);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(0),o=n(124),i=n(5);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(23);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(139),o=n(21),i=n(12),a=n(140),u=n(8),s=n(176),l=Object.getOwnPropertyDescriptor;e.f=n(10)?l:function(t,e){if(t=i(t),e=a(e,!0),s)try{return l(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(19);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";if(n(10)){var r=n(126),o=n(2),i=n(5),a=n(0),u=n(167),s=n(192),l=n(14),c=n(122),f=n(21),p=n(11),h=n(128),d=n(131),_=n(9),v=n(130),y=n(140),g=n(8),m=n(189),b=n(152),k=n(1),w=n(16),S=n(158),x=n(137),P=n(127),T=n(138).f,E=n(168),O=n(25),M=n(4),C=n(136),j=n(151),F=n(164),I=n(18),A=n(125),N=n(146),L=n(148),R=n(150),B=n(172),D=n(6),W=n(15),H=D.f,U=W.f,z=o.RangeError,V=o.TypeError,G=o.Uint8Array,q=Array.prototype,Y=s.ArrayBuffer,J=s.DataView,X=C(0),$=C(2),K=C(3),Q=C(4),Z=C(5),tt=C(6),et=j(!0),nt=j(!1),rt=I.values,ot=I.keys,it=I.entries,at=q.lastIndexOf,ut=q.reduce,st=q.reduceRight,lt=q.join,ct=q.sort,ft=q.slice,pt=q.toString,ht=q.toLocaleString,dt=M("iterator"),_t=M("toStringTag"),vt=O("typed_constructor"),yt=O("def_constructor"),gt=u.CONSTR,mt=u.TYPED,bt=u.VIEW,kt=C(1,function(t,e){return Et(F(t,t[yt]),e)}),wt=i(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),St=!!G&&!!G.prototype.set&&i(function(){new G(1).set({})}),xt=function(t,e){if(void 0===t)throw V("Wrong length!");var n=+t,r=_(t);if(e&&!m(n,r))throw z("Wrong length!");return r},Pt=function(t,e){var n=d(t);if(n<0||n%e)throw z("Wrong offset!");return n},Tt=function(t){if(k(t)&&mt in t)return t;throw V(t+" is not a typed array!")},Et=function(t,e){if(!(k(t)&&vt in t))throw V("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Mt(F(t,t[yt]),e)},Mt=function(t,e){for(var n=0,r=e.length,o=Et(t,r);r>n;)o[n]=e[n++];return o},Ct=function(t,e,n){H(t,e,{get:function(){return this._d[n]}})},jt=function(t){var e,n,r,o,i,a,u=w(t),s=arguments.length,c=s>1?arguments[1]:void 0,f=void 0!==c,p=E(u);if(null!=p&&!S(p)){for(a=p.call(u),r=[],e=0;!(i=a.next()).done;e++)r.push(i.value);u=r}for(f&&s>2&&(c=l(c,arguments[2],2)),e=0,n=_(u.length),o=Et(this,n);n>e;e++)o[e]=f?c(u[e],e):u[e];return o},Ft=function(){for(var t=0,e=arguments.length,n=Et(this,e);e>t;)n[t]=arguments[t++];return n},It=!!G&&i(function(){ht.call(new G(1))}),At=function(){return ht.apply(It?ft.call(Tt(this)):Tt(this),arguments)},Nt={copyWithin:function(t,e){return B.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return R.apply(Tt(this),arguments)},filter:function(t){return Ot(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){X(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Tt(this),arguments)},lastIndexOf:function(t){return at.apply(Tt(this),arguments)},map:function(t){return kt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ut.apply(Tt(this),arguments)},reduceRight:function(t){return st.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,r=Math.floor(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e},some:function(t){return K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,o=v(t,r);return new(F(n,n[yt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,_((void 0===e?r:v(e,r))-o))}},Lt=function(t,e){return Ot(this,ft.call(Tt(this),t,e))},Rt=function(t){Tt(this);var e=Pt(arguments[1],1),n=this.length,r=w(t),o=_(r.length),i=0;if(o+e>n)throw z("Wrong length!");for(;i<o;)this[e+i]=r[i++]},Bt={entries:function(){return it.call(Tt(this))},keys:function(){return ot.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Dt=function(t,e){return k(t)&&t[mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Wt=function(t,e){return Dt(t,e=y(e,!0))?f(2,t[e]):U(t,e)},Ht=function(t,e,n){return!(Dt(t,e=y(e,!0))&&k(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?H(t,e,n):(t[e]=n.value,t)};gt||(W.f=Wt,D.f=Ht),a(a.S+a.F*!gt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Ht}),i(function(){pt.call({})})&&(pt=ht=function(){return lt.call(this)});var Ut=h({},Nt);h(Ut,Bt),p(Ut,dt,Bt.values),h(Ut,{slice:Lt,set:Rt,constructor:function(){},toString:pt,toLocaleString:At}),Ct(Ut,"buffer","b"),Ct(Ut,"byteOffset","o"),Ct(Ut,"byteLength","l"),Ct(Ut,"length","e"),H(Ut,_t,{get:function(){return this[mt]}}),t.exports=function(t,e,n,s){var l=t+((s=!!s)?"Clamped":"")+"Array",f="Uint8Array"!=l,h="get"+t,d="set"+t,v=o[l],y=v||{},g=v&&P(v),m=!v||!u.ABV,w={},S=v&&v.prototype,E=function(t,n){var r=t._d;return r.v[h](n*e+r.o,wt)},O=function(t,n,r){var o=t._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[d](n*e+o.o,r,wt)},M=function(t,e){H(t,e,{get:function(){return E(this,e)},set:function(t){return O(this,e,t)},enumerable:!0})};m?(v=n(function(t,n,r,o){c(t,v,l,"_d");var i,a,u,s,f=0,h=0;if(k(n)){if(!(n instanceof Y||"ArrayBuffer"==(s=b(n))||"SharedArrayBuffer"==s))return mt in n?Mt(v,n):jt.call(v,n);i=n,h=Pt(r,e);var d=n.byteLength;if(void 0===o){if(d%e)throw z("Wrong length!");if((a=d-h)<0)throw z("Wrong length!")}else if((a=_(o)*e)+h>d)throw z("Wrong length!");u=a/e}else u=xt(n,!0),i=new Y(a=u*e);for(p(t,"_d",{b:i,o:h,l:a,e:u,v:new J(i)});f<u;)M(t,f++)}),S=v.prototype=x(Ut),p(S,"constructor",v)):N(function(t){new v(null),new v(t)},!0)||(v=n(function(t,n,r,o){var i;return c(t,v,l),k(n)?n instanceof Y||"ArrayBuffer"==(i=b(n))||"SharedArrayBuffer"==i?void 0!==o?new y(n,Pt(r,e),o):void 0!==r?new y(n,Pt(r,e)):new y(n):mt in n?Mt(v,n):jt.call(v,n):new y(xt(n,f))}),X(g!==Function.prototype?T(y).concat(T(g)):T(y),function(t){t in v||p(v,t,y[t])}),v.prototype=S,r||(S.constructor=v));var C=S[dt],j=!!C&&("values"==C.name||null==C.name),F=Bt.values;p(v,vt,!0),p(S,mt,l),p(S,bt,!0),p(S,yt,v),(s?new v(1)[_t]==l:_t in S)||H(S,_t,{get:function(){return l}}),w[l]=v,a(a.G+a.W+a.F*(v!=y),w),a(a.S,l,{BYTES_PER_ELEMENT:e,from:jt,of:Ft}),"BYTES_PER_ELEMENT"in S||p(S,"BYTES_PER_ELEMENT",e),a(a.P,l,Nt),L(l),a(a.P+a.F*St,l,{set:Rt}),a(a.P+a.F*!j,l,Bt),a(a.P+a.F*(S.toString!=pt),l,{toString:pt}),a(a.P+a.F*i(function(){new v(1).slice()}),l,{slice:Lt}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!i(function(){S.toLocaleString.call([1,2])})),l,{toLocaleString:At}),A[l]=j?C:F,r||j||p(S,dt,F)}}else t.exports=function(){}},function(t,e,n){"use strict";var r=n(121),o=n(182),i=n(125),a=n(12);t.exports=n(181)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(25)("meta"),o=n(1),i=n(8),a=n(6).f,u=0,s=Object.isExtensible||function(){return!0},l=!n(5)(function(){return s(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!s(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!s(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&s(t)&&!i(t,r)&&c(t),t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(2),o=n(11),i=n(8),a=n(25)("src"),u=Function.toString,s=(""+u).split("toString");n(124).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(l&&(i(n,a)||o(n,a,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(186),o=n(155);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(172)}),n(121)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(150)}),n(121)("fill")},function(t,e,n){"use strict";var r=n(0),o=n(136)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(121)(i)},function(t,e,n){"use strict";var r=n(0),o=n(136)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(121)("find")},function(t,e,n){"use strict";var r=n(14),o=n(0),i=n(16),a=n(180),u=n(158),s=n(9),l=n(153),c=n(168);o(o.S+o.F*!n(146)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,f,p=i(t),h="function"==typeof this?this:Array,d=arguments.length,_=d>1?arguments[1]:void 0,v=void 0!==_,y=0,g=c(p);if(v&&(_=r(_,d>2?arguments[2]:void 0,2)),null==g||h==Array&&u(g))for(e=s(p.length),n=new h(e);e>y;y++)l(n,y,v?_(p[y],y):p[y]);else for(f=g.call(p),n=new h;!(o=f.next()).done;y++)l(n,y,v?a(f,_,[o.value,y],!0):o.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(0),o=n(153);r(r.S+r.F*n(5)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var r=n(6).f,o=n(21),i=n(8),a=Function.prototype,u=/^\s*function ([^ (]*)/,s=Object.isExtensible||function(){return!0};"name"in a||n(10)&&r(a,"name",{configurable:!0,get:function(){try{var t=this,e=(""+t).match(u)[1];return i(t,"name")||!s(t)||r(t,"name",o(5,e)),e}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(173);t.exports=n(142)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(0),o=n(183),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+i(t-1)*i(t+1))}})},function(t,e,n){var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(160);r(r.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,n){var r=n(0),o=n(159);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e,n){var r=n(0),o=n(160),i=Math.pow,a=i(2,-52),u=i(2,-23),s=i(2,127)*(2-u),l=i(2,-126);r(r.S,"Math",{fround:function(t){var e,n,r=Math.abs(t),i=o(t);return r<l?i*function(t){return t+1/a-1/a}(r/l/u)*l*u:(n=(e=(1+u/a)*r)-(e-r))>s||n!=n?i*(1/0):i*n}})},function(t,e,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,i=0,a=0,u=arguments.length,s=0;a<u;)n=o(arguments[a++]),s<n?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(t,e,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(5)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(183)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(160)})},function(t,e,n){var r=n(0),o=n(159),i=Math.exp;r(r.S+r.F*n(5)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),o=n(159),i=Math.exp;r(r.S,"Math",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),o=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(178)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(178),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(184)})},function(t,e,n){var r=n(1),o=n(20).onFreeze;n(13)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(12),o=n(15).f;n(13)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){n(13)("getOwnPropertyNames",function(){return n(185).f})},function(t,e,n){var r=n(16),o=n(127);n(13)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(1);n(13)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(1);n(13)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(1);n(13)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(189)})},function(t,e,n){var r=n(16),o=n(24);n(13)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(1),o=n(20).onFreeze;n(13)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(1),o=n(20).onFreeze;n(13)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(161).set})},function(t,e,n){"use strict";var r,o,i,a=n(126),u=n(2),s=n(14),l=n(152),c=n(0),f=n(1),p=n(23),h=n(122),d=n(144),_=n(164),v=n(166).set,y=n(212)(),g=u.TypeError,m=u.process,b=u.Promise,m=u.process,k="process"==l(m),w=function(){},S=!!function(){try{var t=b.resolve(1),e=(t.constructor={})[n(4)("species")]=function(t){t(w,w)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof e}catch(t){}}(),x=function(t,e){return t===e||t===b&&e===i},P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},T=function(t){return x(b,t)?new E(t):new o(t)},E=o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw g("Bad Promise constructor");e=t,n=r}),this.resolve=p(e),this.reject=p(n)},O=function(t){try{t()}catch(t){return{error:t}}},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,o=1==t._s,i=0;n.length>i;)!function(e){var n,i,a=o?e.ok:e.fail,u=e.resolve,s=e.reject,l=e.domain;try{a?(o||(2==t._h&&F(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===e.promise?s(g("Promise-chain cycle")):(i=P(n))?i.call(n,u,s):u(n)):s(r)}catch(t){s(t)}}(n[i++]);t._c=[],t._n=!1,e&&!t._h&&C(t)})}},C=function(t){v.call(u,function(){var e,n,r,o=t._v;if(j(t)&&(e=O(function(){k?m.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=k||j(t)?2:1),t._a=void 0,e)throw e.error})},j=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!j(e.promise))return!1;return!0},F=function(t){v.call(u,function(){var e;k?m.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},I=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},A=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw g("Promise can't be resolved itself");(e=P(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,s(A,r,1),s(I,r,1))}catch(t){I.call(r,t)}}):(n._v=t,n._s=1,M(n,!1))}catch(t){I.call({_w:n,_d:!1},t)}}};S||(b=function(t){h(this,b,"Promise","_h"),p(t),r.call(this);try{t(s(A,this,1),s(I,this,1))}catch(t){I.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(128)(b.prototype,{then:function(t,e){var n=T(_(this,b));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?m.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),E=function(){var t=new r;this.promise=t,this.resolve=s(A,t,1),this.reject=s(I,t,1)}),c(c.G+c.W+c.F*!S,{Promise:b}),n(129)(b,"Promise"),n(148)("Promise"),i=n(124).Promise,c(c.S+c.F*!S,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!S),"Promise",{resolve:function(t){if(t instanceof b&&x(t.constructor,this))return t;var e=T(this);return(0,e.resolve)(t),e.promise}}),c(c.S+c.F*!(S&&n(146)(function(t){b.all(t).catch(w)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,o=n.reject,i=O(function(){var n=[],i=0,a=1;d(t,!1,function(t){var u=i++,s=!1;n.push(void 0),a++,e.resolve(t).then(function(t){s||(s=!0,n[u]=t,--a||r(n))},o)}),--a||r(n)});return i&&o(i.error),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,o=O(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o&&r(o.error),n.promise}})},function(t,e,n){var r=n(0),o=n(23),i=n(3),a=(n(2).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(5)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=o(t),s=i(n);return a?a(r,e,s):u.call(r,e,s)}})},function(t,e,n){var r=n(0),o=n(137),i=n(23),a=n(3),u=n(1),s=n(5),l=n(206),c=(n(2).Reflect||{}).construct,f=s(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),p=!s(function(){c(function(){})});r(r.S+r.F*(f||p),"Reflect",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var s=n.prototype,h=o(u(s)?s:Object.prototype),d=Function.apply.call(t,h,e);return u(d)?d:h}})},function(t,e,n){var r=n(6),o=n(0),i=n(3),a=n(140);o(o.S+o.F*n(5)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){i(t),e=a(e,!0),i(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(15).f,i=n(3);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(15),o=n(0),i=n(3);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(127),i=n(3);r(r.S,"Reflect",{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){var r=n(15),o=n(127),i=n(8),a=n(0),u=n(1),s=n(3);a(a.S,"Reflect",{get:function t(e,n){var a,l,c=arguments.length<3?e:arguments[2];return s(e)===c?e[n]:(a=r.f(e,n))?i(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:u(l=o(e))?t(l,n,c):void 0}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(3),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(188)})},function(t,e,n){var r=n(0),o=n(3),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){o(t);try{return i&&i(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(161);o&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(6),o=n(15),i=n(127),a=n(8),u=n(0),s=n(21),l=n(3),c=n(1);u(u.S,"Reflect",{set:function t(e,n,u){var f,p,h=arguments.length<4?e:arguments[3],d=o.f(l(e),n);if(!d){if(c(p=i(e)))return t(p,n,u,h);d=s(0)}return a(d,"value")?!(!1===d.writable||!c(h)||(f=o.f(h,n)||s(0),f.value=u,r.f(h,n,f),0)):void 0!==d.set&&(d.set.call(h,u),!0)}})},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(6).f(RegExp.prototype,"flags",{configurable:!0,get:n(208)})},function(t,e,n){n(143)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(143)("replace",2,function(t,e,n){return[function(r,o){"use strict";var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(t,e,n){n(143)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(143)("split",2,function(t,e,r){"use strict";var o=n(179),i=r,a=[].push,u="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[u]||2!="ab".split(/(?:ab)*/)[u]||4!=".".split(/(.?)(.?)/)[u]||".".split(/()()/)[u]>1||"".split(/.?/)[u]){var s=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!o(t))return i.call(n,t,e);var r,l,c,f,p,h=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,v=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,d+"g");for(s||(r=new RegExp("^"+y.source+"$(?!\\s)",d));(l=y.exec(n))&&!((c=l.index+l[0][u])>_&&(h.push(n.slice(_,l.index)),!s&&l[u]>1&&l[0].replace(r,function(){for(p=1;p<arguments[u]-2;p++)void 0===arguments[p]&&(l[p]=void 0)}),l[u]>1&&l.index<n[u]&&a.apply(h,l.slice(1)),f=l[0][u],_=c,h[u]>=v));)y.lastIndex===l.index&&y.lastIndex++;return _===n[u]?!f&&y.test("")||h.push(""):h.push(n.slice(_)),h[u]>v?h.slice(0,v):h}}else"0".split(void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,o){var i=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(t,e,n){"use strict";var r=n(173);t.exports=n(142)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(0),o=n(216)(!1);r(r.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(165),a="".endsWith;r(r.P+r.F*n(156)("endsWith"),"String",{endsWith:function(t){var e=i(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(e.length),u=void 0===n?r:Math.min(o(n),r),s=String(t);return a?a.call(e,s,u):e.slice(u-s.length,u)===s}})},function(t,e,n){var r=n(0),o=n(130),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(0),o=n(165);r(r.P+r.F*n(156)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),o=n(12),i=n(9);r(r.S,"String",{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],u=0;n>u;)a.push(String(e[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(191)})},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(165),a="".startsWith;r(r.P+r.F*n(156)("startsWith"),"String",{startsWith:function(t){var e=i(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(2),o=n(8),i=n(10),a=n(0),u=n(22),s=n(20).KEY,l=n(5),c=n(163),f=n(129),p=n(25),h=n(4),d=n(193),_=n(217),v=n(211),y=n(207),g=n(177),m=n(3),b=n(12),k=n(140),w=n(21),S=n(137),x=n(185),P=n(15),T=n(6),E=n(24),O=P.f,M=T.f,C=x.f,j=r.Symbol,F=r.JSON,I=F&&F.stringify,A=h("_hidden"),N=h("toPrimitive"),L={}.propertyIsEnumerable,R=c("symbol-registry"),B=c("symbols"),D=c("op-symbols"),W=Object.prototype,H="function"==typeof j,U=r.QObject,z=!U||!U.prototype||!U.prototype.findChild,V=i&&l(function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(W,e);r&&delete W[e],M(t,e,n),r&&t!==W&&M(W,e,r)}:M,G=function(t){var e=B[t]=S(j.prototype);return e._k=t,e},q=H&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},Y=function(t,e,n){return t===W&&Y(D,e,n),m(t),e=k(e,!0),m(n),o(B,e)?(n.enumerable?(o(t,A)&&t[A][e]&&(t[A][e]=!1),n=S(n,{enumerable:w(0,!1)})):(o(t,A)||M(t,A,w(1,{})),t[A][e]=!0),V(t,e,n)):M(t,e,n)},J=function(t,e){m(t);for(var n,r=y(e=b(e)),o=0,i=r.length;i>o;)Y(t,n=r[o++],e[n]);return t},X=function(t){var e=L.call(this,t=k(t,!0));return!(this===W&&o(B,t)&&!o(D,t))&&(!(e||!o(this,t)||!o(B,t)||o(this,A)&&this[A][t])||e)},$=function(t,e){if(t=b(t),e=k(e,!0),t!==W||!o(B,e)||o(D,e)){var n=O(t,e);return!n||!o(B,e)||o(t,A)&&t[A][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=C(b(t)),r=[],i=0;n.length>i;)o(B,e=n[i++])||e==A||e==s||r.push(e);return r},Q=function(t){for(var e,n=t===W,r=C(n?D:b(t)),i=[],a=0;r.length>a;)!o(B,e=r[a++])||n&&!o(W,e)||i.push(B[e]);return i};H||(u((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(D,n),o(this,A)&&o(this[A],t)&&(this[A][t]=!1),V(this,t,w(1,n))};return i&&z&&V(W,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",function(){return this._k}),P.f=$,T.f=Y,n(138).f=x.f=K,n(139).f=X,n(147).f=Q,i&&!n(126)&&u(W,"propertyIsEnumerable",X,!0),d.f=function(t){return G(h(t))}),a(a.G+a.W+a.F*!H,{Symbol:j});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)h(Z[tt++]);for(var Z=E(h.store),tt=0;Z.length>tt;)_(Z[tt++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return o(R,t+="")?R[t]:R[t]=j(t)},keyFor:function(t){if(q(t))return v(R,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!H,"Object",{create:function(t,e){return void 0===e?S(t):J(S(t),e)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),F&&a(a.S+a.F*(!H||l(function(){var t=j();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return"function"==typeof(e=r[1])&&(n=e),!n&&g(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,I.apply(F,r)}}}),j.prototype[N]||n(11)(j.prototype,N,j.prototype.valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(0),o=n(167),i=n(192),a=n(3),u=n(130),s=n(9),l=n(1),c=n(2).ArrayBuffer,f=n(164),p=i.ArrayBuffer,h=i.DataView,d=o.ABV&&c.isView,_=p.prototype.slice,v=o.VIEW;r(r.G+r.W+r.F*(c!==p),{ArrayBuffer:p}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&v in t}}),r(r.P+r.U+r.F*n(5)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==_&&void 0===e)return _.call(a(this),t);for(var n=a(this).byteLength,r=u(t,n),o=u(void 0===e?n:e,n),i=new(f(this,p))(s(o-r)),l=new h(this),c=new h(i),d=0;r<o;)c.setUint8(d++,l.getUint8(r++));return i}}),n(148)("ArrayBuffer")},function(t,e,n){n(17)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(17)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){"use strict";var r,o=n(136)(0),i=n(22),a=n(20),u=n(184),s=n(174),l=n(1),c=a.getWeak,f=Object.isExtensible,p=s.ufstore,h={},d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(l(t)){var e=c(t);return!0===e?p(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return s.def(this,t,e)}},v=t.exports=n(142)("WeakMap",d,_,s,!0,!0);7!=(new v).set((Object.freeze||Object)(h),7).get(h)&&(r=s.getConstructor(d),u(r.prototype,_),a.NEED=!0,o(["delete","has","get","set"],function(t){var e=v.prototype,n=e[t];i(e,t,function(e,o){if(l(e)&&!f(e)){this._f||(this._f=new r);var i=this._f[t](e,o);return"set"==t?this:i}return n.call(this,e,o)})}))},function(t,e,n){"use strict";var r=n(174);n(142)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),o=n(151)(!0);r(r.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(121)("includes")},function(t,e,n){var r=n(0),o=n(187)(!0);r(r.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(188),i=n(12),a=n(15),u=n(153);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=i(t),r=a.f,s=o(n),l={},c=0;s.length>c;)u(l,e=s[c++],r(n,e));return l}})},function(t,e,n){var r=n(0),o=n(187)(!1);r(r.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){"use strict";var r=n(0),o=n(190);r(r.P,"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var r=n(0),o=n(190);r(r.P,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){for(var r=n(18),o=n(22),i=n(2),a=n(11),u=n(125),s=n(4),l=s("iterator"),c=s("toStringTag"),f=u.Array,p=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],h=0;h<5;h++){var d,_=p[h],v=i[_],y=v&&v.prototype;if(y)for(d in y[l]||a(y,l,f),y[c]||a(y,c,_),u[_]=f,r)y[d]||o(y,d,r[d],!0)}},function(t,e,n){var r=n(0),o=n(166);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){var r=n(2),o=n(0),i=n(145),a=n(214),u=r.navigator,s=!!u&&/MSIE .\./.test(u.userAgent),l=function(t){return s?function(e,n){return t(i(a,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};o(o.G+o.B+o.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,a=Object.create(i.prototype),u=new h(r||[]);return a._invoke=l(t,n,u),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function a(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function n(e,o,i,a){var u=r(t[e],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&g.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):Promise.resolve(l).then(function(t){s.value=t,i(s)},a)}a(u.arg)}var o;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function r(){return new Promise(function(r,o){n(t,e,r,o)})}return o=o?o.then(r,r):r()}}function l(t,e,n){var o=P;return function(i,a){if(o===E)throw new Error("Generator is already running");if(o===O){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=c(u,n);if(s){if(s===M)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===P)throw o=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=E;var l=r(t,e,n);if("normal"===l.type){if(o=n.done?O:T,l.arg===M)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=O,n.method="throw",n.arg=l.arg)}}}function c(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,c(t,e),"throw"===e.method))return M;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,M;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,M):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,M)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return r.next=r}}return{next:_}}function _(){return{value:v,done:!0}}var v,y=Object.prototype,g=y.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",k=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag",S="object"==typeof t,x=e.regeneratorRuntime;if(x)S&&(t.exports=x);else{(x=e.regeneratorRuntime=S?t.exports:{}).wrap=n;var P="suspendedStart",T="suspendedYield",E="executing",O="completed",M={},C={};C[b]=function(){return this};var j=Object.getPrototypeOf,F=j&&j(j(d([])));F&&F!==y&&g.call(F,b)&&(C=F);var I=a.prototype=o.prototype=Object.create(C);i.prototype=I.constructor=a,a.constructor=i,a[w]=i.displayName="GeneratorFunction",x.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},x.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(I),t},x.awrap=function(t){return{__await:t}},u(s.prototype),s.prototype[k]=function(){return this},x.AsyncIterator=s,x.async=function(t,e,r,o){var i=new s(n(t,e,r,o));return x.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},u(I),I[w]="Generator",I[b]=function(){return this},I.toString=function(){return"[object Generator]"},x.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},x.values=d,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,M):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),M},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),M}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),M}}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(170))},function(t,e,n){var r=n(4)("unscopables"),o=Array.prototype;null==o[r]&&n(11)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports={}},function(t,e){t.exports=!1},function(t,e,n){var r=n(8),o=n(16),i=n(162)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(22);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(6).f,o=n(8),i=n(4)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(131),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";function r(t,e){console.log((i.default.isStandalone?"":"%c")+t,i.default.isStandalone?"":e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a={debug:function(t){i.default.showDebugLog&&r("[SW debug] "+t,"color:#000000;")},warn:function(t){i.default.showErrorLog&&r("[SW warn] "+t,"color:#ff8822;")},error:function(t){i.default.showErrorLog&&r("[SW error] "+t,"color:#ff2222;")}};e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var u=n(141),s=(r(u),n(169)),l=r(s),c=n(134),f=r(c),p=n(195),h=r(p),d=n(132),_=r(d),v=n(218),y=r(v),g=n(7),m=(r(g),n(135)),b=r(m),k=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.defineProperty(n,"__readyUseMedia__",{enumerable:!0,writable:!0,value:!1}),Object.defineProperty(n,"__musicMap__",{enumerable:!0,writable:!0,value:{}}),n.__endpointProtocol__=t.endpointProtocol,n.__endpointHost__=t.endpointHost,n.__endpointPath__=t.endpointPath,n.__accessToken__=t.accessToken,n.__secretToken__=t.secretToken,n.__mediaElement__=t.mediaElement,n.dispatchers=[n],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,null,[{key:"Name",get:function(){return"player"}},{key:"Type",get:function(){return"player"}},{key:"MinVolume",get:function(){return 0}},{key:"MaxVolume",get:function(){return 100}}]),a(e,[{key:"dispose",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"activate",value:function(){this.media.play()}},{key:"useMedia",value:function(){var t=o(regeneratorRuntime.mark(function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.__readyUseMedia__){t.next=2;break}return t.abrupt("return");case 2:return this.__readyUseMedia__=!0,t.next=5,Promise.all(this.dispatchers.map(function(t){return t.dispose()}));case 5:if(!this.__media__){t.next=8;break}return t.next=8,this.__media__.dispose();case 8:t.t0=void 0===e?"undefined":i(e),t.next="string"===t.t0?11:15;break;case 11:return t.next=13,y.default.createMedia(this,e,Object.assign(r,{rootElement:this.mediaElement||r.rootElement,onMediaFactoryError:function(t){n.invokeTrap("mediaFactroyError",{target:n})},onMediaFactoryReady:function(t){n.invokeTrap("mediaFactroyReady",{target:n})}}));case 13:return this.__media__=t.sent,t.abrupt("break",17);case 15:return this.__media__=e,t.abrupt("break",17);case 17:return t.next=19,this.__media__.initialize(this,r);case 19:return t.next=21,Promise.all(this.dispatchers.map(function(t){return t.initialize(n)}));case 21:this.invokeTrap("mediaReady",{target:this}),this.__readyUseMedia__=!1;case 23:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addPlugin",value:function(t){t.dispatcherType!=h.default.Type||this.dispatchers.find(function(e){return e.dispatcherName==t.dispatcherName})?_.default.warn("'"+t.dispatcherName+"' is NOT plugin or already installed."):(t.__player__=this,this.dispatchers.push(t))}},{key:"invokeTrap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.__media__&&this.__media__.invokeSelfTrap(t,e),this.dispatchers.forEach(function(n){n.invokeSelfTrap(t,e)})}},{key:"play",value:function(){this.__media__?this.media.play():_.default.warn("'SW.Player.media' was NOT set. Please set media using 'SW.Player.useMedia' function")}},{key:"pause",value:function(){this.__media__?this.media.pause():_.default.warn("'SW.Player.media' was NOT set. Please set media using 'SW.Player.useMedia' function")}},{key:"stop",value:function(){this.__media__?(this.media.seekTo(0),this.media.pause()):_.default.warn("'SW.Player.media' was NOT set. Please set media using 'SW.Player.useMedia' function")}},{key:"seekTo",value:function(t){this.__media__?this.invokeTrap("seek",{target:this,data:{position:t}}):_.default.warn("'SW.Player.media' was NOT set. Please set media using 'SW.Player.useMedia' function")}},{key:"dispatcherName",get:function(){return e.Name}},{key:"dispatcherType",get:function(){return e.Type}},{key:"endpointProtocol",get:function(){return this.__endpointProtocol__||""}},{key:"endpointHost",get:function(){return this.__endpointHost__||""}},{key:"endpointPath",get:function(){return this.__endpointPath__||""}},{key:"accessToken",get:function(){return this.__accessToken__||""},set:function(t){this.__accessToken__=t}},{key:"secretToken",get:function(){return this.__secretToken__||""},set:function(t){this.__secretToken__=t}},{key:"mediaElement",get:function(){return b.default.querySelector(this.__mediaElement__)},set:function(t){this.__mediaElement__=t}},{key:"media",get:function(){return this.__media__}},{key:"musicMap",get:function(){return this.__musicMap__}},{key:"isReady",get:function(){return this.media?this.media.isReady:f.default.DefaultIsReady}},{key:"isPlaying",get:function(){return this.media?this.media.isPlaying:f.default.DefaultIsPlaying}},{key:"isPaused",get:function(){return this.media?this.media.isPaused:f.default.DefaultIsPaused}},{key:"isSeeking",get:function(){return this.media?this.media.isSeeking:f.default.DefaultIsSeeking}},{key:"position",get:function(){return this.media?this.media.position:0}},{key:"duration",get:function(){return this.media?this.media.duration:0}},{key:"volume",get:function(){return this.media.volume},set:function(t){t<0&&(t=0),t>100&&(t=100),this.media.volume=t}}]),e}(l.default),w=k;e.default=w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var u=n(169),s=r(u),l=n(132),c=r(l),f=n(141),p=r(f),h=n(7),d=r(h),_=!0,v=!1,y=!0,g=!1,m=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),Object.defineProperty(r,"__stateIsReady__",{enumerable:!0,writable:!0,value:_}),Object.defineProperty(r,"__stateIsPlaying__",{enumerable:!0,writable:!0,value:v}),Object.defineProperty(r,"__stateIsPaused__",{enumerable:!0,writable:!0,value:y}),Object.defineProperty(r,"__stateIsSeeking__",{enumerable:!0,writable:!0,value:g}),Object.defineProperty(r,"__duration__",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"__seekTimeHistories__",{enumerable:!0,writable:!0,value:[]}),Object.defineProperty(r,"sourceUrl",{enumerable:!0,writable:!0,value:""}),Object.defineProperty(r,"__clockUpdateTime__",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"__clockAdjustTime__",{enumerable:!0,writable:!0,value:0}),o(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"initialize",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(n){var r,o,i,u,s=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),r=0,o=0,i=0,this.on("mediaStateChange",function(t){switch(t.data.mediaStateId){case e.StatePlaying:c.default.debug("Media state change to 'playing'"),o=d.default.currentTimeToMilliseconds,i=0==r?0:o-r,s.__seekTimeHistories__.push(i),s.player.invokeTrap("mediaSeek",{target:t.target,data:{position:s.originalPosition,seekTime:i}}),r=0,o=0,i=0,s.isPaused&&s.player.invokeTrap("mediaPlay",{target:t.target}),s.__setMediaState__(e.StatePlaying);break;case e.StatePaused:c.default.debug("Media state change to 'paused'"),o=d.default.currentTimeToMilliseconds,i=0==r?0:o-r,s.__seekTimeHistories__.push(i),s.player.invokeTrap("mediaSeek",{target:t.target,data:{position:s.originalPosition,seekTime:i}}),r=0,o=0,i=0,s.isPaused||s.player.invokeTrap("mediaPause",{target:t.target}),s.__setMediaState__(e.StatePaused);break;case e.StateSeeking:c.default.debug("Media state change to 'seeking'"),r=d.default.currentTimeToMilliseconds,s.__setMediaState__(e.StateSeeking);break;case e.StateFinished:c.default.debug("Media state change to 'finished'"),s.player.invokeTrap("mediaFinish",{target:t.target}),s.__setMediaState__(e.StatePaused);break;case e.StateTimeUpdate:s.__adjustMediaPosition__();break;default:c.default.debug("Unknown media state (ID: "+t.data.mediaStateId+")")}}),this.on("mediaReady",function(t){c.default.debug("Invoke 'mediaReady'"),s.player.invokeTrap("ready",t)}),this.on("mediaPlay",function(t){c.default.debug("Invoke 'mediaPlay'"),s.player.invokeTrap("play",t)}),this.on("mediaPause",function(t){c.default.debug("Invoke 'mediaPause'"),s.player.invokeTrap("pause",t)}),this.on("mediaSeek",function(t){c.default.debug("Invoke 'mediaSeek' (seek time: "+t.data.seekTime+" [ms])")}),this.on("mediaFinish",function(t){c.default.debug("Invoke 'mediaFinish'"),s.player.invokeTrap("finish",t),s.__clockUpdateTime__=d.default.currentTimeToMilliseconds,s.__clockAdjustTime__=0}),this.on("seek",function(t){s.seekTo(t.data.position)}),t.next=13,p.default.MusicMap.getSong(this.player,{endpointProtocol:l.endpointProtocol,endpointHost:l.endpointHost,endpointPath:l.endpointPath});case 13:u=t.sent,this.sourceUrl=u.permalink,this.__duration__=u.duration,this.__name__=u.name||u.title,u.artist&&(this.__artistName__=u.artist.name);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"seekTo",value:function(t){this.__clockUpdateTime__=d.default.currentTimeToMilliseconds,this.__clockAdjustTime__=t}},{key:"__adjustMediaPosition__",value:function(){this.__clockUpdateTime__=d.default.currentTimeToMilliseconds,this.__clockAdjustTime__=this.originalPosition}},{key:"__invokeMediaStateChangeTrap__",value:function(t,e){this.player.invokeTrap("mediaStateChange",{target:t,data:{mediaStateId:e,position:this.originalPosition}})}},{key:"__setMediaState__",value:function(t){switch(t){case e.StatePlaying:this.__stateIsReady__=!1,this.__stateIsPlaying__=!0,this.__stateIsPaused__=!1,this.__stateIsSeeking__=!1;break;case e.StatePaused:this.__stateIsReady__=!1,this.__stateIsPlaying__=!1,this.__stateIsPaused__=!0,this.__stateIsSeeking__=!1;break;case e.StateSeeking:this.__stateIsReady__=!1,this.__stateIsSeeking__=!0}}},{key:"dispatcherName",get:function(){return e.Name}},{key:"dispatcherType",get:function(){return e.Type}},{key:"name",get:function(){return this.__name__}},{key:"artistName",get:function(){return this.__artistName__}},{key:"isReady",get:function(){return this.__stateIsReady__}},{key:"isPlaying",get:function(){return this.__stateIsPlaying__}},{key:"isPaused",get:function(){return this.__stateIsPaused__}},{key:"isSeeking",get:function(){return this.__stateIsSeeking__}},{key:"medianSeekTime",get:function(){var t=this.__seekTimeHistories__.sort(function(t,e){return t-e});return Math.abs(t[Math.floor(t.length/2)]||0)}},{key:"duration",get:function(){return this.__duration__}},{key:"originalDuration",get:function(){return this.duration}},{key:"position",get:function(){var t=d.default.currentTimeToMilliseconds-this.__clockUpdateTime__,e=this.__clockAdjustTime__+(this.isPlaying?t:0);return e<0&&(e=0),e>this.duration&&(e=this.duration),e}},{key:"originalPosition",get:function(){return this.position}},{key:"loadedRatio",get:function(){return 0}},{key:"playedRatio",get:function(){return 0==this.duration?0:this.position/this.duration}},{key:"volume",get:function(){return 0},set:function(t){}}],[{key:"Name",get:function(){return"media"}},{key:"Type",get:function(){return"media"}},{key:"DefaultIsReady",get:function(){return _}},{key:"DefaultIsPlaying",get:function(){return v}},{key:"DefaultIsPaused",get:function(){return y}},{key:"DefaultIsSeeking",get:function(){return g}},{key:"StateReady",get:function(){return 0}},{key:"StatePlaying",get:function(){return 1}},{key:"StatePaused",get:function(){return 2}},{key:"StateSeeking",get:function(){return 3}},{key:"StateFinished",get:function(){return 4}},{key:"StateTimeUpdate",get:function(){return 5}}]),e}(s.default);Object.defineProperty(m,"DefaultVideoPlayerSizeW",{enumerable:!0,writable:!0,value:256}),Object.defineProperty(m,"DefaultVideoPlayerSizeH",{enumerable:!0,writable:!0,value:144});var b=m;e.default=b},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.allow=n.allow||"autoplay",n.autoplay=n.autoplay||!1,n.controls=n.controls||!1,t.autoplay=n.autoplay,t.controls=n.controls,t.src=e,t.setAttribute("allow",n.allow)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a={createHTMLAudioElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.default.global.document.createElement("audio");return r(n,t,e),n},createHTMLVideoElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.default.global.document.createElement("video");return r(n,t,e),n},createScriptElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.default.global.document.createElement("script");return e.async=e.async||!1,e.defer=e.defer||!1,e.type=e.type||"text/javascript",n.async=e.async,n.defer=e.defer,n.src=t,n.type=e.type,n.addEventListener("abort",e.onAbort,!1),n.addEventListener("error",e.onError,!1),n.addEventListener("load",e.onLoad,!1),n},querySelector:function(t){return"string"==typeof t?i.default.global.document.querySelector(t):t}};e.default=a},function(t,e,n){var r=n(14),o=n(157),i=n(16),a=n(9),u=n(205);t.exports=function(t,e){var n=1==t,s=2==t,l=3==t,c=4==t,f=6==t,p=5==t||f,h=e||u;return function(e,u,d){for(var _,v,y=i(e),g=o(y),m=r(u,d,3),b=a(g.length),k=0,w=n?h(e,b):s?h(e,0):void 0;b>k;k++)if((p||k in g)&&(_=g[k],v=m(_,k,y),t))if(n)w[k]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return k;case 2:w.push(_)}else if(c)return!1;return f?-1:l||c?c:w}}},function(t,e,n){var r=n(3),o=n(213),i=n(155),a=n(162)("IE_PROTO"),u=function(){},s=function(){var t,e=n(154)("iframe"),r=i.length;for(e.style.display="none",n(175).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[i[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=s(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(186),o=n(155).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(149),i=r(o),a=n(199),u=r(a),s=n(200),l=r(s),c={ajax:i.default.ajax,ajaxJSON:i.default.ajaxJSON,getJSON:i.default.getJSON,postJSON:i.default.postJSON,putJSON:i.default.putJSON,MusicMap:{getSong:u.default.getSong,getSongBeat:u.default.getSongBeat,getSongChord:u.default.getSongChord,getSongMelody:u.default.getSongMelody,getSongChorus:u.default.getSongChorus,getSongVariation:u.default.getSongVariation},SongleSync:l.default};e.default=c},function(t,e,n){"use strict";var r=n(2),o=n(0),i=n(22),a=n(128),u=n(20),s=n(144),l=n(122),c=n(1),f=n(5),p=n(146),h=n(129),d=n(209);t.exports=function(t,e,n,_,v,y){var g=r[t],m=g,b=v?"set":"add",k=m&&m.prototype,w={},S=function(t){var e=k[t];i(k,t,"delete"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(y||k.forEach&&!f(function(){(new m).entries().next()}))){var x=new m,P=x[b](y?{}:-0,1)!=x,T=f(function(){x.has(1)}),E=p(function(t){new m(t)}),O=!y&&f(function(){for(var t=new m,e=5;e--;)t[b](e,e);return!t.has(-0)});E||((m=e(function(e,n){l(e,m,t);var r=d(new g,e,m);return null!=n&&s(n,v,r[b],r),r})).prototype=k,k.constructor=m),(T||O)&&(S("delete"),S("has"),v&&S("get")),(O||P)&&S(b),y&&k.clear&&delete k.clear}else m=_.getConstructor(e,t,v,b),a(m.prototype,n),u.NEED=!0;return h(m,t),w[t]=m,o(o.G+o.W+o.F*(m!=g),w),y||_.setStrong(m,t,v),m}},function(t,e,n){"use strict";var r=n(11),o=n(22),i=n(5),a=n(19),u=n(4);t.exports=function(t,e,n){var s=u(t),l=n(a,s,""[t]),c=l[0],f=l[1];i(function(){var e={};return e[s]=function(){return 7},7!=""[t](e)})&&(o(String.prototype,t,c),r(RegExp.prototype,s,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){var r=n(14),o=n(180),i=n(158),a=n(3),u=n(9),s=n(168),l={},c={},e=t.exports=function(t,e,n,f,p){var h,d,_,v,y=p?function(){return t}:s(t),g=r(n,f,e?2:1),m=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(h=u(t.length);h>m;m++)if((v=e?g(a(d=t[m])[0],d[1]):g(t[m]))===l||v===c)return v}else for(_=y.call(t);!(d=_.next()).done;)if((v=o(_,g,d.value,e))===l||v===c)return v};e.BREAK=l,e.RETURN=c},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(4)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(2),o=n(6),i=n(10),a=n(4)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,o){var i=null!=n.method?n.method:"GET",a=null!=n.responseType?n.responseType:"",u=new XMLHttpRequest;switch(u.addEventListener("abort",function(t){o(u)},!1),u.addEventListener("error",function(t){o(u)},!1),u.addEventListener("load",function(t){r(u)},!1),u.open(i,t,!0),u.responseType=a,i){case"GET":u.send();break;default:u.setRequestHeader("Content-Type","application/json"),u.send(JSON.stringify(e))}})}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(o,a){r(t,e,{method:n.method,responseType:n.responseType}).then(function(t){var e=i(t);o(e)},function(t){var e=i(t);a(e)})})}function i(t){var e=t.responseText||t.response||"null";return JSON.parse(e)}Object.defineProperty(e,"__esModule",{value:!0});var a={ajax:r,ajaxJSON:o,getJSON:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.method="GET",o(t,null,e)},postJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method="POST",o(t,e,n)},putJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method="PUT",o(t,e,n)},deleteJSON:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method="DELETE",o(t,e,n)}};e.default=a},function(t,e,n){"use strict";var r=n(16),o=n(130),i=n(9);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,l=void 0===s?n:o(s,n);l>u;)e[u++]=t;return e}},function(t,e,n){var r=n(12),o=n(9),i=n(130);t.exports=function(t){return function(e,n,a){var u,s=r(e),l=o(s.length),c=i(a,l);if(t&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(123),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var r=n(6),o=n(21);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(1),o=n(2).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(4)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(123);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(125),o=n(4)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(1),o=n(3),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(14)(Function.call,n(15).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){var r=n(163)("keys"),o=n(25);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(3),o=n(23),i=n(4)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(179),o=n(19);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var r,o,i,a=n(14),u=n(145),s=n(175),l=n(154),c=n(2),f=c.process,p=c.setImmediate,h=c.clearImmediate,d=c.MessageChannel,_=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},g=function(t){y.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++_]=function(){u("function"==typeof t?t:Function(t),e)},r(_),_},h=function(t){delete v[t]},"process"==n(123)(f)?r=function(t){f.nextTick(a(y,t,1))}:d?(o=new d,i=o.port2,o.port1.onmessage=g,r=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",g,!1)):r="onreadystatechange"in l("script")?function(t){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:p,clear:h}},function(t,e,n){for(var r,o=n(2),i=n(11),a=n(25),u=a("typed_array"),s=a("view"),l=!(!o.ArrayBuffer||!o.DataView),c=l,f=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[p[f++]])?(i(r.prototype,u,!0),i(r.prototype,s,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:u,VIEW:s}},function(t,e,n){var r=n(152),o=n(4)("iterator"),i=n(125);t.exports=n(124).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);n(133);var i=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),Object.defineProperty(this,"traps",{enumerable:!0,writable:!0,value:[]})}return o(t,[{key:"initialize",value:function(){var t=r(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.__player__=e;case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){var t=r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.traps=[];case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"mapTraps",value:function(t){var e=this,n=this.player.dispatchers.map(function(n){return n.traps.map(function(n){if(-1!=e.__convertToStringArray__(t).indexOf(n.name))return n}).filter(function(t){return null!=t})});return Array.prototype.concat.apply([],n)}},{key:"mapTrapsHasAnyData",value:function(t){return this.mapTraps(t).filter(function(t){return null!=t.data})}},{key:"mapTrapsHasNotData",value:function(t){return this.mapTraps(t).filter(function(t){return null==t.data})}},{key:"on",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.offset=null!=r.offset?r.offset:0,(t=this.__convertToStringArray__(t)).forEach(function(t){t=n.__validateTrapName__(t),n.traps.push({name:t,trap:e,data:null,options:r})})}},{key:"off",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2],(t=this.__convertToStringArray__(t)).forEach(function(t){t=n.__validateTrapName__(t),n.traps.forEach(function(r,o){r.name===t&&r.trap===e&&n.traps.splice(o,1)})})}},{key:"invokeSelfTrap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=this.__validateTrapName__(t),this.traps.forEach(function(n){n.name==t&&(e.type=t,n.trap(e))})}},{key:"__convertToStringArray__",value:function(t){return"string"==typeof t?[t]:t}},{key:"__validateTrapName__",value:function(t){switch(t){case"beatPlay":t="beatEnter";break;case"chordChange":case"chordPlay":t="chordEnter";break;case"melodyPlay":t="melodyEnter";break;case"variationChange":case"variationPlay":t="variationEnter";break;case"chorusEnter":t="chorusSectionEnter";break;case"chorusLeave":t="chorusSectionLeave";break;case"repeatEnter":t="repeatSectionEnter";break;case"repeatLeave":t="repeatSectionLeave"}return t}},{key:"dispatcherName",get:function(){return"dispatcher"}},{key:"dispatcherType",get:function(){return"dispatcher"}},{key:"player",get:function(){return this.__player__}}],[{key:"Name",get:function(){return"dispatcher"}},{key:"Type",get:function(){return"dispatcher"}}]),t}(),a=i;e.default=a},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign(e,n);return"string"!=typeof t&&t&&t.invokeTrap("error",{data:r}),r}Object.defineProperty(e,"__esModule",{value:!0});var o={createError:r,createMediaSourceError:function(t){return r(t,{message:"Maybe 'mediaSource' is invalid. please check 'Songle.Player#useMedia' in your code."})},createAccessTokenError:function(t){return r(t,{message:"Maybe 'accessToken' is invalid. please check 'Songle.Player.accessToken' in your code."})},createSecretTokenError:function(t){return r(t,{message:"Maybe 'secretToken' is invalid. please check 'Songle.Player.secretToken' in your code."})}};e.default=o},function(t,e,n){"use strict";var r=n(16),o=n(130),i=n(9);t.exports=[].copyWithin||function(t,e){var n=r(this),a=i(n.length),u=o(t,a),s=o(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:o(l,a))-s,a-u),f=1;for(s<u&&u<s+c&&(f=-1,s+=c-1,u+=c-1);c-- >0;)s in n?n[u]=n[s]:delete n[u],u+=f,s+=f;return n}},function(t,e,n){"use strict";var r=n(6).f,o=n(137),i=n(128),a=n(14),u=n(122),s=n(19),l=n(144),c=n(181),f=n(182),p=n(148),h=n(10),d=n(20).fastKey,_=h?"_s":"size",v=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var f=t(function(t,r){u(t,f,e,"_i"),t._i=o(null),t._f=void 0,t._l=void 0,t[_]=0,null!=r&&l(r,n,t[c],t)});return i(f.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[_]=0},delete:function(t){var e=this,n=v(e,t);if(n){var r=n.n,o=n.p;delete e._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),e._f==n&&(e._f=r),e._l==n&&(e._l=o),e[_]--}return!!n},forEach:function(t){u(this,f,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),h&&r(f.prototype,"size",{get:function(){return s(this[_])}}),f},def:function(t,e,n){var r,o,i=v(t,e);return i?i.v=n:(t._l=i={i:o=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[_]++,"F"!==o&&(t._i[o]=i)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?f(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,f(1))},n?"entries":"values",!n,!0),p(e)}}},function(t,e,n){"use strict";var r=n(128),o=n(20).getWeak,i=n(3),a=n(1),u=n(122),s=n(144),l=n(136),c=n(8),f=l(5),p=l(6),h=0,d=function(t){return t._l||(t._l=new _)},_=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};_.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var l=t(function(t,r){u(t,l,e,"_i"),t._i=h++,t._l=void 0,null!=r&&s(r,n,t[i],t)});return r(l.prototype,{delete:function(t){if(!a(t))return!1;var e=o(t);return!0===e?d(this).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=o(t);return!0===e?d(this).has(t):e&&c(e,this._i)}}),l},def:function(t,e,n){var r=o(i(e),!0);return!0===r?d(t).set(e,n):r[t._i]=n,t},ufstore:d}},function(t,e,n){t.exports=n(2).document&&document.documentElement},function(t,e,n){t.exports=!n(10)&&!n(5)(function(){return 7!=Object.defineProperty(n(154)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(123);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(1),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){var r=n(1),o=n(123),i=n(4)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){var r=n(3);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){"use strict";var r=n(126),o=n(0),i=n(22),a=n(11),u=n(8),s=n(125),l=n(210),c=n(129),f=n(127),p=n(4)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,_,v,y,g){l(n,e,_);var m,b,k,w=function(t){if(!h&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",x="values"==v,P=!1,T=t.prototype,E=T[p]||T["@@iterator"]||v&&T[v],O=E||w(v),M=v?x?w("entries"):O:void 0,C="Array"==e&&T.entries||E;if(C&&(k=f(C.call(new t)))!==Object.prototype&&(c(k,S,!0),r||u(k,p)||a(k,p,d)),x&&E&&"values"!==E.name&&(P=!0,O=function(){return E.call(this)}),r&&!g||!h&&!P&&T[p]||a(T,p,O),s[e]=O,s[S]=d,v)if(m={values:x?O:w("values"),keys:y?O:w("keys"),entries:M},g)for(b in m)b in T||i(T,b,m[b]);else o(o.P+o.F*(h||P),e,m);return m}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(24),o=n(147),i=n(139),a=n(16),u=n(157),s=Object.assign;t.exports=!s||n(5)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=a(t),s=arguments.length,l=1,c=o.f,f=i.f;s>l;)for(var p,h=u(arguments[l++]),d=c?r(h).concat(c(h)):r(h),_=d.length,v=0;_>v;)f.call(h,p=d[v++])&&(n[p]=h[p]);return n}:s},function(t,e,n){var r=n(12),o=n(138).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(8),o=n(12),i=n(151)(!1),a=n(162)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),s=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var r=n(24),o=n(12),i=n(139).f;t.exports=function(t){return function(e){for(var n,a=o(e),u=r(a),s=u.length,l=0,c=[];s>l;)i.call(a,n=u[l++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var r=n(138),o=n(147),i=n(3),a=n(2).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(i(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(9),o=n(191),i=n(19);t.exports=function(t,e,n,a){var u=String(i(t)),s=u.length,l=void 0===n?" ":String(n),c=r(e);if(c<=s||""==l)return u;var f=c-s,p=o.call(l,Math.ceil(f/l.length));return p.length>f&&(p=p.slice(0,f)),a?p+u:u+p}},function(t,e,n){"use strict";var r=n(131),o=n(19);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(2),o=n(10),i=n(126),a=n(167),u=n(11),s=n(128),l=n(5),c=n(122),f=n(131),p=n(9),h=n(138).f,d=n(6).f,_=n(150),v=n(129),y=r.ArrayBuffer,g=r.DataView,m=r.Math,b=r.RangeError,k=r.Infinity,w=y,S=m.abs,x=m.pow,P=m.floor,T=m.log,E=m.LN2,O=o?"_b":"buffer",M=o?"_l":"byteLength",C=o?"_o":"byteOffset",j=function(t,e,n){var r,o,i,a=Array(n),u=8*n-e-1,s=(1<<u)-1,l=s>>1,c=23===e?x(2,-24)-x(2,-77):0,f=0,p=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===k?(o=t!=t?1:0,r=s):(r=P(T(t)/E),t*(i=x(2,-r))<1&&(r--,i*=2),(t+=r+l>=1?c/i:c*x(2,1-l))*i>=2&&(r++,i/=2),r+l>=s?(o=0,r=s):r+l>=1?(o=(t*i-1)*x(2,e),r+=l):(o=t*x(2,l-1)*x(2,e),r=0));e>=8;a[f++]=255&o,o/=256,e-=8);for(r=r<<e|o,u+=e;u>0;a[f++]=255&r,r/=256,u-=8);return a[--f]|=128*p,a},F=function(t,e,n){var r,o=8*n-e-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,l=t[s--],c=127&l;for(l>>=7;u>0;c=256*c+t[s],s--,u-=8);for(r=c&(1<<-u)-1,c>>=-u,u+=e;u>0;r=256*r+t[s],s--,u-=8);if(0===c)c=1-a;else{if(c===i)return r?NaN:l?-k:k;r+=x(2,e),c-=a}return(l?-1:1)*r*x(2,c-e)},I=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},A=function(t){return[255&t]},N=function(t){return[255&t,t>>8&255]},L=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},R=function(t){return j(t,52,8)},B=function(t){return j(t,23,4)},D=function(t,e,n){d(t.prototype,e,{get:function(){return this[n]}})},W=function(t,e,n,r){var o=+n,i=f(o);if(o!=i||i<0||i+e>t[M])throw b("Wrong index!");var a=t[O]._b,u=i+t[C],s=a.slice(u,u+e);return r?s:s.reverse()},H=function(t,e,n,r,o,i){var a=+n,u=f(a);if(a!=u||u<0||u+e>t[M])throw b("Wrong index!");for(var s=t[O]._b,l=u+t[C],c=r(+o),p=0;p<e;p++)s[l+p]=c[i?p:e-p-1]},U=function(t,e){c(t,y,"ArrayBuffer");var n=+e,r=p(n);if(n!=r)throw b("Wrong length!");return r};if(a.ABV){if(!l(function(){new y})||!l(function(){new y(.5)})){for(var z,V=(y=function(t){return new w(U(this,t))}).prototype=w.prototype,G=h(w),q=0;G.length>q;)(z=G[q++])in y||u(y,z,w[z]);i||(V.constructor=y)}var Y=new g(new y(2)),J=g.prototype.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||s(g.prototype,{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else y=function(t){var e=U(this,t);this._b=_.call(Array(e),0),this[M]=e},g=function(t,e,n){c(this,g,"DataView"),c(t,y,"DataView");var r=t[M],o=f(e);if(o<0||o>r)throw b("Wrong offset!");if(n=void 0===n?r-o:p(n),o+n>r)throw b("Wrong length!");this[O]=t,this[C]=o,this[M]=n},o&&(D(y,"byteLength","_l"),D(g,"buffer","_b"),D(g,"byteLength","_l"),D(g,"byteOffset","_o")),s(g.prototype,{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return I(W(this,4,t,arguments[1]))},getUint32:function(t){return I(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,A,e)},setUint8:function(t,e){H(this,1,t,A,e)},setInt16:function(t,e){H(this,2,t,N,e,arguments[2])},setUint16:function(t,e){H(this,2,t,N,e,arguments[2])},setInt32:function(t,e){H(this,4,t,L,e,arguments[2])},setUint32:function(t,e){H(this,4,t,L,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,B,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,R,e,arguments[2])}});v(y,"ArrayBuffer"),v(g,"DataView"),u(g.prototype,a.VIEW,!0),e.ArrayBuffer=y,e.DataView=g},function(t,e,n){e.f=n(4)},function(t,e,n){"use strict";function r(){return document.querySelector("."+a)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a="songle-api-license",u={createLicense:function(t){if(!i.default.isStandalone){var e=r();if(!e){switch((e=document.createElement("img")).className=a,e.style.cursor="pointer",e.style.borderRadius="4px",e.style.position="fixed",e.style.zIndex="9999",t){case"left-top":e.style.left="4px",e.style.top="4px",e.style.width="24px",e.style.height="24px";break;case"left-bottom":e.style.left="4px",e.style.bottom="4px",e.style.width="24px",e.style.height="24px";break;case"right-top":e.style.right="4px",e.style.top="4px",e.style.width="24px",e.style.height="24px";break;default:case"right-bottom":e.style.right="4px",e.style.bottom="4px",e.style.width="24px",e.style.height="24px"}e.alt="Powered by Songle API",e.src="https://api.songle.jp/license-icons/songle.png",e.width=24,e.height=24,e.addEventListener("click",function(t){return open("https://api.songle.jp")},!1),e.addEventListener("touch",function(t){return open("https://api.songle.jp")},!1),document.body&&document.body.appendChild(e)}}},removeLicense:function(){if(!i.default.isStandalone){var t=r();t&&t.remove()}}};e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var o=n(169),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"dispatcherName",get:function(){return"plugin"}},{key:"dispatcherType",get:function(){return"plugin"}}],[{key:"Name",get:function(){return"plugin"}},{key:"Type",get:function(){return"plugin"}}]),e}(i.default),u=a;e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(133),u=(r(a),n(134)),s=r(u),l="play",c="pause",f="seeking",p="ended",h="timeupdate",d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.__originalPlayer__=t,n.__originalPlayer__.addEventListener(l,function(t){n.__invokeMediaStateChangeTrap__(n,s.default.StatePlaying)}),n.__originalPlayer__.addEventListener(c,function(t){n.__invokeMediaStateChangeTrap__(n,s.default.StatePaused)}),n.__originalPlayer__.addEventListener(f,function(t){n.__invokeMediaStateChangeTrap__(n,s.default.StateSeeking)}),n.__originalPlayer__.addEventListener(p,function(t){n.__invokeMediaStateChangeTrap__(n,s.default.StateFinished)}),n.__originalPlayer__.addEventListener(h,function(t){n.__invokeMediaStateChangeTrap__(n,s.default.StateTimeUpdate)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"Name",get:function(){return"sw-media-html-media-element"}}]),i(e,[{key:"dispose",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this),this.__originalPlayer__.remove();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"play",value:function(){this.isPlaying||this.__originalPlayer__.play()}},{key:"pause",value:function(){this.isPaused||this.__originalPlayer__.pause()}},{key:"seekTo",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"seekTo",this).call(this,t),this.__originalPlayer__.currentTime=t/1e3}},{key:"dispatcherName",get:function(){return e.Name}},{key:"originalPosition",get:function(){return 1e3*this.__originalPlayer__.currentTime}},{key:"volume",get:function(){return 100*this.__originalPlayer__.volume},set:function(t){var e=t/100;e<0&&(e=0),e>1&&(e=1),this.__originalPlayer__.volume=e}}]),e}(s.default),_=d;e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(133),u=(r(a),n(134)),s=r(u),l=32,c=48,f=50,p=64,h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.__originalPlayer__=t,n.__originalPlayer__.addEventListener("statusChange",function(t){switch(n.__invokeMediaStateChangeTrap__(n,s.default.StateTimeUpdate),t.playerStatus<<4|t.seekStatus<<0){case l:n.__invokeMediaStateChangeTrap__(n,s.default.StatePlaying);break;case c:n.__invokeMediaStateChangeTrap__(n,s.default.StatePaused);break;case f:n.__invokeMediaStateChangeTrap__(n,s.default.StateSeeking);break;case p:n.__invokeMediaStateChangeTrap__(n,s.default.StateFinished)}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"Name",get:function(){return"sw-media-nn-video"}}]),i(e,[{key:"dispose",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this),this.__originalPlayer__.dispose();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"play",value:function(){this.isPlaying||this.__originalPlayer__.play()}},{key:"pause",value:function(){this.isPaused||this.__originalPlayer__.pause()}},{key:"seekTo",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"seekTo",this).call(this,t),this.__originalPlayer__.currentTime(t)}},{key:"dispatcherName",get:function(){return e.Name}},{key:"originalPosition",get:function(){return this.__originalPlayer__.currentTime()}},{key:"volume",get:function(){return 100*this.__originalPlayer__.volume()},set:function(t){var e=t/100;e<0&&(e=0),e>1&&(e=1),this.__originalPlayer__.volume(e)}}]),e}(s.default),d=h;e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(133),u=(r(a),n(134)),s=r(u),l=1,c=2,f=3,p=0,h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.__originalPlayer__=t.target,n.__originalPlayer__.addEventListener("onStateChange",function(t){switch(n.__invokeMediaStateChangeTrap__(n,s.default.StateTimeUpdate),t.data){case l:n.__invokeMediaStateChangeTrap__(n,s.default.StatePlaying);break;case c:n.__invokeMediaStateChangeTrap__(n,s.default.StatePaused);break;case f:n.__invokeMediaStateChangeTrap__(n,s.default.StateSeeking);break;case p:n.__invokeMediaStateChangeTrap__(n,s.default.StateFinished)}}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"Name",get:function(){return"sw-media-yt-video"}}]),i(e,[{key:"dispose",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this),this.__originalPlayer__.destroy();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"play",value:function(){this.isPlaying||this.__originalPlayer__.playVideo()}},{key:"pause",value:function(){this.isPaused||this.__originalPlayer__.pauseVideo()}},{key:"seekTo",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"seekTo",this).call(this,t),this.__originalPlayer__.seekTo(t/1e3)}},{key:"dispatcherName",get:function(){return e.Name}},{key:"originalPosition",get:function(){return 1e3*this.__originalPlayer__.getCurrentTime()}},{key:"volume",get:function(){return this.__originalPlayer__.getVolume()},set:function(t){var e=t;e<0&&(e=0),e>100&&(e=100),this.__originalPlayer__.setVolume(e)}}]),e}(s.default),d=h;e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(149),i=r(o),a=n(171),u=r(a),s=n(7),l=r(s),c={getSong:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=null!=e.endpointProtocol?e.endpointProtocol:"",a=null!=e.endpointHost?e.endpointHost:"",s=null!=e.endpointPath?e.endpointPath:"",c="string"==typeof t?t:t&&t.media?t.media.sourceUrl:"",f=[];if(f.push("syntax=camelcase"),f.push("endpoint_protocol="+String(o)),f.push("endpoint_host="+String(a)),f.push("endpoint_path="+String(s)),f.push("url="+String(encodeURIComponent(c))),l.default.stringIsBlank(c))return r(u.default.createMediaSourceError(t));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/song.json?"+String(f.join("&"))).then(function(e){if(200!=e.status)return r(u.default.createError(t,e));n(e.result)},function(t){r(t)})})},getSongBeat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=null!=e.endpointProtocol?e.endpointProtocol:"",a=null!=e.endpointHost?e.endpointHost:"",s=null!=e.endpointPath?e.endpointPath:"",c="string"==typeof t?t:t&&t.media?t.media.sourceUrl:"",f=null!=e.revisionId?e.revisionId:0,p=[];if(p.push("syntax=camelcase"),p.push("endpoint_protocol="+String(o)),p.push("endpoint_host="+String(a)),p.push("endpoint_path="+String(s)),p.push("url="+String(encodeURIComponent(c))),p.push("revision_id="+String(f)),l.default.stringIsBlank(c))return r(u.default.createMediaSourceError(t));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/song/beat.json?"+String(p.join("&"))).then(function(e){if(200!=e.status)return r(u.default.createError(t,e));n(e.result)},function(t){r(t)})})},getSongChord:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=null!=e.endpointProtocol?e.endpointProtocol:"",a=null!=e.endpointHost?e.endpointHost:"",s=null!=e.endpointPath?e.endpointPath:"",c="string"==typeof t?t:t&&t.media?t.media.sourceUrl:"",f=null!=e.revisionId?e.revisionId:0,p=[];if(p.push("syntax=camelcase"),p.push("endpoint_protocol="+String(o)),p.push("endpoint_host="+String(a)),p.push("endpoint_path="+String(s)),p.push("url="+String(encodeURIComponent(c))),p.push("revision_id="+String(f)),l.default.stringIsBlank(c))return r(u.default.createMediaSourceError(t));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/song/chord.json?"+String(p.join("&"))).then(function(e){if(200!=e.status)return r(u.default.createError(t,e));n(e.result)},function(t){r(t)})})},getSongMelody:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=null!=e.endpointProtocol?e.endpointProtocol:"",a=null!=e.endpointHost?e.endpointHost:"",s=null!=e.endpointPath?e.endpointPath:"",c="string"==typeof t?t:t&&t.media?t.media.sourceUrl:"",f=null!=e.revisionId?e.revisionId:0,p=[];if(p.push("syntax=camelcase"),p.push("endpoint_protocol="+String(o)),p.push("endpoint_host="+String(a)),p.push("endpoint_path="+String(s)),p.push("url="+String(encodeURIComponent(c))),p.push("revision_id="+String(f)),l.default.stringIsBlank(c))return r(u.default.createMediaSourceError(t));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/song/melody.json?"+String(p.join("&"))).then(function(e){if(200!=e.status)return r(u.default.createError(t,e));n(e.result)},function(t){r(t)})})},getSongChorus:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=null!=e.endpointProtocol?e.endpointProtocol:"",a=null!=e.endpointHost?e.endpointHost:"",s=null!=e.endpointPath?e.endpointPath:"",c="string"==typeof t?t:t&&t.media?t.media.sourceUrl:"",f=null!=e.revisionId?e.revisionId:0,p=[];if(p.push("syntax=camelcase"),p.push("endpoint_protocol="+String(o)),p.push("endpoint_host="+String(a)),p.push("endpoint_path="+String(s)),p.push("url="+String(encodeURIComponent(c))),p.push("revision_id="+String(f)),l.default.stringIsBlank(c))return r(u.default.createMediaSourceError(t));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/song/chorus.json?"+String(p.join("&"))).then(function(e){if(200!=e.status)return r(u.default.createError(t,e));n(e.result)},function(t){r(t)})})},getSongVariation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var o=null!=e.endpointProtocol?e.endpointProtocol:"",a=null!=e.endpointHost?e.endpointHost:"",s=null!=e.endpointPath?e.endpointPath:"",c="string"==typeof t?t:t&&t.media?t.media.sourceUrl:"",f=null!=e.revisionId?e.revisionId:0,p=null!=e.groupCount?e.groupCount:2,h=[];if(h.push("syntax=camelcase"),h.push("endpoint_protocol="+String(o)),h.push("endpoint_host="+String(a)),h.push("endpoint_path="+String(s)),h.push("url="+String(encodeURIComponent(c))),h.push("revision_id="+String(f)),h.push("group_count="+String(p)),l.default.stringIsBlank(c))return r(u.default.createMediaSourceError(t));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/song/variation.json?"+String(h.join("&"))).then(function(e){if(200!=e.status)return r(u.default.createError(t,e));n(e.result)},function(t){r(t)})})}};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(149),i=r(o),a=n(171),u=r(a),s=n(7),l=r(s),c={getClock:function(t){var e=t.player,n=t.accessToken;return t.secretToken,new Promise(function(t,r){var o=[];if(o.push("syntax=camelcase"),l.default.stringIsBlank(n))return r(u.default.createAccessTokenError(e));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(n)+"/sync/clock.json?"+String(o.join("&"))).then(function(n){if(200!=n.status)return r(u.default.createError(e,n));t(n.result.time)},function(t){r(t)})})},getMessage:function(t){var e=t.player,n=t.accessToken;return t.secretToken,new Promise(function(t,r){var o=[];if(o.push("syntax=camelcase"),l.default.stringIsBlank(n))return r(u.default.createAccessTokenError(e));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(n)+"/sync/message.json?"+String(o.join("&"))).then(function(n){if(200!=n.status)return r(u.default.createError(e,n));t(n.result)},function(t){r(t)})})},getStage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.player,r=t.accessToken;return t.secretToken,new Promise(function(t,o){var a=null!=e.nodeTimeoutThreshold?e.nodeTimeoutThreshold:60,s=[];if(s.push("syntax=camelcase"),s.push("node_timeout_threshold="+String(a)),l.default.stringIsBlank(r))return o(u.default.createAccessTokenError(n));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(r)+"/sync/stage.json?"+String(s.join("&"))).then(function(e){if(200!=e.status)return o(u.default.createError(n,e));t(e.result)},function(t){o(t)})})},getStageReservation:function(t){return new Promise(function(t,e){})},getStageLog:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.player,r=t.accessToken;return t.secretToken,new Promise(function(t,o){var a=null!=e.nodeTimeoutThreshold?e.nodeTimeoutThreshold:60,s=null!=e.perSecond?e.perSecond:60,c=null!=e.timeGte?e.timeGte:"",f=null!=e.timeLte?e.timeLte:"",p=[];if(p.push("syntax=camelcase"),p.push("node_timeout_threshold="+String(a)),p.push("per_second="+String(s)),p.push("time_gte="+String(encodeURIComponent(c))),p.push("time_lte="+String(encodeURIComponent(f))),l.default.stringIsBlank(r))return o(u.default.createAccessTokenError(n));i.default.getJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(r)+"/sync/node.json?"+String(p.join("&"))).then(function(e){if(200!=e.status)return o(u.default.createError(n,e));t(e.result)},function(t){o(t)})})},postMessage:function(t,e){var n=t.player,r=t.accessToken,o=t.secretToken;return new Promise(function(t,a){var s={};return l.default.stringIsBlank(r)?a(u.default.createAccessTokenError(n)):l.default.stringIsBlank(o)?a(u.default.createSecretTokenError(n)):(s.syntax="camelcase",s.access_token=r,s.secret_token=o,s.message=e,void i.default.putJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(r)+"/sync/message.json",s).then(function(e){if(200!=e.status)return a(u.default.createError(n,e));t(e.result)},function(t){a(t)}))})},postStage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.player,r=t.accessToken,o=t.secretToken;return new Promise(function(t,a){var s=null!=e.nodeTimeoutThreshold?e.nodeTimeoutThreshold:60,c={};return l.default.stringIsBlank(r)?a(u.default.createAccessTokenError(n)):l.default.stringIsBlank(o)?a(u.default.createSecretTokenError(n)):(c.syntax="camelcase",c.access_token=r,c.secret_token=o,c.node_timeout_threshold=s,null!=e.preventGlobalClockTimeUpdate&&(c.prevent_global_clock_time_update=e.preventGlobalClockTimeUpdate),null!=e.absoluteGlobalClockTime&&(c.absolute_global_clock_time=e.absoluteGlobalClockTime),null!=e.relativeGlobalClockTime&&(c.relative_global_clock_time=e.relativeGlobalClockTime),null!=e.mediaSourceUrl&&(c.media_source_url=e.mediaSourceUrl),null!=e.stateId&&(c.state_id=e.stateId),null!=e.duration&&(c.duration=e.duration),null!=e.position&&(c.position=e.position),void i.default.putJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(r)+"/sync/stage.json",c).then(function(e){if(200!=e.status)return a(u.default.createError(n,e));t(e.result)},function(t){a(t)}))})},postStageReservation:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.player,r=t.accessToken,o=t.secretToken;return new Promise(function(t,a){var s={};return l.default.stringIsBlank(r)?a(u.default.createAccessTokenError(n)):l.default.stringIsBlank(o)?a(u.default.createSecretTokenError(n)):(s.syntax="camelcase",s.access_token=r,s.secret_token=o,null!=e.globalClockTime&&(s.global_clock_time=e.globalClockTime),null!=e.mediaSourceUrl&&(s.media_source_url=e.mediaSourceUrl),null!=e.stateId&&(s.state_id=e.stateId),null!=e.position&&(s.position=e.position),void i.default.postJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(r)+"/sync/reservations.json",s).then(function(e){if(200!=e.status)return a(u.default.createError(n,e));t(e.result)},function(t){a(t)}))})},postStageLog:function(t){return new Promise(function(e,n){var r={};r.stage_id=t.stageId,r.node_id=t.nodeId,r.access_token=t.accessToken,r.secret_token=t.secretToken,r.is_master=t.isMaster,r.referer=l.default.referer,r.user_agent=l.default.userAgent,i.default.postJSON(String(l.default.defaultLogServerEndpoint)+"/songle-api.stage-logs",r).then(function(t){e(t)},function(t){n(t)})})},deleteStageReservation:function(t,e){var n=t.player,r=t.accessToken,o=t.secretToken;return new Promise(function(t,a){var s={};return l.default.stringIsBlank(r)?a(u.default.createAccessTokenError(n)):l.default.stringIsBlank(o)?a(u.default.createSecretTokenError(n)):(s.syntax="camelcase",s.access_token=r,s.secret_token=o,void i.default.deleteJSON(String(l.default.defaultAppServerEndpoint)+"/api/v2/apps/"+String(r)+"/sync/reservations/"+String(e)+".json",s).then(function(e){if(200!=e.status)return a(u.default.createError(n,e));t(e.result)},function(t){a(t)}))})}};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(135),i=r(o),a=n(7),u=r(a),s="https://secure-dcdn.cdn.nimg.jp/extplayerv/embed/js/api.js",l={importClass:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){if(u.default.NNFactoryClass)e(u.default.NNFactoryClass);else{var r=t.rootElement||u.default.global.document.body;u.default.global.onNicoPlayerFactoryReady=function(t){u.default.NNFactoryClass=t||u.default.global.NN},r.appendChild(i.default.createScriptElement(s,{onAbort:function(t){n()},onError:function(t){n()},onLoad:function(t){var n=setInterval(function(){(u.default.NNFactoryClass||u.default.global.NN)&&(u.default.NNFactoryClass=u.default.NNFactoryClass||u.default.global.NN,"0"!=u.default.NNFactoryClass.create&&(clearInterval(n),e(u.default.NNFactoryClass)))},1)}}))}})}};e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(135),i=r(o),a=n(132),u=(r(a),n(7)),s=r(u),l="https://w.soundcloud.com/player/api.js",c={importClass:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){s.default.ScFactoryClass?e(s.default.ScFactoryClass):(t.rootElement||s.default.global.document.body).appendChild(i.default.createScriptElement(l,{onAbort:function(t){n()},onError:function(t){n()},onLoad:function(t){s.default.ScFactoryClass=s.default.global.SC}}))})}};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(135),i=r(o),a=n(7),u=r(a),s="https://www.youtube.com/iframe_api",l={importClass:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e,n){if(u.default.YTFactoryClass)e(u.default.YTFactoryClass);else{var r=t.rootElement||u.default.global.document.body;u.default.global.onYouTubeIframeAPIReady=function(t){u.default.YTFactoryClass=t||u.default.global.YT},r.appendChild(i.default.createScriptElement(s,{onAbort:function(t){n()},onError:function(t){n()},onLoad:function(t){var n=setInterval(function(){(u.default.YTFactoryClass||u.default.global.YT)&&(u.default.YTFactoryClass=u.default.YTFactoryClass||u.default.global.YT,"0"!=u.default.YTFactoryClass.loaded&&(clearInterval(n),e(u.default.YTFactoryClass)))},1)}}))}})}};e.default=l},function(t,e,n){var r=n(1),o=n(177),i=n(4)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(204);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(23),o=n(1),i=n(145),a=[].slice,u={},s=function(t,e,n){if(!(e in u)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";u[e]=Function("F,a","return new F("+r.join(",")+")")}return u[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?s(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e,n){var r=n(24),o=n(147),i=n(139);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,u=n(t),s=i.f,l=0;u.length>l;)s.call(t,a=u[l++])&&e.push(a);return e}},function(t,e,n){"use strict";var r=n(3);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(1),o=n(161).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},function(t,e,n){"use strict";var r=n(137),o=n(21),i=n(129),a={};n(11)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(24),o=n(12);t.exports=function(t,e){for(var n,i=o(t),a=r(i),u=a.length,s=0;u>s;)if(i[n=a[s++]]===e)return n}},function(t,e,n){var r=n(2),o=n(166).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(123)(a);t.exports=function(){var t,e,n,l=function(){var r,o;for(s&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(l)};else if(i){var c=!0,f=document.createTextNode("");new i(l).observe(f,{characterData:!0}),n=function(){f.data=c=!c}}else if(u&&u.resolve){var p=u.resolve();n=function(){p.then(l)}}else n=function(){o.call(r,l)};return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(6),o=n(3),i=n(24);t.exports=n(10)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),u=a.length,s=0;u>s;)r.f(t,n=a[s++],e[n]);return t}},function(t,e,n){"use strict";var r=n(215),o=n(145),i=n(23);t.exports=function(){for(var t=i(this),e=arguments.length,n=Array(e),a=0,u=r._,s=!1;e>a;)(n[a]=arguments[a++])===u&&(s=!0);return function(){var r,i=this,a=arguments.length,l=0,c=0;if(!s&&!a)return o(t,n,i);if(r=n.slice(),s)for(;e>l;l++)r[l]===u&&(r[l]=arguments[c++]);for(;a>c;)r.push(arguments[c++]);return o(t,r,i)}}},function(t,e,n){t.exports=n(2)},function(t,e,n){var r=n(131),o=n(19);t.exports=function(t){return function(e,n){var i,a,u=String(o(e)),s=r(n),l=u.length;return s<0||s>=l?t?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===l||(a=u.charCodeAt(s+1))<56320||a>57343?t?u.charAt(s):i:t?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){var r=n(2),o=n(124),i=n(126),a=n(193),u=n(6).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=o(regeneratorRuntime.mark(function t(e,n){var r,o,i,l,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c.showCtrl=null!=c.showCtrl&&c.showCtrl,c.showInfo=null!=c.showInfo&&c.showInfo,c.videoSizeW=null!=c.videoSizeW?c.videoSizeW:f.default.DefaultVideoPlayerSizeW,c.videoSizeH=null!=c.videoSizeH?c.videoSizeH:f.default.DefaultVideoPlayerSizeH,n=M.default.global.decodeURIComponent(n),r=n.match(I),o=n.match(A),i=n.match(N),l=n.match(L),t.t0=!0,t.next=t.t0===!!r?12:t.t0===!!o?16:t.t0===!!i?20:t.t0===!!l?24:28;break;case 12:return c.videoId=null!=c.videoId?c.videoId:r[1],t.next=15,new a(e,n,c);case 15:return t.abrupt("return",t.sent);case 16:return c.videoId=null!=c.videoId?c.videoId:o[1],t.next=19,new a(e,n,c);case 19:return t.abrupt("return",t.sent);case 20:return c.videoId=null!=c.videoId?c.videoId:i[1],t.next=23,new u(e,n,c);case 23:return t.abrupt("return",t.sent);case 24:return c.videoId=null!=c.videoId?c.videoId:l[2],t.next=27,new u(e,n,c);case 27:return t.abrupt("return",t.sent);case 28:return t.next=30,new s(e,n,c);case 30:return t.abrupt("return",t.sent);case 31:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),a=function(){var t=o(regeneratorRuntime.mark(function t(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.default.MusicMap.getSong(n);case 2:return r=t.sent,t.abrupt("return",new Promise(function(t){var e=null!=o.rootElement?o.rootElement:M.default.global.document.body;k.default.importClass().then(function(n){n.create(e,o.videoId,{autoplay:!1,defaultNoComment:!0,noController:!o.showCtrl,noHeader:!o.showInfo,noLinkToNiconico:!0,noRelatedVideo:!0,noShare:!0,noTags:!0,width:o.videoSizeW,height:o.videoSizeH,onError:function(t){o.onMediaFactoryError&&o.onMediaFactoryError(t)},onSuccess:function(e){o.onMediaFactoryReady&&o.onMediaFactoryReady(e);var n=new _.default(e);n.sourceUrl=r.permalink,t(n)}})})}));case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=o(regeneratorRuntime.mark(function t(e,n){var r,o,i,a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null!=u.rootElement?u.rootElement:M.default.global.document.body,r=M.default.stringIsBlank(u.endpointProtocol)?C:u.endpointProtocol||C,o=M.default.stringIsBlank(u.endpointHost)?j:u.endpointHost||j,i=M.default.stringIsBlank(u.endpointPath)?F:u.endpointPath||F,t.next=6,T.default.MusicMap.getSong(n,{endpointProtocol:r,endpointHost:o,endpointPath:i}).catch(function(t){u.onMediaFactoryError&&u.onMediaFactoryError(t)});case 6:return a=t.sent,t.abrupt("return",new Promise(function(t,e){var r=null!=u.rootElement?u.rootElement:M.default.global.document.body;x.default.importClass().then(function(o){new o.Player(r,{events:{onError:function(t){u.onMediaFactoryError&&u.onMediaFactoryError(t),e(t)},onReady:function(e){u.onMediaFactoryReady&&u.onMediaFactoryReady(e),e.target.setPlaybackQuality("tiny");var r=new y.default(e);r.sourceUrl=a?a.permalink:n,t(r)}},playerVars:{autohide:"0",autoplay:"0",cc_load_policy:"0",controls:u.showCtrl?"1":"0",disablekb:"1",enablejsapi:"1",fs:"0",hl:"0",html5:"1",iv_load_policy:"3",loop:"0",modestbranding:"1",playsinline:"1",rel:"0",showinfo:u.showInfo?"1":"0",vq:"tiny",start:.01},videoId:u.videoId,width:u.videoSizeW,height:u.videoSizeH})})}));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),s=function(){var t=o(regeneratorRuntime.mark(function t(e,n){var r,o,i,a,u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=s.rootElement?s.rootElement:M.default.global.document.body,o=M.default.stringIsBlank(s.endpointProtocol)?C:s.endpointProtocol||C,i=M.default.stringIsBlank(s.endpointHost)?j:s.endpointHost||j,a=M.default.stringIsBlank(s.endpointPath)?F:s.endpointPath||F,t.next=6,T.default.MusicMap.getSong(n,{endpointProtocol:o,endpointHost:i,endpointPath:a}).catch(function(t){s.onMediaFactoryError&&s.onMediaFactoryError(t)});case 6:return u=t.sent,t.abrupt("return",new Promise(function(t,e){var n=s.src?s.src:String(o)+"://"+String(i)+String(a)+String(u.code)+"/u",l=m.default.createHTMLAudioElement(n);r.appendChild(l),l.addEventListener("error",function(t){s.onMediaFactoryError&&s.onMediaFactoryError(t),e(t)}),l.addEventListener("loadstart",function(e){s.onMediaFactoryReady&&s.onMediaFactoryReady(e);var n=new h.default(l);n.sourceUrl=u.permalink,t(n)})}));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var l=n(133),c=(r(l),n(134)),f=r(c),p=n(196),h=r(p),d=n(197),_=r(d),v=n(198),y=r(v),g=n(135),m=r(g),b=n(201),k=r(b),w=n(202),S=(r(w),n(203)),x=r(S),P=n(141),T=r(P),E=n(132),O=(r(E),n(7)),M=r(O),C="https",j="songle.jp",F="/songs/",I="^nn:\\/\\/([\\w-]+)$",A="n.+watch\\/(.{2}(.+))",N="^yt:\\/\\/([\\w-]+)$",L="y.+watch\\?(.{2}(.+))",R={createMedia:i};e.default=R},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(134),u=r(a),s=n(133),l=(r(s),function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.sourceUrl=t,n.__intervalId__=setInterval(function(){n.position>=n.duration&&n.__invokeMediaStateChangeTrap__(n,u.default.StateFinished)},1e3),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"Name",get:function(){return"sw-media-headless"}}]),i(e,[{key:"dispose",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this),clearInterval(this.__intervalId__);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"play",value:function(){this.__invokeMediaStateChangeTrap__(this,u.default.StatePlaying),this.__invokeMediaStateChangeTrap__(this,u.default.StateTimeUpdate)}},{key:"pause",value:function(){this.__invokeMediaStateChangeTrap__(this,u.default.StatePaused),this.__invokeMediaStateChangeTrap__(this,u.default.StateTimeUpdate)}},{key:"seekTo",value:function(t){switch(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"seekTo",this).call(this,t),!0){case this.isPlaying:this.__invokeMediaStateChangeTrap__(this,u.default.StateSeeking),this.__invokeMediaStateChangeTrap__(this,u.default.StatePlaying),this.__invokeMediaStateChangeTrap__(this,u.default.StateTimeUpdate);break;case this.isPaused:this.__invokeMediaStateChangeTrap__(this,u.default.StateSeeking),this.__invokeMediaStateChangeTrap__(this,u.default.StatePaused),this.__invokeMediaStateChangeTrap__(this,u.default.StateTimeUpdate);break;case this.isSeeking:}}},{key:"dispatcherName",get:function(){return e.Name}}]),e}(u.default)),c=l;e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var i=n(132),a=r(i),u=n(7),s=(r(u),function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),Object.defineProperty(this,"__timeoutDone__",{enumerable:!0,writable:!0,value:!0}),n.intervalTime=null!=n.intervalTime?n.intervalTime:this.defaultIntervalTime,this.minIntervalTime>n.intervalTime&&a.default.warn("You can't set less than 'minIntervalTime'"),this.maxIntervalTime<n.intervalTime&&a.default.warn("You can't set more than 'maxIntervalTime'"),this.__songleSyncPlugin__=e,this.intervalTime=n.intervalTime}return o(t,[{key:"start",value:function(){var t=this;this.__timeoutDone__&&(this.__timeoutDone__=!1,this.__timeoutId__=setTimeout(function(){try{t.runTask()}catch(t){a.default.error("Worker is aborted.")}t.intervalTime=t.nextIntervalTime,t.__timeoutDone__=!0,t.start()},this.intervalTime))}},{key:"runTask",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){clearTimeout(this.__timeoutId__),this.__timeoutDone__=!0}},{key:"wait",value:function(t){return new Promise(function(e,n){setTimeout(e,t)})}},{key:"defaultIntervalTime",get:function(){return 0}},{key:"minIntervalTime",get:function(){return 0}},{key:"maxIntervalTime",get:function(){return 0}},{key:"intervalTime",set:function(t){t<this.minIntervalTime&&(t=this.minIntervalTime),t>this.maxIntervalTime&&(t=this.maxIntervalTime),this.__intervalTime__=t},get:function(){return this.__intervalTime__}},{key:"songleSyncPlugin",get:function(){return this.__songleSyncPlugin__}},{key:"nextIntervalTime",get:function(){return this.intervalTime}}]),t}()),l=s;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.__player__=e}return r(t,[{key:"dispatch",value:function(t,e,n){}},{key:"find",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!=e.offset?e.offset:0,r=this.__player__.position-250+-1*n,o=this.__player__.position+0+-1*n;this.dispatch(r,o,t)}},{key:"reset",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}]),t}(),i=o;e.default=i},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return t.musicMap.repeatSections&&t.musicMap.repeatSections.forEach(function(t){e.chorusOnly&&!t.isChorus||(n=n.concat(t.items).sort(function(t,e){return t.start-e.start}))}),n}Object.defineProperty(e,"__esModule",{value:!0});var o=500,i={findPrevBar:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!=e.start?e.start:t.position,r=t.musicMap.beats||[];r=r.reverse();for(var i=0;i<r.length;++i)if(1==r[i].position&&n>r[i].start+o)return r[i];return r[0]},findNextBar:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!=e.start?e.start:t.position,r=t.musicMap.beats||[],i=0;i<r.length;++i)if(1==r[i].position&&n<r[i].start-o)return r[i];return r[0]},findPrevRepeatSectionItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!=e.start?e.start:t.position,i=r(t,e);i=i.reverse();for(var a=0;a<i.length;++a)if(n>i[a].start+o)return i[a];return i[0]},findNextRepeatSectionItem:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!=e.start?e.start:t.position,i=r(t,e),a=0;a<i.length;++a)if(n<i[a].start-o)return i[a];return i[0]}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(195),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.endpointProtocol=null!=t.endpointProtocol?t.endpointProtocol:"",n.endpointHost=null!=t.endpointHost?t.endpointHost:"",n.endpointPath=null!=t.endpointPath?t.endpointPath:"",n.revisionId=null!=t.revisionId?t.revisionId:0,n.offset=null!=t.offset?t.offset:0,n.pollingInterval=null!=t.pollingInterval?t.pollingInterval:50,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"__invokeTrap__",value:function(t,e){t.trap({target:this,type:t.name,data:e})}}]),e}(i.default),u=a;e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){try{return l.default.isStandalone?null:l.default.global.localStorage.getItem(t)}catch(t){return u.default.error(t),null}}function i(t,e){try{return l.default.isStandalone?null:l.default.global.localStorage.setItem(t,e)}catch(t){return u.default.error(t),null}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(132),u=r(a),s=n(7),l=r(s),c={fetch:function(t,e){var n=o(t)||e;return i(t,n),n},get:o,set:i};e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var u=n(220),s=r(u),l=n(219),c=(r(l),n(141)),f=r(c),p=n(7),h=r(p),d=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),Object.defineProperty(r,"__histories__",{enumerable:!0,writable:!0,value:[]}),i(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"runTask",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.update();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,n=0,r=0,o=0;case 4:if(!(o<3)){t.next=16;break}return t.next=7,this.wait(50);case 7:return n=h.default.currentTimeToMilliseconds,t.next=10,f.default.SongleSync.getClock(this.songleSyncPlugin);case 10:e=t.sent,r=h.default.currentTimeToMilliseconds,this.__histories__.push(e-(n+r)/2);case 13:++o,t.next=4;break;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"__random__",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"defaultIntervalTime",get:function(){return e.DefaultIntervalTime}},{key:"minIntervalTime",get:function(){return e.MinIntervalTime}},{key:"maxIntervalTime",get:function(){return e.MaxIntervalTime}},{key:"nextIntervalTime",get:function(){return Math.min(2*this.intervalTime,this.maxIntervalTime)+this.__random__(0,1e3)}},{key:"globalClockTimeOffset",get:function(){return this.__histories__.sort(function(t,e){return t-e})[Math.floor(this.__histories__.length/2)]}}],[{key:"DefaultIntervalTime",get:function(){return 2500}},{key:"MinIntervalTime",get:function(){return 1e3}},{key:"MaxIntervalTime",get:function(){return 3e5}}]),e}(s.default),_=d;e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var i=n(220),a=r(i),u=n(219),s=(r(u),n(132)),l=(r(s),n(141)),c=r(l),f=n(7),p=(r(f),function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"runTask",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.SongleSync.postStageLog(this.songleSyncPlugin);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"defaultIntervalTime",get:function(){return e.DefaultIntervalTime}},{key:"minIntervalTime",get:function(){return e.MinIntervalTime}},{key:"maxIntervalTime",get:function(){return e.MaxIntervalTime}}],[{key:"DefaultIntervalTime",get:function(){return 3e4}},{key:"MinIntervalTime",get:function(){return 15e3}},{key:"MaxIntervalTime",get:function(){return 6e4}}]),e}(a.default)),h=p;e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var u=n(220),s=r(u),l=n(219),c=(r(l),n(196)),f=(r(c),n(197)),p=(r(f),n(198)),h=(r(p),n(132)),d=r(h),_=n(141),v=(r(_),n(7)),y=(r(v),function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),Object.defineProperty(r,"__integralOffsetTime__",{enumerable:!0,writable:!0,value:0}),i(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"runTask",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.update();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.songleSyncPlugin.player,n=e.position-this.songleSyncPlugin.globalPosition,e.isPlaying&&!isNaN(n)){t.next=4;break}return t.abrupt("return");case 4:d.default.debug("currentOffsetTime: "+n),(r=Math.abs(n))<1e3&&(this.__integralOffsetTime__+=n),n<-50?(r>1e3&&(this.__integralOffsetTime__=0),d.default.debug("integralOffsetTime: "+String(this.__integralOffsetTime__)),e.media.seekTo(this.songleSyncPlugin.globalPosition-this.__integralOffsetTime__)):n>50&&(r>1e3?this.__integralOffsetTime__=0:this.songleSyncPlugin.isMaster||(e.media.pause(),setTimeout(function(){return e.media.play()},Math.min(100,r))),d.default.debug("integralOffsetTime: "+String(this.__integralOffsetTime__)),e.media.seekTo(this.songleSyncPlugin.globalPosition-this.__integralOffsetTime__));case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"defaultIntervalTime",get:function(){return e.DefaultIntervalTime}},{key:"minIntervalTime",get:function(){return e.MinIntervalTime}},{key:"maxIntervalTime",get:function(){return e.MaxIntervalTime}}],[{key:"DefaultIntervalTime",get:function(){return 1e3}},{key:"MinIntervalTime",get:function(){return 1e3}},{key:"MaxIntervalTime",get:function(){return 6e4}}]),e}(s.default)),g=y;e.default=g},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var a=n(220),u=r(a),s=n(219),l=(r(s),n(132)),c=r(l),f=n(141),p=(r(f),n(7)),h=(r(p),function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),Object.defineProperty(r,"__dones__",{enumerable:!0,writable:!0,value:[]}),o(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"runTask",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.songleSyncPlugin.reservations.forEach(function(t){var n=t.globalClockTime-e.songleSyncPlugin.globalClockTime;if(-1==e.__dones__.indexOf(t.id)&&!(n>0||isNaN(n))){switch(e.songleSyncPlugin.stageWorker.__position__=0,e.songleSyncPlugin.stageWorker.__globalClockTime__=t.globalClockTime,e.songleSyncPlugin.stageWorker.__stateId__=t.stateId,t.stateId){case 1:if(e.songleSyncPlugin.isMaster&&e.songleSyncPlugin.__sync__({stateId:1,position:0}),e.songleSyncPlugin.player.isPlaying)return;e.songleSyncPlugin.player.media.play();break;case 2:if(e.songleSyncPlugin.isMaster&&e.songleSyncPlugin.__sync__({stateId:2,position:0}),e.songleSyncPlugin.player.isReady||e.songleSyncPlugin.player.isPaused)return;e.songleSyncPlugin.player.media.pause();break;default:if(e.songleSyncPlugin.isMaster&&e.songleSyncPlugin.__sync__({stateId:2,position:0}),e.songleSyncPlugin.player.isReady||e.songleSyncPlugin.player.isPaused)return;e.songleSyncPlugin.player.media.pause(),c.default.warn("Maybe 'SongleSyncPlugin.stageWorker.stateId' is broken.")}e.__dones__.push(t.id)}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this),this.__dones__=[]}},{key:"defaultIntervalTime",get:function(){return e.DefaultIntervalTime}},{key:"minIntervalTime",get:function(){return e.MinIntervalTime}},{key:"maxIntervalTime",get:function(){return e.MaxIntervalTime}}],[{key:"DefaultIntervalTime",get:function(){return 100}},{key:"MinIntervalTime",get:function(){return 100}},{key:"MaxIntervalTime",get:function(){return 6e4}}]),e}(u.default)),d=h;e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var u=n(220),s=r(u),l=n(219),c=(r(l),n(132)),f=r(c),p=n(141),h=r(p),d=n(7),_=r(d),v=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),Object.defineProperty(r,"__globalClockTime__",{enumerable:!0,writable:!0,value:0}),Object.defineProperty(r,"__reservations__",{enumerable:!0,writable:!0,value:[]}),i(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"runTask",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,h.default.SongleSync.getStage(this.songleSyncPlugin);case 3:t.t1=t.sent,t.t0.update.call(t.t0,t.t1);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=o(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Promise.resolve().then(function(){e.activeNodeCount>n.__activeNodeCount__&&n.__invokeNodeEnter__(e),e.activeNodeCount<n.__activeNodeCount__&&n.__invokeNodeLeave__(e),e.activeNodeCount!=n.__activeNodeCount__&&n.__invokeNodeChange__(e),e.message!=n.__message__&&n.__invokeMessage__(e),n.__stageId__=e.id,n.__activeNodeCount__=e.activeNodeCount,n.__masterNodeCount__=e.masterNodeCount,n.__globalClockTime__=e.globalClockTime,n.__duration__=e.duration,n.__position__=e.position,n.__message__=e.message,n.__reservations__.forEach(function(t){e.reservations.some(function(e){return e.id==t.id})||n.__invokeReservationRemove__(t)}),e.reservations.forEach(function(t){n.__reservations__.some(function(e){return e.id==t.id})||n.__invokeReservationCreate__(t)}),n.__reservations__=e.reservations}).then(function(){return new Promise(function(t,r){if(n.songleSyncPlugin.player.media&&n.songleSyncPlugin.player.media.sourceUrl==e.mediaSourceUrl)t();else{if(_.default.stringIsBlank(e.mediaSourceUrl))return;n.__invokeMediaChange__(e)}})}).then(function(){switch(e.stateId!=n.__stateId__&&(n.__invokeStateChange__(e),n.__stateId__=e.stateId),e.stateId){case 1:if(n.songleSyncPlugin.player.isPlaying)return;n.songleSyncPlugin.player.media.play();break;case 2:if(n.songleSyncPlugin.player.isReady||n.songleSyncPlugin.player.isPaused)return;n.songleSyncPlugin.player.media.pause();break;default:if(n.songleSyncPlugin.player.isReady||n.songleSyncPlugin.player.isPaused)return;n.songleSyncPlugin.player.media.pause(),f.default.warn("Maybe 'SongleSyncPlugin.stageWorker.stateId' is broken.")}});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__invokeReservationCreate__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncReservationCreate",{target:this.songleSyncPlugin,data:{reservation:t}})}},{key:"__invokeReservationUpdate__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncReservationUpdate",{target:this.songleSyncPlugin,data:{reservation:t}})}},{key:"__invokeReservationRemove__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncReservationRemove",{target:this.songleSyncPlugin,data:{reservation:t}})}},{key:"__invokeNodeChange__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncNodeChange",{target:this.songleSyncPlugin,data:{activeNodeCount:t.activeNodeCount,masterNodeCount:t.masterNodeCount}})}},{key:"__invokeNodeEnter__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncNodeEnter",{target:this.songleSyncPlugin,data:{activeNodeCount:t.activeNodeCount,masterNodeCount:t.masterNodeCount}})}},{key:"__invokeNodeLeave__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncNodeLeave",{target:this.songleSyncPlugin,data:{activeNodeCount:t.activeNodeCount,masterNodeCount:t.masterNodeCount}})}},{key:"__invokeMessage__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncMessage",{target:this.songleSyncPlugin,data:{message:t.message}})}},{key:"__invokeMediaChange__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncMediaChange",{target:this.songleSyncPlugin,data:{mediaSourceUrl:t.mediaSourceUrl}})}},{key:"__invokeStateChange__",value:function(t){this.songleSyncPlugin.player.invokeTrap("songleSyncStateChange",{target:this.songleSyncPlugin,data:{stateId:t.stateId}})}},{key:"defaultIntervalTime",get:function(){return e.DefaultIntervalTime}},{key:"minIntervalTime",get:function(){return e.MinIntervalTime}},{key:"maxIntervalTime",get:function(){return e.MaxIntervalTime}}],[{key:"DefaultIntervalTime",get:function(){return 2500}},{key:"MinIntervalTime",get:function(){return 1e3}},{key:"MaxIntervalTime",get:function(){return 6e4}}]),e}(s.default),y=v;e.default=y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var i=n(220),a=r(i),u=n(219),s=(r(u),n(132)),l=(r(s),n(141)),c=(r(l),n(7)),f=(r(c),function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"runTask",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.songleSyncPlugin.stageWorker.__stateId__,t.next=1===t.t0?3:2===t.t0?7:11;break;case 3:if(!this.songleSyncPlugin.player.isPlaying){t.next=5;break}return t.abrupt("return");case 5:return this.songleSyncPlugin.player.media.play(),t.abrupt("break",11);case 7:if(!this.songleSyncPlugin.player.isReady&&!this.songleSyncPlugin.player.isPaused){t.next=9;break}return t.abrupt("return");case 9:return this.songleSyncPlugin.player.media.pause(),t.abrupt("break",11);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"defaultIntervalTime",get:function(){return e.DefaultIntervalTime}},{key:"minIntervalTime",get:function(){return e.MinIntervalTime}},{key:"maxIntervalTime",get:function(){return e.MaxIntervalTime}}],[{key:"DefaultIntervalTime",get:function(){return 100}},{key:"MinIntervalTime",get:function(){return 100}},{key:"MaxIntervalTime",get:function(){return 6e4}}]),e}(a.default)),p=f;e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var u=n(133),s=(r(u),n(195)),l=r(s),c=n(141),f=r(c),p=n(7),h=r(p),d=n(225),_=r(d),v=n(228),y=r(v),g=n(226),m=r(g),b=n(227),k=r(b),w=n(229),S=r(w),x=n(224),P=r(x),T=n(238),E=r(T),O=n(132),M=r(O),C=n(219),j=r(C),F=n(230),I=r(F),A=60,N=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));Object.defineProperty(n,"__globalPositionOffset__",{enumerable:!0,writable:!0,value:0}),n.endpointProtocol=null!=t.endpointProtocol?t.endpointProtocol:"",n.endpointHost=null!=t.endpointHost?t.endpointHost:"",n.endpointPath=null!=t.endpointPath?t.endpointPath:"",n.__logWorker__=new m.default(n,{intervalTime:t.logWorkerIntervalTime}),n.__clockWorker__=new _.default(n,{intervalTime:t.clockWorkerIntervalTime}),n.__stageWorker__=new S.default(n,{intervalTime:t.stageWorkerIntervalTime}),n.__mediaWorker__=new k.default(n,{intervalTime:t.mediaWorkerIntervalTime}),n.__reservationWorker__=new y.default(n,{intervalTime:t.reservationWorkerIntervalTime}),n.__stateWorker__=new I.default(n,{intervalTime:t.stateWorkerIntervalTime}),n.nodeTimeoutThreshold=null!=t.nodeTimeoutThreshold?t.nodeTimeoutThreshold:A;var r=!1;return function t(){setTimeout(function(){null==n.player.media&&(r||(n.initialize(n.player),r=!0),n.stageWorker.runTask(),t())},1e3)}(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,null,[{key:"Name",get:function(){return"sw-plugin-songle-sync"}},{key:"DefaultNodeTimeoutThreshold",get:function(){return A}},{key:"MinNodeTimeoutThreshold",get:function(){return 15}},{key:"MaxNodeTimeoutThreshold",get:function(){return 3600}},{key:"StatePlaying",get:function(){return 1}},{key:"StateStopped",get:function(){return 2}}]),a(e,[{key:"initialize",value:function(){var t=o(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),h.default.global.Object.defineProperties(n,{isMaster:{configurable:!0,get:function(){return r.isMaster}},isSlave:{configurable:!0,get:function(){return r.isSlave}},message:{configurable:!0,get:function(){return r.__message__},set:function(t){r.__message__=t,f.default.SongleSync.postMessage(r,r.__message__)}},reservations:{configurable:!0,get:function(){return r.reservations}}}),n.play=function(){r.__play__()},n.pause=function(){r.__pause__()},n.stop=function(){r.__stop__()},n.seekTo=function(t){r.__seekTo__(t)},n.sync=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.__sync__(t)},this.on("ready",function(t){r.stateWorker.dispose(),r.reservationWorker.dispose(),r.mediaWorker.dispose(),r.stageWorker.dispose(),r.clockWorker.dispose(),r.logWorker.dispose(),Promise.resolve().then(o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.isMaster&&f.default.SongleSync.postStage(r,{preventGlobalClockTimeUpdate:!0,mediaSourceUrl:r.player.media.sourceUrl});case 1:case"end":return t.stop()}},t,r)}))).then(function(){return r.logWorker.runTask()}).then(function(){return r.clockWorker.runTask()}).then(function(){return r.stageWorker.runTask()}).then(function(){return r.mediaWorker.runTask()}).then(function(){return r.reservationWorker.runTask()}).then(function(){return r.stateWorker.runTask()}).then(function(){r.logWorker.start(),r.clockWorker.start(),r.stageWorker.start(),r.mediaWorker.start(),r.reservationWorker.start(),r.stateWorker.start()})}),this.on("play",function(t){r.__sync__({preventGlobalClockTimeUpdate:!0,stateId:1})}),this.on("pause",function(t){r.__sync__({preventGlobalClockTimeUpdate:!0,stateId:2})}),this.on("finish",function(t){r.stageWorker.__stageId__=e.StateStopped}),this.on("songleSyncNodeChange",function(t){M.default.debug("Invoked '"+String(t.type)+"' (active: "+String(t.data.activeNodeCount)+")")}),this.on("songleSyncNodeEnter",function(t){M.default.debug("Invoked '"+String(t.type)+"' (active: "+String(t.data.activeNodeCount)+")")}),this.on("songleSyncNodeLeave",function(t){M.default.debug("Invoked '"+String(t.type)+"' (active: "+String(t.data.activeNodeCount)+")")}),this.on("songleSyncReservationCreate",function(t){M.default.debug("Invoked '"+String(t.type)+"' (ID: "+String(t.data.reservation.id)+")")}),this.on("songleSyncReservationUpdate",function(t){M.default.debug("Invoked '"+String(t.type)+"' (ID: "+String(t.data.reservation.id)+")")}),this.on("songleSyncReservationRemove",function(t){M.default.debug("Invoked '"+String(t.type)+"' (ID: "+String(t.data.reservation.id)+")")}),this.on("songleSyncMessage",function(t){M.default.debug("Invoked '"+String(t.type)+"'"),r.__message__=t.data.message}),this.on("songleSyncMediaChange",function(t){M.default.debug("Invoked '"+String(t.type)+"'"),r.player.useMedia(r.player.mediaElement?t.data.mediaSourceUrl:new j.default(t.data.mediaSourceUrl),{endpointProtocol:r.endpointProtocol,endpointHost:r.endpointHost,endpointPath:r.endpointPath})}),this.on("songleSyncStateChange",function(t){M.default.debug("Invoked '"+String(t.type)+"' (state: "+String(t.data.stateId)+")")});case 20:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:null!=this.stateWorker&&this.stateWorker.dispose(),null!=this.reservationWorker&&this.reservationWorker.dispose(),null!=this.mediaWorker&&this.mediaWorker.dispose(),null!=this.stageWorker&&this.stageWorker.dispose(),null!=this.clockWorker&&this.clockWorker.dispose(),null!=this.logWorker&&this.logWorker.dispose(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"__play__",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__sync__({stateId:1,position:this.globalPosition});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"__pause__",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__sync__({stateId:2,position:this.globalPosition});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"__stop__",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__sync__({stateId:2,position:0});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"__seekTo__",value:function(){var t=o(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.__sync__({stateId:this.player.isPlaying?1:2,position:e});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__sync__",value:function(){var t=o(regeneratorRuntime.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isSlave){t.next=2;break}return t.abrupt("return");case 2:return null==n.mediaSourceUrl&&(n.mediaSourceUrl=this.player.media.sourceUrl),null==n.duration&&(n.duration=this.player.duration),t.next=6,f.default.SongleSync.postStage(this,n);case 6:e=t.sent,this.__globalPositionOffset__=0,this.stageWorker.update(e),this.mediaWorker.update();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"dispatcherName",get:function(){return e.Name}},{key:"logWorker",get:function(){return this.__logWorker__}},{key:"clockWorker",get:function(){return this.__clockWorker__}},{key:"mediaWorker",get:function(){return this.__mediaWorker__}},{key:"stageWorker",get:function(){return this.__stageWorker__}},{key:"reservationWorker",get:function(){return this.__reservationWorker__}},{key:"stateWorker",get:function(){return this.__stateWorker__}},{key:"stageId",get:function(){return this.stageWorker.__stageId__}},{key:"stageActiveNodeCount",get:function(){return this.stageWorker.__activeNodeCount__}},{key:"stageMasterNodeCount",get:function(){return this.stageWorker.__masterNodeCount__}},{key:"nodeId",get:function(){return P.default.fetch(String(e.Name)+".nodeId",(0,E.default)())}},{key:"accessToken",get:function(){return this.player.accessToken}},{key:"secretToken",get:function(){return this.player.secretToken}},{key:"isMaster",get:function(){return!h.default.stringIsBlank(this.secretToken)}},{key:"isSlave",get:function(){return!!h.default.stringIsBlank(this.secretToken)}},{key:"nodeTimeoutThreshold",set:function(t){15>t&&(M.default.warn("You can't set less than 'SW.Plugin.SongleSync.MinNodeTimeoutThreshold'"),t=15),3600<t&&(M.default.warn("You can't set more than 'SW.Plugin.SongleSync.MaxNodeTimeoutThreshold'"),t=3600),this.__nodeTimeoutThreshold__=t},get:function(){return this.__nodeTimeoutThreshold__}},{key:"globalClockTime",get:function(){return h.default.currentTimeToMilliseconds+this.clockWorker.globalClockTimeOffset}},{key:"globalPosition",get:function(){var t=this.globalClockTime-this.stageWorker.__globalClockTime__,e=this.stageWorker.__position__+(this.player.isPlaying?t:0)+this.__globalPositionOffset__;return e<0&&(e=0),e>this.player.duration&&(e=this.player.duration),e}},{key:"globalPositionOffset",set:function(t){this.__globalPositionOffset__=t,this.player.media.seekTo(this.globalPosition)},get:function(){return this.__globalPositionOffset__}},{key:"reservations",get:function(){return this.stageWorker.__reservations__}}]),e}(l.default),L=N;e.default=L},function(t,e,n){"use strict";function r(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)null!=e[r]&&n.setAttribute(o(r),String(e[r]));return n}function o(t){switch(t){case"strokeWidth":t="stroke-width"}return t}Object.defineProperty(e,"__esModule",{value:!0});var i={createSVGElement:function(t){return r("svg",t)},createGroupElement:function(t){return r("g",t)},createRectElement:function(t){return r("rect",t)},createCircleElement:function(t){return r("circle",t)},createLineElement:function(t){return r("line",t)},createPolygonElement:function(t){return r("polygon",t)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(221),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__enterStates__=[],n.__leaveStates__=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"dispatch",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__player__.musicMap.beats.forEach(function(o){o.prev&&t<o.prev.start&&e>=o.prev.start&&n.__enterStates__[o.prev.index]&&!n.__leaveStates__[o.prev.index]&&(r.leave&&r.leave({beat:o.prev}),n.__leaveStates__[o.prev.index]=!0),o&&t<o.start&&e>=o.start&&(n.__enterStates__[o.index]||n.__leaveStates__[o.index]||(r.enter&&r.enter({beat:o}),n.__enterStates__[o.index]=!0))})}},{key:"reset",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.__enterStates__=[],this.__leaveStates__=[]}}]),e}(i.default),u=a;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(221),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__enterStates__=[],n.__leaveStates__=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"dispatch",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__player__.musicMap.chords.forEach(function(o){t<o.start+o.duration&&e>=o.start&&(o.prev&&(n.__leaveStates__[o.prev.index]||(n.__leaveStates__[o.prev.index]=!0,r.leave&&r.leave({chord:o.prev}))),o&&(n.__enterStates__[o.index]||(n.__enterStates__[o.index]=!0,r.enter&&r.enter({chord:o}))))})}},{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__player__.musicMap.chords.forEach(function(n){t.__enterStates__[n.index]&&!t.__leaveStates__[n.index]&&e.leave&&e.leave({chord:n})}),this.__enterStates__=[],this.__leaveStates__=[]}}]),e}(i.default),u=a;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(221),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__enterStates__=[],n.__leaveStates__=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"dispatch",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__player__.musicMap.repeatSections.forEach(function(o){o.items.forEach(function(i){t<i.start+i.duration&&e>=i.start?n.__invokeEnterTrap__(o,i,r):n.__invokeLeaveTrap__(o,i,r)})})}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__invokeAllLeaveTrap__(t),this.__enterStates__=[],this.__leaveStates__=[]}},{key:"__getStateIndex__",value:function(t,e){return 16*t.index+e.index}},{key:"__invokeAllEnterTrap__",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__player__.musicMap.repeatSections.forEach(function(n){n.items.forEach(function(r){t.__invokeEnterTrap__(n,r,e)})})}},{key:"__invokeAllLeaveTrap__",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__player__.musicMap.repeatSections.forEach(function(n){n.items.forEach(function(r){t.__invokeLeaveTrap__(n,r,e)})})}},{key:"__invokeEnterTrap__",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.__getStateIndex__(t,e);this.__enterStates__[o]||this.__leaveStates__[o]||(t.items.forEach(function(e){n.__invokeLeaveTrap__(t,e,r)}),r.enter&&r.enter({section:t,sectionItem:e}),this.__enterStates__[o]=!0)}},{key:"__invokeLeaveTrap__",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.__getStateIndex__(t,e);this.__enterStates__[r]&&!this.__leaveStates__[r]&&(n.leave&&n.leave({section:t,sectionItem:e}),this.__leaveStates__[r]=!0)}}]),e}(i.default),u=a;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(221),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__enterStates__=[],n.__leaveStates__=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"dispatch",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__player__.musicMap.melodies.forEach(function(o){t<o.start+o.duration&&e>=o.start&&(o.prev&&(n.__leaveStates__[o.prev.index]||(n.__leaveStates__[o.prev.index]=!0,r.leave&&r.leave({melody:o.prev}))),o&&(n.__enterStates__[o.index]||(n.__enterStates__[o.index]=!0,r.enter&&r.enter({melody:o}))))})}},{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__player__.musicMap.melodies.forEach(function(n){t.__enterStates__[n.index]&&!t.__leaveStates__[n.index]&&e.leave&&e.leave({melody:n})}),this.__enterStates__=[],this.__leaveStates__=[]}}]),e}(i.default),u=a;e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(221),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__enterStates__=[],n.__leaveStates__=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"dispatch",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.__player__.musicMap.variations.forEach(function(o){t<o.start+o.duration&&e>=o.start&&(o.prev&&(n.__leaveStates__[o.prev.index]||(n.__leaveStates__[o.prev.index]=!0,r.leave&&r.leave({variation:o.prev}))),o&&(n.__enterStates__[o.index]||(n.__enterStates__[o.index]=!0,r.enter&&r.enter({variation:o}))))})}},{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__player__.musicMap.variations.forEach(function(n){t.__enterStates__[n.index]&&!t.__leaveStates__[n.index]&&e.leave&&e.leave({variation:n})}),this.__enterStates__=[],this.__leaveStates__=[]}}]),e}(i.default),u=a;e.default=u},function(t,e,n){var r=n(240),o=n(239);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var u=0;u<16;++u)e[i+u]=a[u];return e||o(a)}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]}},function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=n}).call(e,n(170))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var o=n(133),i=r(o),a=n(231),u=r(a),s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.addPlugin(new u.default),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default),l=s;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(99),n(104),n(107),n(108),n(102),n(105),n(103),n(106),n(100),n(101),n(33),n(90),n(109),n(110),n(72),n(73),n(74),n(75),n(78),n(76),n(77),n(79),n(80),n(81),n(82),n(84),n(83),n(71),n(98),n(59),n(69),n(68),n(64),n(65),n(63),n(60),n(62),n(67),n(61),n(58),n(66),n(70),n(32),n(95),n(93),n(91),n(96),n(97),n(92),n(94),n(85),n(86),n(87),n(89),n(88),n(30),n(31),n(26),n(29),n(28),n(27),n(18),n(52),n(53),n(55),n(54),n(51),n(57),n(56),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(45),n(44),n(46),n(47),n(48),n(49),n(50),n(111),n(114),n(112),n(113),n(116),n(115),n(119),n(118),n(117),n(120);var r=n(133),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(o.default),a=i;e.default=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(222),u=r(a),s=n(141),l=r(s),c=n(223),f=r(c),p=n(233),h=r(p),d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"initialize",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),n.seekToPrevBar=function(){var t=u.default.findPrevBar(n);t&&n.seekTo(t.start)},n.seekToNextBar=function(){var t=u.default.findNextBar(n);t&&n.seekTo(t.start)},t.t0=this,t.next=6,l.default.MusicMap.getSongBeat(n,{endpointProtocol:this.endpointProtocol,endpointHost:this.endpointHost,endpointPath:this.endpointPath,revisionId:this.revisionId});case 6:t.t1=t.sent,t.t0.__updateMusicMap__.call(t.t0,t.t1),this.on(["play","pause","mediaSeek","seek"],function(t){r.__resetBarLeaveTrap__(),r.__resetBeatLeaveTrap__(),r.__resetBarEnterTrap__(),r.__resetBeatEnterTrap__()}),function t(){r.mapTrapsHasNotData(["barEnter","barLeave","beatEnter","beatLeave"]).forEach(function(t){return t.data=new h.default(r.player)}),setTimeout(function(){r.player.isPlaying&&(r.__invokeBarLeaveTrap__(),r.__invokeBeatLeaveTrap__(),r.__invokeBarEnterTrap__(),r.__invokeBeatEnterTrap__()),t()},r.pollingInterval)}();case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__resetBarEnterTrap__",value:function(){this.mapTrapsHasAnyData("barEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetBarLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("barLeave").forEach(function(e){return e.data.reset({leave:function(n){return t.__invokeTrap__(e,n)}})})}},{key:"__resetBeatEnterTrap__",value:function(){this.mapTrapsHasAnyData("beatEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetBeatLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("beatLeave").forEach(function(e){return e.data.reset({leave:function(n){return t.__invokeTrap__(e,n)}})})}},{key:"__invokeBarEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("barEnter").forEach(function(e){return e.data.find({enter:function(n){1==n.beat.position&&t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__invokeBarLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("barLeave").forEach(function(e){return e.data.find({leave:function(n){1==n.beat.position&&t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__invokeBeatEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("beatEnter").forEach(function(e){return e.data.find({enter:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__invokeBeatLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("beatLeave").forEach(function(e){return e.data.find({leave:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__updateMusicMap__",value:function(t){var e=this;this.player.musicMap.beats=t.beats,this.player.musicMap.beats.forEach(function(t){t.prev=e.player.musicMap.beats[t.index-1]||null,t.next=e.player.musicMap.beats[t.index+1]||null})}},{key:"dispatcherName",get:function(){return e.Name}}],[{key:"Name",get:function(){return"sw-plugin-beat"}},{key:"BarEnterTrapName",get:function(){return"barEnter"}},{key:"BarLeaveTrapName",get:function(){return"barLeave"}},{key:"BeatEnterTrapName",get:function(){return"beatEnter"}},{key:"BeatLeaveTrapName",get:function(){return"beatLeave"}}]),e}(f.default),_=d;e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(222),u=(r(a),n(141)),s=r(u),l=n(223),c=r(l),f=n(234),p=r(f),h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"initialize",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),t.t0=this,t.next=4,s.default.MusicMap.getSongChord(n,{endpointProtocol:this.endpointProtocol,endpointHost:this.endpointHost,endpointPath:this.endpointPath,revisionId:this.revisionId});case 4:t.t1=t.sent,t.t0.__updateMusicMap__.call(t.t0,t.t1),this.on(["play","pause","mediaSeek","seek"],function(t){r.__resetChordLeaveTrap__(),r.__resetChordEnterTrap__()}),function t(){r.mapTrapsHasNotData(["chordEnter","chordLeave"]).forEach(function(t){return t.data=new p.default(r.player)}),setTimeout(function(){r.player.isPlaying&&(r.__runChordLeaveTrap__(),r.__runChordEnterTrap__()),t()},r.pollingInterval)}();case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__resetChordEnterTrap__",value:function(){this.mapTrapsHasAnyData("chordEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetChordLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("chordLeave").forEach(function(e){return e.data.reset({leave:function(n){return t.__invokeTrap__(e,n)}})})}},{key:"__runChordEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("chordEnter").forEach(function(e){return e.data.find({enter:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__runChordLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("chordLeave").forEach(function(e){return e.data.find({leave:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__updateMusicMap__",value:function(t){var e=this;this.player.musicMap.chords=t.chords,this.player.musicMap.chords.forEach(function(t){t.prev=e.player.musicMap.chords[t.index-1]||null,t.next=e.player.musicMap.chords[t.index+1]||null})}},{key:"dispatcherName",get:function(){return e.Name}}],[{key:"Name",get:function(){return"sw-plugin-chord"}},{key:"ChordEnterTrapName",get:function(){return"chordEnter"}},{key:"ChordLeaveTrapName",get:function(){return"chordLeave"}}]),e}(c.default),d=h;e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(222),u=r(a),s=n(141),l=r(s),c=n(223),f=r(c),p=n(235),h=r(p),d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"initialize",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),n.seekToPrevChorusSection=function(){var t=u.default.findPrevRepeatSectionItem(n,{chorusOnly:!0});t&&n.seekTo(t.start)},n.seekToPrevChorusSectionItem=n.seekToPrevChorusSection,n.seekToNextChorusSection=function(){var t=u.default.findNextRepeatSectionItem(n,{chorusOnly:!0});t&&n.seekTo(t.start)},n.seekToNextChorusSectionItem=n.seekToNextChorusSection,n.seekToPrevRepeatSection=function(){var t=u.default.findPrevRepeatSectionItem(n);t&&n.seekTo(t.start)},n.seekToPrevRepeatSectionItem=n.seekToPrevRepeatSection,n.seekToNextRepeatSection=function(){var t=u.default.findNextRepeatSectionItem(n);t&&n.seekTo(t.start)},n.seekToNextRepeatSectionItem=n.seekToNextRepeatSection,t.t0=this,t.next=12,l.default.MusicMap.getSongChorus(n,{endpointProtocol:this.endpointProtocol,endpointHost:this.endpointHost,endpointPath:this.endpointPath,revisionId:this.revisionId});case 12:t.t1=t.sent,t.t0.__updateMusicMap__.call(t.t0,t.t1),this.on(["play","pause","mediaSeek","seek"],function(t){r.__resetChorusSectionLeaveTrap__(),r.__resetChorusSectionEnterTrap__(),r.__resetRepeatSectionLeaveTrap__(),r.__resetRepeatSectionEnterTrap__()}),function t(){r.mapTrapsHasNotData(["chorusSectionEnter","chorusSectionLeave","repeatSectionEnter","repeatSectionLeave"]).forEach(function(t){return t.data=new h.default(r.player)}),setTimeout(function(){r.player.isPlaying&&(r.__runChorusSectionLeaveTrap__(),r.__runChorusSectionEnterTrap__(),r.__runRepeatSectionLeaveTrap__(),r.__runRepeatSectionEnterTrap__()),t()},r.pollingInterval)}();case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__resetChorusSectionEnterTrap__",value:function(){this.mapTrapsHasAnyData("chorusSectionEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetChorusSectionLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("chorusSectionLeave").forEach(function(e){return e.data.reset({leave:function(n){n.section.isChorus&&t.__invokeTrap__(e,n)}})})}},{key:"__resetRepeatSectionEnterTrap__",value:function(){this.mapTrapsHasAnyData("repeatSectionEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetRepeatSectionLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("repeatSectionLeave").forEach(function(e){return e.data.reset({leave:function(n){return t.__invokeTrap__(e,n)}})})}},{key:"__runChorusSectionEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("chorusSectionEnter").forEach(function(e){return e.data.find({enter:function(n){n.section.isChorus&&t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__runChorusSectionLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("chorusSectionLeave").forEach(function(e){return e.data.find({leave:function(n){n.section.isChorus&&t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__runRepeatSectionEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("repeatSectionEnter").forEach(function(e){return e.data.find({enter:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__runRepeatSectionLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("repeatSectionLeave").forEach(function(e){return e.data.find({leave:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__updateMusicMap__",value:function(t){this.player.musicMap.chorusSections=t.chorusSegments,this.player.musicMap.repeatSections=t.repeatSegments,this.player.musicMap.chorusSections.forEach(function(t){return t.items=t.repeats}),this.player.musicMap.repeatSections.forEach(function(t){return t.items=t.repeats}),this.player.musicMap.chorusSections.forEach(function(t){t.items.forEach(function(e){e.prev=t.items[e.index-1]||null,e.next=t.items[e.index+1]||null,e.end=e.start+e.duration})}),this.player.musicMap.repeatSections.forEach(function(t){t.items.forEach(function(e){e.prev=t.items[e.index-1]||null,e.next=t.items[e.index+1]||null,e.end=e.start+e.duration})})}},{key:"dispatcherName",get:function(){return e.Name}}],[{key:"Name",get:function(){return"sw-plugin-chorus"}},{key:"ChorusSectionEnterTrapName",get:function(){return"chorusSectionEnter"}},{key:"ChorusSectionLeaveTrapName",get:function(){return"chorusSectionLeave"}},{key:"RepeatSectionEnterTrapName",get:function(){return"repeatSectionEnter"}},{key:"RepeatSectionLeaveTrapName",get:function(){return"repeatSectionLeave"}}]),e}(f.default),_=d;e.default=_},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(222),u=(r(a),n(141)),s=r(u),l=n(223),c=r(l),f=n(236),p=r(f),h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"initialize",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),t.t0=this,t.next=4,s.default.MusicMap.getSongMelody(n,{endpointProtocol:this.endpointProtocol,endpointHost:this.endpointHost,endpointPath:this.endpointPath,revisionId:this.revisionId});case 4:t.t1=t.sent,t.t0.__updateMusicMap__.call(t.t0,t.t1),this.on(["play","pause","mediaSeek","seek"],function(t){r.__resetMelodyLeaveTrap__(),r.__resetMelodyEnterTrap__()}),function t(){r.mapTrapsHasNotData(["melodyEnter","melodyLeave"]).forEach(function(t){return t.data=new p.default(r.player)}),setTimeout(function(){r.player.isPlaying&&(r.__runMelodyLeaveTrap__(),r.__runMelodyEnterTrap__()),t()},r.pollingInterval)}();case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__resetMelodyEnterTrap__",value:function(){this.mapTrapsHasAnyData("melodyEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetMelodyLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("melodyLeave").forEach(function(e){return e.data.reset({leave:function(n){return t.__invokeTrap__(e,n)}})})}},{key:"__runMelodyEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("melodyEnter").forEach(function(e){return e.data.find({enter:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__runMelodyLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("melodyLeave").forEach(function(e){return e.data.find({leave:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__updateMusicMap__",value:function(t){var e=this;this.player.musicMap.melodies=t.melodies,this.player.musicMap.melodies.forEach(function(t){t.prev=e.player.musicMap.melodies[t.index-1]||null,t.next=e.player.musicMap.melodies[t.index+1]||null})}},{key:"dispatcherName",get:function(){return e.Name}}],[{key:"Name",get:function(){return"sw-plugin-melody"}},{key:"MelodyEnterTrapName",get:function(){return"melodyEnter"}},{key:"MelodyLeaveTrapName",get:function(){return"melodyLeave"}}]),e}(c.default),d=h;e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(195),s=r(u),l=n(135),c=r(l),f=n(132),p=r(f),h=n(232),d=r(h),_=n(7),v=r(_),y=256,g=30,m="#e17",b="#222",k=256,w=40,S="#999",x="#eee",P="#f84",T="#48f",E="#e17",O="songle-api-plugin-songle-widget",M=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.__element__=t.element,n.__responsive__=null!=t.responsive&&t.responsive,n.__showController__=null==t.showController||t.showController,n.__showOriginalSiteLink__=null==t.showOriginalSiteLink||t.showOriginalSiteLink,n.__showMusicMap__=null==t.showMusicMap||t.showMusicMap,n.__showSongleJpSiteLink__=null==t.showSongleJpSiteLink||t.showSongleJpSiteLink,n.__controllerWidth__=null!=t.controllerWidth?t.controllerWidth:y,n.__controllerHeight__=null!=t.controllerHeight?t.controllerHeight:g,n.__controllerMouseEnterColor__=null!=t.controllerMouseEnterColor?t.controllerMouseEnterColor:m,n.__controllerMouseLeaveColor__=null!=t.controllerMouseLeaveColor?t.controllerMouseLeaveColor:b,n.__language__=null!=t.language?t.language:v.default.language,n.__musicMapWidth__=null!=t.musicMapWidth?t.musicMapWidth:k,n.__musicMapHeight__=null!=t.musicMapHeight?t.musicMapHeight:w,n.__musicMapOuterBackgroundColor__=null!=t.musicMapOuterBackgroundColor?t.musicMapOuterBackgroundColor:S,n.__musicMapInnerBackgroundColor__=null!=t.musicMapInnerBackgroundColor?t.musicMapInnerBackgroundColor:x,n.__musicMapChorusSectionColor__=null!=t.musicMapChorusSectionColor?t.musicMapChorusSectionColor:P,n.__musicMapRepeatSectionColor__=null!=t.musicMapRepeatSectionColor?t.musicMapRepeatSectionColor:T,n.__musicMapCursorColor__=null!=t.musicMapCursorColor?t.musicMapCursorColor:E,n.__className__=O+"-"+String(Math.random().toString(36).slice(-4)),n.__readyTrap__=function(t){return n.render()},n.__playTrap__=function(t){},n.__pauseTrap__=function(t){},n.__seekTrap__=function(t){},n.__resizeTrap__=function(t){n.__responsive__&&null!=n.element&&n.__updateSize__({width:n.element.offsetWidth,height:n.element.offsetHeight})&&n.render()},n.__scrollTrap__=function(t){n.__responsive__&&null!=n.element&&n.__updateSize__({width:n.element.offsetWidth,height:n.element.offsetHeight})&&n.render()},n.__responsive__&&null!=n.element&&(t.width=n.element.offsetWidth,t.height=n.element.offsetHeight),n.__updateSize__(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,null,[{key:"Name",get:function(){return O}}]),a(e,[{key:"initialize",value:function(){var t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),this.player.on("ready",this.__readyTrap__),this.player.on("play",this.__playTrap__),this.player.on("pause",this.__pauseTrap__),this.player.on("seek",this.__seekTrap__),window.addEventListener("resize",this.__resizeTrap__,!1),window.addEventListener("scroll",this.__scrollTrap__,!1);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(this.__musicMapAnimationIntervalId__),window.removeEventListener("resize",this.__resizeTrap__,!1),window.removeEventListener("scroll",this.__scrollTrap__,!1),this.player.off("ready",this.__readyTrap__),this.player.off("play",this.__playTrap__),this.player.off("pause",this.__pauseTrap__),this.player.off("seek",this.__seekTrap__),this.__removeRenderedElement__(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=document.createElement("div");clearInterval(this.__musicMapAnimationIntervalId__),t.className=this.__className__,t.style.lineHeight="normal",t.style.fontSize="10.5px",this.__showController__&&t.appendChild(this.__createControllerElement__({width:this.__controllerWidth__,height:this.__controllerHeight__,mouseEnterColor:this.__controllerMouseEnterColor__,mouseLeaveColor:this.__controllerMouseLeaveColor__})),this.__showOriginalSiteLink__&&t.appendChild(this.__createOriginalSiteLinkElement__({width:this.__musicMapWidth__,height:15})),this.__showMusicMap__&&t.appendChild(this.__createMusicMapElement__({width:this.__musicMapWidth__,height:this.__musicMapHeight__})),this.__showSongleJpSiteLink__&&t.appendChild(this.__createSongleJpSiteLinkElement__({width:this.__musicMapWidth__,height:15})),this.__removeRenderedElement__(),this.element&&this.element.appendChild(t)}},{key:"__removeRenderedElement__",value:function(){document.querySelectorAll("[class="+String(this.__className__)+"]").forEach(function(t){t.remove()})}},{key:"__createControllerElement__",value:function(t){var e=document.createElement("div");e.style.display="block",e.style.overflow="hidden",e.style.width=t.width+"px",e.style.height=t.height+"px";var n=document.createElement("div");n.style.display="block",n.style.overflow="hidden",n.style.float="left",n.style.width=t.height+"px",n.style.height=t.height+"px";var r=this.__createPlayButtonElement__({size:t.height,mouseEnterColor:t.mouseEnterColor,mouseLeaveColor:t.mouseLeaveColor}),o=this.__createStopButtonElement__({size:t.height,mouseEnterColor:t.mouseEnterColor,mouseLeaveColor:t.mouseLeaveColor});n.appendChild(r),n.appendChild(o);var i=document.createElement("div");i.style.display="block",i.style.overflow="hidden",i.style.float="left",i.style.width=t.width-t.height+"px",i.style.height=t.height+"px";var a=document.createElement("a");a.href=String(v.default.defaultAppServerEndpoint)+"/redirect_to/songlejp_song_site?url="+String(encodeURIComponent(this.player.media.sourceUrl)),a.target="_blank",a.style.display="block",a.style.overflow="hidden",a.style.paddingLeft="8px",a.style.textOverflow="ellipsis",a.style.width=t.width-t.height+"px",a.style.height=t.height/2+"px",a.textContent=this.player.media.name;var u=document.createElement("a");return u.href=String(v.default.defaultAppServerEndpoint)+"/redirect_to/songlejp_song_site?url="+String(encodeURIComponent(this.player.media.sourceUrl)),u.target="_blank",u.style.display="block",u.style.overflow="hidden",u.style.paddingLeft="8px",u.style.textOverflow="ellipsis",u.style.width=t.width-t.height+"px",u.style.height=t.height/2+"px",u.textContent=this.player.media.artistName,i.appendChild(a),i.appendChild(u),e.appendChild(n),e.appendChild(i),e}},{key:"__createOriginalSiteLinkElement__",value:function(t){var e=document.createElement("div");e.style.display="block",e.style.overflow="hidden",e.style.width=t.width+"px",e.style.height=t.height+"px";var n=document.createElement("a");switch(n.href=String(v.default.defaultAppServerEndpoint)+"/redirect_to/original_song_site?url="+String(encodeURIComponent(this.player.media.sourceUrl)),n.target="_blank",n.style.display="block",n.style.overflow="hidden",n.style.float="left",n.style.margin="0px 2px",n.style.textOverflow="ellipsis",n.style.textAlign="left",n.style.width=t.width/2-4+"px",n.style.height=t.height-0+"px",this.__language__){case"ja":case"en":default:n.textContent=""}e.appendChild(n);var r=document.createElement("a");switch(r.href=String(v.default.defaultAppServerEndpoint)+"/redirect_to/original_song_site?url="+String(encodeURIComponent(this.player.media.sourceUrl)),r.target="_blank",r.style.display="block",r.style.overflow="hidden",r.style.float="left",r.style.margin="0px 2px",r.style.textOverflow="ellipsis",r.style.textAlign="right",r.style.width=t.width/2-4+"px",r.style.height=t.height-0+"px",this.__language__){case"ja":r.textContent="この配信サイトへ";break;case"en":default:r.textContent="Original site"}return e.appendChild(r),e}},{key:"__createMusicMapElement__",value:function(t){var e=this,n=document.createElement("div");if(null==this.player.musicMap.chorusSections||null==this.player.musicMap.repeatSections)return p.default.warn("'Songle.Player' do NOT have a chorus information. Please install the chorus plugin using 'Songle.Plugin.Chorus'"),n;n.style.width=t.width+"px",n.style.height=t.height+"px";var r=d.default.createSVGElement({width:t.width,height:t.height}),o=t.width-4,i=(t.height-4-6+1)/6,a=0;r.appendChild(d.default.createRectElement({x:0,y:0,width:t.width,height:t.height,fill:"none",stroke:this.__musicMapOuterBackgroundColor__})),r.addEventListener("click",function(t){e.player.seekTo(a||t.offsetX/o*e.player.duration),v.default.stringIsBlank(e.player.accessToken)&&v.default.stringIsBlank(e.player.secretToken)&&e.player.play()});for(var u=0;u<6;++u)!function(t){var n=(i+1)*t+1+1;r.appendChild(d.default.createRectElement({x:2,y:n,width:o,height:i,fill:e.__musicMapInnerBackgroundColor__,stroke:"none"}));var u=e.player.musicMap.repeatSections[t];if(!u)return"continue";u.repeats.forEach(function(t){var s=t.start/e.player.duration*o+2,l=n,c=t.duration/e.player.duration*o,f=i,p=d.default.createRectElement({x:s,y:l,width:c,height:f,fill:u.isChorus?e.__musicMapChorusSectionColor__:e.__musicMapRepeatSectionColor__,stroke:"none"});p.style.cursor="pointer",p.addEventListener("mouseenter",function(){a=t.start,p.style.opacity=.75}),p.addEventListener("mouseleave",function(){a=0,p.style.opacity=1}),r.appendChild(p)})}(u);var s=d.default.createRectElement({x:0,y:0,width:1,height:t.height,fill:"none",stroke:this.__musicMapCursorColor__});return this.__musicMapAnimationIntervalId__=setInterval(function(){s.setAttribute("x",t.width*(e.player.position/e.player.duration))},1e3),r.appendChild(s),n.appendChild(r),n}},{key:"__createPlayButtonElement__",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!=e.size?e.size:30,r=null!=e.mouseEnterColor?e.mouseEnterColor:m,o=null!=e.mouseLeaveColor?e.mouseLeaveColor:b,i=null!=e.strokeWidth?e.strokeWidth:2,a=document.createElement("div");a.style.cursor="pointer",a.style.width=n+"px",a.style.height=n+"px",this.player.isPlaying?a.style.display="none":a.style.display="block";var u=d.default.createSVGElement({width:n,height:n}),s=d.default.createGroupElement({fill:o,stroke:o,strokeWidth:i}),l=1*(n/2-i),c=l+i,f=l+i,p=d.default.createCircleElement({cx:c,cy:f,r:l,fill:"none"}),h=.5*(n/2-i),_=1*h/1.41,v=c+Math.cos(3.14/180*135)*h+(h-_),y=f-Math.sin(3.14/180*135)*h,g=c+Math.cos(0)*_,k=f-Math.sin(0)*_,w=c+Math.cos(3.14/180*225)*h+(h-_),S=f-Math.sin(3.14/180*225)*h,x=d.default.createPolygonElement({points:[v,y,g,k,w,S]});return u.appendChild(s),s.appendChild(p),s.appendChild(x),a.appendChild(u),a.addEventListener("click",function(e){t.player.play()}),a.addEventListener("mouseenter",function(t){s.setAttribute("fill",r),s.setAttribute("stroke",r)}),a.addEventListener("mouseleave",function(t){s.setAttribute("fill",o),s.setAttribute("stroke",o)}),this.player.on("play",function(t){a.style.display="none"}),this.player.on("pause",function(t){a.style.display="block"}),a}},{key:"__createStopButtonElement__",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!=e.size?e.size:30,r=null!=e.mouseEnterColor?e.mouseEnterColor:m,o=null!=e.mouseLeaveColor?e.mouseLeaveColor:b,i=null!=e.strokeWidth?e.strokeWidth:2,a=document.createElement("div");a.style.cursor="pointer",a.style.width=n+"px",a.style.height=n+"px",this.player.isPlaying?a.style.display="block":a.style.display="none";var u=d.default.createSVGElement({width:n,height:n}),s=d.default.createGroupElement({fill:o,stroke:o,strokeWidth:i}),l=1*(n/2-i),c=l+i,f=l+i,p=d.default.createCircleElement({cx:c,cy:f,r:l,fill:"none"}),h=.5*(n/2-i),_=c+Math.cos(3.14/180*135)*h,v=f-Math.sin(3.14/180*135)*h,y=_+.5*Math.abs(_-c),g=v,k=c+Math.cos(3.14/180*225)*h,w=f-Math.sin(3.14/180*225)*h,S=k+.5*Math.abs(_-c),x=w,P=d.default.createPolygonElement({points:[_,v,y,g,S,x,k,w]}),T=c+Math.cos(3.14/180*45)*h,E=f-Math.sin(3.14/180*45)*h,O=T-.5*Math.abs(T-c),M=E,C=c+Math.cos(3.14/180*315)*h,j=f-Math.sin(3.14/180*315)*h,F=C-.5*Math.abs(C-c),I=j,A=d.default.createPolygonElement({points:[O,M,T,E,C,j,F,I]});return u.appendChild(s),s.appendChild(p),s.appendChild(P),s.appendChild(A),a.appendChild(u),a.addEventListener("click",function(e){t.player.pause()}),a.addEventListener("mouseenter",function(t){s.setAttribute("stroke",r),s.setAttribute("fill",r)}),a.addEventListener("mouseleave",function(t){s.setAttribute("stroke",o),s.setAttribute("fill",o)}),this.player.on("play",function(t){a.style.display="block"}),this.player.on("pause",function(t){a.style.display="none"}),a}},{key:"__createSongleJpSiteLinkElement__",value:function(t){var e=document.createElement("div");e.style.display="block",e.style.overflow="hidden",e.style.width=t.width+"px",e.style.height=t.height+"px";var n=document.createElement("a");switch(n.href=String(v.default.defaultAppServerEndpoint)+"/redirect_to/songlejp_song_site?url="+String(encodeURIComponent(this.player.media.sourceUrl)),n.target="_blank",n.style.display="block",n.style.overflow="hidden",n.style.float="left",n.style.margin="0px 2px",n.style.textOverflow="ellipsis",n.style.textAlign="left",n.style.width=t.width/2-4+"px",n.style.height=t.height-0+"px",this.__language__){case"ja":n.textContent="Songleでサビ訂正";break;case"en":default:n.textContent="Annotate this song"}e.appendChild(n);var r=document.createElement("a");switch(r.href=""+String(v.default.defaultAppServerEndpoint),r.target="_blank",r.style.display="block",r.style.overflow="hidden",r.style.float="left",r.style.margin="0px 2px",r.style.textOverflow="ellipsis",r.style.textAlign="right",r.style.width=t.width/2-4+"px",r.style.height=t.height-0+"px",this.__language__){case"ja":case"en":default:r.textContent="Powered by Songle API"}return e.appendChild(r),e}},{key:"__updateSize__",value:function(t){var e=!1;if(null!=t.width){if(t.width<20)return p.default.warn("Songle Widget is too small. Please check 'Songle.Plugin.SongleWidget' options"),!1;this.__controllerWidth__!=t.width&&(this.__controllerWidth__=t.width,e=!0),this.__musicMapWidth__!=t.width&&(this.__musicMapWidth__=t.width,e=!0)}if(null!=t.height){if(this.__showController__&&(t.height-=this.__controllerHeight__),this.__showOriginalSiteLink__&&(t.height-=15),this.__showSongleJpSiteLink__&&(t.height-=15),t.height<20)return p.default.warn("Songle Widget is too small. Please check 'Songle.Plugin.SongleWidget' options"),!1;this.__musicMapHeight__!=t.height&&(this.__musicMapHeight__=t.height,e=!0)}return e}},{key:"dispatcherName",get:function(){return O}},{key:"element",get:function(){return c.default.querySelector(this.__element__)}}]),e}(s.default),C=M;e.default=C},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(222),u=(r(a),n(141)),s=r(u),l=n(223),c=r(l),f=n(237),p=r(f),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.__groupCount__=null!=t.groupCount?t.groupCount:2,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"Name",get:function(){return"sw-plugin-variation"}},{key:"VariationEnterTrapName",get:function(){return"variationEnter"}},{key:"VariationLeaveTrapName",get:function(){return"variationLeave"}}]),i(e,[{key:"initialize",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}}(regeneratorRuntime.mark(function t(n){var r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,n),t.t0=this,t.next=4,s.default.MusicMap.getSongVariation(n,{endpointProtocol:this.endpointProtocol,endpointHost:this.endpointHost,endpointPath:this.endpointPath,groupCount:this.__groupCount__});case 4:t.t1=t.sent,t.t0.__updateMusicMap__.call(t.t0,t.t1),this.on(["play","pause","mediaSeek","seek"],function(t){r.__resetVariationLeaveTrap__(),r.__resetVariationEnterTrap__()}),function t(){r.mapTrapsHasNotData(["variationEnter","variationLeave"]).forEach(function(t){return t.data=new p.default(r.player)}),setTimeout(function(){r.player.isPlaying&&(r.__runVariationLeaveTrap__(),r.__runVariationEnterTrap__()),t()},r.pollingInterval)}();case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"__resetVariationEnterTrap__",value:function(){this.mapTrapsHasAnyData("variationEnter").forEach(function(t){return t.data.reset()})}},{key:"__resetVariationLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("variationLeave").forEach(function(e){return e.data.reset({leave:function(n){return t.__invokeTrap__(e,n)}})})}},{key:"__runVariationEnterTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("variationEnter").forEach(function(e){return e.data.find({enter:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__runVariationLeaveTrap__",value:function(){var t=this;this.mapTrapsHasAnyData("variationLeave").forEach(function(e){return e.data.find({leave:function(n){return t.__invokeTrap__(e,n)}},{offset:e.options.offset+t.offset})})}},{key:"__updateMusicMap__",value:function(t){var e=this;this.player.musicMap.variations=t.variations,this.player.musicMap.variations.forEach(function(t){t.prev=e.player.musicMap.variations[t.index-1]||null,t.next=e.player.musicMap.variations[t.index+1]||null})}},{key:"dispatcherName",get:function(){return e.Name}}]),e}(c.default),d=h;e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(133),i=r(o),a=n(241),u=r(a),s=n(242),l=(r(s),n(134)),c=r(l),f=n(195),p=r(f),h=n(219),d=r(h),_=n(196),v=r(_),y=n(197),g=r(y),m=n(198),b=r(m),k=n(243),w=r(k),S=n(244),x=r(S),P=n(246),T=r(P),E=n(245),O=r(E),M=n(248),C=r(M),j=n(231),F=r(j),I=n(247),A=r(I),N=n(132),L=(r(N),n(7)),R=r(L),B=n(141),D=(r(B),{Player:i.default,SyncPlayer:u.default,Media:{SuperClass:c.default,Headless:d.default,HTMLMediaElement:v.default,NNVideo:g.default,YTVideo:b.default},Plugin:{SuperClass:p.default,Beat:w.default,Chord:x.default,Melody:T.default,Chorus:O.default,Variation:C.default,SongleSync:F.default,SongleWidget:A.default},System:R.default}),W=20;R.default.global.SW=R.default.global.SW||D,R.default.global.Songle=R.default.global.Songle||D,R.default.showDebugLog=!1,R.default.showErrorLog=!0,R.default.showLicense=!0,function t(){setTimeout(function(){R.default.global.SWAPIReady||W<=0||(W--,R.default.global.onSongleWidgetAPIReady&&(R.default.global.onSongleWidgetAPIReady(D),R.default.global.SWAPIReady=!0),R.default.global.onSongleAPIReady&&(R.default.global.onSongleAPIReady(D),R.default.global.SWAPIReady=!0),t())},500)}(),e.default=D}])},function(t,e,n){"use strict";t.exports={XMLHttpRequest:window.XMLHttpRequest,XMLHttpRequestUpload:window.XMLHttpRequestUpload,FormData:window.FormData}},function(t,e,n){"use strict";n.r(e);const r=n(0);var o=class{constructor(t,e=0,n=0,o=3,i=1,a="#f08080",u="#808080"){this.svg=r(t),this.x=e,this.y=n,this.dy=o,this.scale=i,this.upColor=a,this.downColor=u,this.flower=this.svg.path("M 72.00,167.55 C 67.06, 169.55 53.05, 173.24 48.00, 172.90  48.00, 172.90 40.00, 171.32 40.00, 171.32  40.00, 171.32 34.00, 170.69 34.00, 170.69  29.42, 169.52 28.03, 166.04 23.00, 163.63  17.74, 161.11 11.24, 159.53 7.33, 154.82  3.49, 150.19 7.17, 140.49 7.83, 135.00  9.41, 121.95 18.30, 103.30 30.00, 96.53  37.68, 92.09 52.12, 90.11 61.00, 90.00  71.43, 89.88 70.99, 90.64 80.00, 91.55  81.78, 91.74 84.86, 91.91 85.66, 89.78  86.58, 87.34 82.62, 85.22 81.00, 84.20  72.41, 78.83 70.62, 77.22 64.33, 69.00  62.70, 66.86 59.59, 62.45 58.72, 60.00  54.39, 47.70 64.20, 32.37 69.68, 22.00  72.11, 17.41 75.02, 8.75 80.04, 6.74  84.25, 5.06 94.45, 7.57 99.00, 8.49  106.26, 9.94 117.96, 9.72 123.90, 14.50  128.65, 18.32 131.70, 29.09 133.27, 35.00  133.27, 35.00 138.50, 57.00 138.50, 57.00  139.01, 59.19 140.12, 63.94 142.29, 64.97  145.81, 66.66 152.21, 57.45 154.20, 55.00  161.43, 46.09 175.90, 28.49 188.00, 27.65  188.00, 27.65 229.00, 34.83 229.00, 34.83  232.69, 35.23 240.68, 34.89 242.94, 38.51  244.17, 40.48 243.10, 43.04 242.38, 45.00  242.38, 45.00 237.30, 59.00 237.30, 59.00  235.36, 65.86 234.70, 75.80 231.47, 82.00  225.03, 94.37 206.01, 101.37 193.00, 104.00  193.00, 104.00 193.00, 106.00 193.00, 106.00  200.19, 108.39 201.40, 108.08 208.00, 109.52  211.79, 110.34 230.14, 117.03 233.00, 118.88  235.94, 120.77 239.33, 124.27 241.53, 127.00  250.24, 137.78 248.17, 154.71 248.00, 168.00  247.95, 171.21 247.89, 174.91 245.35, 177.27  245.35, 177.27 232.00, 183.73 232.00, 183.73  222.58, 188.18 213.68, 193.98 203.00, 194.81  186.98, 196.06 169.94, 169.36 157.00, 166.00  157.00, 166.00 158.21, 179.00 158.21, 179.00  158.93, 184.04 159.91, 183.33 160.00, 190.00  160.00, 190.00 160.00, 206.00 160.00, 206.00  159.93, 211.56 158.57, 219.39 155.35, 224.00  148.64, 233.59 133.00, 240.20 122.00, 243.28  118.82, 244.18 114.28, 246.33 111.04, 245.65  106.76, 244.75 102.22, 237.30 98.91, 234.18  98.91, 234.18 90.00, 227.62 90.00, 227.62  83.27, 222.23 76.07, 213.62 74.14, 205.00  72.64, 198.31 76.20, 184.85 79.41, 179.00  83.40, 171.74 88.25, 168.20 90.00, 159.00  83.49, 160.86 78.25, 165.01 72.00, 167.55 Z"),this.bbox=this.flower.getBBox(),this.size=this.bbox.width>this.bbox.height?this.bbox.width:this.bbox.height,this.size*=this.scale,this.flowerScale=this.svg.g(this.flower),this.flowerTranslate=this.svg.g(this.flowerScale),this.flowerScale.transform("scale("+this.scale+","+this.scale+")"),this.flowerTranslate.transform("translate("+this.x+","+this.y+")"),this.setDownColor()}setUpColor(){this.flower.attr({fill:this.upColor})}setDownColor(){this.flower.attr({fill:this.downColor})}setTranslate(t,e){this.flowerTranslate.transform("translate("+t+","+e+")")}up(){this.flower.attr({transform:this.flower.matrix.rotate(-2,this.bbox.cx,this.bbox.cy)}),this.flowerTranslate.attr({transform:this.flowerTranslate.matrix.translate(0,-1*this.dy)})}down(){this.flower.attr({transform:this.flower.matrix.rotate(2,this.bbox.cx,this.bbox.cy)}),this.flowerTranslate.attr({transform:this.flowerTranslate.matrix.translate(0,this.dy)})}};n(1);document.addEventListener("DOMContentLoaded",()=>{const t=new Songle.Player({mediaElement:"#songle"});t.useMedia("www.nicovideo.jp%2Fwatch%2Fsm15335938",{videoSizeW:"100%",videoSizeH:"100%"});const e=document.getElementById("songle"),n=document.getElementById("check");n.addEventListener("change",t=>{t.target.checked?e.style.zIndex=1:e.style.zIndex=-1});const r=document.createElementNS("http://www.w3.org/2000/svg","svg");let s=window.innerWidth,l=window.innerHeight,c=[];r.setAttribute("id","svg"),r.setAttribute("preserveAspectRatio","xMinYMin meet"),r.setAttribute("viewBox",`0 0 ${s} ${l}`),r.setAttribute("x","0px"),r.setAttribute("y","0px"),r.setAttribute("width",`${s}px`),r.setAttribute("height",`${l}px`),r.setAttribute("style",[`width: ${s}px;`,`height: ${l}px;`].join(" ")),document.body.appendChild(r),r.addEventListener("click",t=>{s/4<t.clientX&&t.clientX<s/4*3&&l/4<t.clientY&&t.clientY<l/4*3?(e.style.zIndex=1,n.checked=!0):(e.style.zIndex=-1,n.checked=!1)}),window.addEventListener("resize",()=>{s=window.innerWidth,l=window.innerHeight,r.setAttribute("viewBox",`0 0 ${s} ${l}`),r.setAttribute("width",`${s}px`),r.setAttribute("height",`${l}px`),r.setAttribute("style",[`width: ${s}px;`,`height: ${l}px;`].join(" ")),c.forEach(t=>{t.flower.remove()}),c=[],p()});let f="STOP";t.on("play",t=>{console.log("play",t),f="DOWN",c.forEach(t=>{t.setDownColor()})}),t.on("seek",t=>{console.log("seek")}),t.on("pause",t=>{console.log("pause"),f="STOP"}),t.on("finish",t=>{f="STOP"}),t.addPlugin(new Songle.Plugin.Chorus({revisionId:1537048})),t.on("chorusSectionEnter",t=>{-1!==[1,3,4].indexOf(t.data.sectionItem.index)&&(f="STOP")},{offset:-1e3}),t.on("chorusSectionEnter",t=>{-1!==[1,2,3,4,5,6,7].indexOf(t.data.sectionItem.index)&&(f="UP",c.forEach(t=>{t.setUpColor()}))},{offset:500}),t.on("chorusSectionEnter",t=>{0===t.data.sectionItem.index&&(f="DOWN",c.forEach(t=>{t.setDownColor()}))},{offset:0}),t.on("repeatSectionEnter",t=>{2===t.data.section.index&&t.data.sectionItem.index>0&&(f="UP",c.forEach(t=>{t.setUpColor()}))}),t.on("repeatSectionLeave",t=>{2===t.data.section.index&&t.data.sectionItem.index<=2&&(f="DOWN",c.forEach(t=>{t.setDownColor()}))});const p=()=>{let t=Math.floor(100/2304e3*(s*l)),e=Math.floor(150/2304e3*(s*l)),n=Math.floor(5/2304e3*(s*l));for(var r=0;r<t;r++){let t=new o("#svg",i(0,s-30),i(-30,l/3*4),i(3,5),.1,a(),u());c.push(t)}for(r=0;r<e;r++){let t=new o("#svg",i(0,s-90),i(-90,l/3*4),i(2,7),.3,a(),u());c.push(t)}for(r=0;r<n;r++){let t=new o("#svg",i(0,s-240),i(-240,l/3*4),i(4,8),.8,a(),u());c.push(t)}};p(),setInterval(()=>{"UP"==f?c.forEach(t=>{t.up(),t.flowerTranslate.matrix.split().dy<-1*t.size&&t.setTranslate(i(0,s-t.size),i(l,4*l/3))}):"STOP"==f||"DOWN"==f&&c.forEach(t=>{t.down(),t.flowerTranslate.matrix.split().dy>l+t.size&&t.setTranslate(i(0,s-t.size),i(-1*l*1/3,-1*t.size))})},1e3/15)});const i=(t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t),a=()=>{const t=["#e55faf","#fa6366","#e02f6e","#f8e4ee","#f8d2c8"];return t[Math.floor(Math.random()*t.length)]},u=()=>{const t=["#8a8c8c","#e7e7e7","#b6b6b6"];return t[Math.floor(Math.random()*t.length)]}}]);